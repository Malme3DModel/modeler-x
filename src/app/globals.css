@tailwind base;
@tailwind components;
@tailwind utilities;

/* === ベースのボディスタイル === */
body {
  margin: 0;
  padding: 0;
  overflow: hidden;
}

/* === Three.js ビューポートスタイル === */
[data-panel-type="viewport"] {
  pointer-events: auto !important;
}

[data-panel-type="viewport"] canvas {
  pointer-events: auto !important;
  touch-action: none !important;
  z-index: 10;
}

[data-panel-type="viewport"] > div,
[data-panel-type="viewport"] > div > div {
  pointer-events: auto !important;
}

.threejs-viewport-container {
  position: relative;
  width: 100%;
  height: 100%;
  pointer-events: auto !important;
}

/* OrbitControlsが機能するためのスタイル */
canvas {
  outline: none;
  pointer-events: auto !important;
  touch-action: none !important;
}

/* === Monaco Editor スタイル（CSS変数使用） === */
.monaco-editor {
  background-color: var(--monaco-editor-background) !important;
}

/* === TweakPane スタイル（CSS変数使用） === */
.gui-panel {
  position: absolute;
  right: 0;
  max-height: 100%;
  overflow-y: auto;
}

.tp-rotv {
  text-shadow: 1px 1px var(--color-shadow-text);
}

.tp-rotv button {
  text-shadow: inherit;
}

/* === Golden Layout関連は削除（Dockviewに移行済み） === */

/* === Dockview テーマ（CSS変数使用） === */
.dockview-theme-modeler {
  --dv-group-view-background-color: var(--dv-modeler-group-view-background-color);
  --dv-paneview-header-background-color: var(--dv-modeler-paneview-header-background-color);
  --dv-tabs-container-background-color: var(--dv-modeler-tabs-container-background-color);
  --dv-tabs-and-actions-container-background-color: var(--dv-modeler-tabs-and-actions-container-background-color);
  --dv-tab-background-color: var(--dv-modeler-tab-background-color);
  --dv-tab-active-background-color: var(--dv-modeler-tab-active-background-color);
  --dv-tab-color: var(--dv-modeler-tab-color);
  --dv-tab-active-color: var(--dv-modeler-tab-active-color);
  --dv-tab-hover-background-color: var(--dv-modeler-tab-hover-background-color);
  --dv-tab-active-border-color: var(--dv-modeler-tab-active-border-color);
  --dv-separator-border: var(--dv-modeler-separator-border);
  --dv-paneview-header-border: transparent;
  --dv-activegroup-visiblepanel-tab-background-color: var(--dv-modeler-activegroup-visiblepanel-tab-background-color);
  --dv-group-header-background-color: var(--dv-modeler-group-header-background-color);
  --dv-group-header-border: transparent;
  --dv-drag-over-background-color: var(--dv-modeler-drag-over-background-color);
  --dv-floating-box-shadow: var(--dv-modeler-floating-box-shadow);
  font-family: var(--dv-modeler-font-family);
}

/* 既存のダークテーマも維持（後方互換性） */
.dockview-theme-dark {
  --dv-group-view-background-color: var(--dv-modeler-group-view-background-color);
  --dv-paneview-header-background-color: var(--dv-dark-header-background);
  --dv-tabs-container-background-color: var(--dv-dark-tab-container);
  --dv-tabs-and-actions-container-background-color: var(--dv-dark-tab-container);
  --dv-tab-background-color: var(--dv-dark-tab-background);
  --dv-tab-active-background-color: var(--dv-modeler-group-view-background-color);
  --dv-tab-color: var(--dv-dark-text-gray);
  --dv-tab-active-color: var(--dv-dark-text-white);
  --dv-tab-hover-background-color: var(--dv-dark-tab-hover-alt);
  --dv-tab-active-border-color: var(--color-accent-link);
  --dv-separator-border: var(--dv-dark-separator);
  --dv-paneview-header-border: transparent;
  --dv-activegroup-visiblepanel-tab-background-color: var(--dv-modeler-group-view-background-color);
  --dv-group-header-background-color: var(--dv-dark-header-background);
  --dv-group-header-border: transparent;
  --dv-drag-over-background-color: rgba(38, 119, 203, 0.18);
  --dv-floating-box-shadow: 0 8px 16px rgba(0, 0, 0, 0.45);
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
}

/* タブのスタイル調整 */
.dockview-theme-modeler .tab,
.dockview-theme-dark .tab {
  font-size: 13px;
  padding: 0 12px;
}

/* パネルヘッダーのスタイル */
.dockview-theme-modeler .pane-header,
.dockview-theme-dark .pane-header {
  height: 35px;
  font-size: 13px;
}

/* スプリッターのスタイル */
.dockview-theme-modeler .split-view-view-separator,
.dockview-theme-dark .split-view-view-separator {
  background: var(--dv-separator-border);
}

.dockview-theme-modeler .split-view-view-separator:hover {
  background: var(--dv-modeler-tab-active-border-color);
}

.dockview-theme-dark .split-view-view-separator:hover {
  background: var(--color-accent-link);
}

/* パネルコンテンツ領域 */
.dockview-theme-modeler .view-content,
.dockview-theme-dark .view-content {
  background: var(--dv-group-view-background-color);
  overflow: hidden;
}
