# Modeler X → VS Code様式への変更計画

## 概要
現在のModeler Xアプリケーションを、VS Codeのような統合開発環境（IDE）の様式に変更する計画書です。

## 現在の構成
- ヘッダー（XModeler X ブランディング + Save/Load/Export ボタン）
- Monaco Editor（左側全体）
- CAD View（右側全体）
- ターミナル（下部）
- フッター（ステータス表示）

## 目標の構成（VS Code様式）
```
┌─────────────────────────────────────────────────────────────┐
│ タイトルバー（ファイル名 + 操作ボタン）                      │
├─────────┬───────────────────────────┬─────────────────────────┤
│         │                           │                         │
│ サイド  │     メインエディタ         │      CADビュー         │
│ バー    │   （Monaco Editor）       │    （3Dプレビュー）     │
│         │                           │                         │
│ ・ファイル├───────────────────────────┼─────────────────────────┤
│ ・検索  │                           │                         │
│ ・Git   │        ターミナル         │     プロパティパネル    │
│ ・拡張  │                           │                         │
│         │                           │                         │
├─────────┴───────────────────────────┴─────────────────────────┤
│ ステータスバー（行:列, 言語モード, エラー/警告数）           │
└─────────────────────────────────────────────────────────────┘
```

## 主要な変更点

### 1. レイアウト構造の変更
- **3分割レイアウト**: サイドバー + メインエリア + CADビュー
- **可変幅**: ユーザーがパネル幅を調整可能
- **タブ機能**: 複数ファイルの切り替え

### 2. サイドバーの追加
- **ファイルエクスプローラー**: プロジェクトファイルの階層表示
- **検索パネル**: プロジェクト全体の検索・置換
- **Git統合**: バージョン管理機能
- **拡張機能**: 追加機能の管理

### 3. タイトルバーの改良
- **ファイル名表示**: 現在編集中のファイル名
- **変更状態表示**: 未保存の変更を●で表示
- **ウィンドウ操作**: 最小化・最大化・閉じるボタン

### 4. メインエディタエリア
- **タブ機能**: 複数ファイルの同時編集
- **分割表示**: エディタの水平・垂直分割
- **ブレッドクラム**: ファイルパス表示

### 5. CADビューの改良
- **独立パネル**: サイズ調整可能
- **ツールバー**: 3D操作ツール
- **プロパティパネル**: 選択オブジェクトの詳細

### 6. ターミナルの統合
- **複数ターミナル**: タブ切り替え
- **分割表示**: 複数ターミナルの同時表示
- **ログ出力**: CADエンジンの状態表示

### 7. ステータスバーの強化
- **カーソル位置**: 行:列番号
- **言語モード**: JavaScript/TypeScript
- **エラー/警告数**: リアルタイム表示
- **CADエンジン状態**: Ready/Loading/Error

## 実装フェーズ

### Phase 1: 基本レイアウト
1. 3分割レイアウトの実装
2. リサイザブルパネルの追加
3. 基本的なサイドバー構造

### Phase 2: ファイル管理
1. ファイルエクスプローラーの実装
2. タブ機能の追加
3. ファイルの保存・読み込み機能

### Phase 3: エディタ機能強化
1. 複数ファイル編集
2. 検索・置換機能
3. エディタ分割機能

### Phase 4: CADビュー統合
1. CADビューの独立パネル化
2. プロパティパネルの追加
3. 3D操作ツールの統合

### Phase 5: 高度な機能
1. Git統合
2. 拡張機能システム
3. テーマ・設定機能

## 技術的な考慮事項

### 使用技術
- **React 18+**: コンポーネントベースUI
- **Next.js**: フレームワーク
- **TailwindCSS**: スタイリング
- **Monaco Editor**: コードエディタ
- **React Split Pane**: リサイザブルパネル
- **Zustand/Redux**: 状態管理

### パフォーマンス
- **仮想化**: 大量ファイルの効率的表示
- **遅延読み込み**: 必要なファイルのみ読み込み
- **メモ化**: 不要な再レンダリングの防止

### アクセシビリティ
- **キーボードナビゲーション**: 全機能のキーボード操作
- **スクリーンリーダー対応**: aria属性の適切な設定
- **カラーコントラスト**: WCAG準拠

## 期待される効果

1. **開発効率の向上**: 慣れ親しんだVS Code様式
2. **ファイル管理の改善**: プロジェクト全体の見通し
3. **機能拡張性**: プラグインシステムによる柔軟性
4. **ユーザー体験**: 直感的で使いやすいインターフェース

## 次のステップ

1. 詳細設計書の作成
2. UIコンポーネントの設計
3. 実装スケジュールの策定
4. プロトタイプの開発

---

*作成日: 2024年12月*
*対象: Modeler X アプリケーション* 