(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{333:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});let n=(0,i(9946).A)("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]])},1007:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});let n=(0,i(9946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1364:(e,t,i)=>{"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}i.d(t,{Ay:()=>H});function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach(function(t){var n;n=i[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function a(e){return function t(){for(var i=this,n=arguments.length,s=Array(n),o=0;o<n;o++)s[o]=arguments[o];return s.length>=e.length?e.apply(this,s):function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.apply(i,[].concat(s,n))}}}function l(e){return({}).toString.call(e).includes("Object")}function h(e){return"function"==typeof e}var d=a(function(e,t){throw Error(e[t]||e.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),p={changes:function(e,t){return l(t)||d("changeType"),Object.keys(t).some(function(t){return!Object.prototype.hasOwnProperty.call(e,t)})&&d("changeField"),t},selector:function(e){h(e)||d("selectorType")},handler:function(e){h(e)||l(e)||d("handlerType"),l(e)&&Object.values(e).some(function(e){return!h(e)})&&d("handlersType")},initial:function(e){e||d("initialIsRequired"),l(e)||d("initialType"),Object.keys(e).length||d("initialContent")}};function u(e,t){return h(t)?t(e.current):t}function m(e,t){return e.current=r(r({},e.current),t),t}function c(e,t,i){return h(t)?t(e.current):Object.keys(i).forEach(function(i){var n;return null==(n=t[i])?void 0:n.call(t,e.current[i])}),i}var g={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},v=(function(e){return function t(){for(var i=this,n=arguments.length,s=Array(n),o=0;o<n;o++)s[o]=arguments[o];return s.length>=e.length?e.apply(this,s):function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.apply(i,[].concat(s,n))}}})(function(e,t){throw Error(e[t]||e.default)})(g);let f=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}};var _={type:"cancelation",msg:"operation is manually canceled"};let w=function(e){var t=!1,i=new Promise(function(i,n){e.then(function(e){return t?n(_):i(e)}),e.catch(n)});return i.cancel=function(){return t=!0},i};var b=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],n=!0,s=!1,o=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done)&&(i.push(r.value),i.length!==t);n=!0);}catch(e){s=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(s)throw o}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(({create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p.initial(e),p.handler(t);var i={current:e},n=a(c)(i,t),s=a(m)(i),o=a(p.changes)(e),r=a(u)(i);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return p.selector(e),e(i.current)},function(e){(function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}})(n,s,o,r)(e)}]}}).create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}),2),y=b[0],D=b[1];function C(e){return document.body.appendChild(e)}function x(e){var t,i,n=y(function(e){return{config:e.config,reject:e.reject}}),s=(t="".concat(n.config.paths.vs,"/loader.js"),i=document.createElement("script"),t&&(i.src=t),i);return s.onload=function(){return e()},s.onerror=n.reject,s}function S(){var e=y(function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(t){A(t),e.resolve(t)},function(t){e.reject(t)})}function A(e){y().monaco||D({monaco:e})}var z=new Promise(function(e,t){return D({resolve:e,reject:t})});let E={init:function(){var e=y(function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}});if(!e.isInitialized){if(D({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),w(z);if(window.monaco&&window.monaco.editor)return A(window.monaco),e.resolve(window.monaco),w(z);f(C,x)(S)}return w(z)}};var P=i(2115),k={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},O={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},I=function({children:e}){return P.createElement("div",{style:O.container},e)},T=(0,P.memo)(function({width:e,height:t,isEditorReady:i,loading:n,_ref:s,className:o,wrapperProps:r}){return P.createElement("section",{style:{...k.wrapper,width:e,height:t},...r},!i&&P.createElement(I,null,n),P.createElement("div",{ref:s,style:{...k.fullWidth,...!i&&k.hide},className:o}))}),N=function(e){(0,P.useEffect)(e,[])},M=function(e,t,i=!0){let n=(0,P.useRef)(!0);(0,P.useEffect)(n.current||!i?()=>{n.current=!1}:e,t)};function G(){}function R(e,t,i,n){var s,o,r,a,l,h;return s=e,o=n,s.editor.getModel(V(s,o))||(r=e,a=t,l=i,h=n,r.editor.createModel(a,l,h?V(r,h):void 0))}function V(e,t){return e.Uri.parse(t)}(0,P.memo)(function({original:e,modified:t,language:i,originalLanguage:n,modifiedLanguage:s,originalModelPath:o,modifiedModelPath:r,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:l=!1,theme:h="light",loading:d="Loading...",options:p={},height:u="100%",width:m="100%",className:c,wrapperProps:g={},beforeMount:v=G,onMount:f=G}){let[_,w]=(0,P.useState)(!1),[b,y]=(0,P.useState)(!0),D=(0,P.useRef)(null),C=(0,P.useRef)(null),x=(0,P.useRef)(null),S=(0,P.useRef)(f),A=(0,P.useRef)(v),z=(0,P.useRef)(!1);N(()=>{let e=E.init();return e.then(e=>(C.current=e)&&y(!1)).catch(e=>e?.type!=="cancelation"&&console.error("Monaco initialization: error:",e)),()=>{let t;return D.current?(t=D.current?.getModel(),void(a||t?.original?.dispose(),l||t?.modified?.dispose(),D.current?.dispose())):e.cancel()}}),M(()=>{if(D.current&&C.current){let t=D.current.getOriginalEditor(),s=R(C.current,e||"",n||i||"text",o||"");s!==t.getModel()&&t.setModel(s)}},[o],_),M(()=>{if(D.current&&C.current){let e=D.current.getModifiedEditor(),n=R(C.current,t||"",s||i||"text",r||"");n!==e.getModel()&&e.setModel(n)}},[r],_),M(()=>{let e=D.current.getModifiedEditor();e.getOption(C.current.editor.EditorOption.readOnly)?e.setValue(t||""):t!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),e.pushUndoStop())},[t],_),M(()=>{D.current?.getModel()?.original.setValue(e||"")},[e],_),M(()=>{let{original:e,modified:t}=D.current.getModel();C.current.editor.setModelLanguage(e,n||i||"text"),C.current.editor.setModelLanguage(t,s||i||"text")},[i,n,s],_),M(()=>{C.current?.editor.setTheme(h)},[h],_),M(()=>{D.current?.updateOptions(p)},[p],_);let k=(0,P.useCallback)(()=>{if(!C.current)return;A.current(C.current);let a=R(C.current,e||"",n||i||"text",o||""),l=R(C.current,t||"",s||i||"text",r||"");D.current?.setModel({original:a,modified:l})},[i,t,s,e,n,o,r]),O=(0,P.useCallback)(()=>{!z.current&&x.current&&(D.current=C.current.editor.createDiffEditor(x.current,{automaticLayout:!0,...p}),k(),C.current?.editor.setTheme(h),w(!0),z.current=!0)},[p,h,k]);return(0,P.useEffect)(()=>{_&&S.current(D.current,C.current)},[_]),(0,P.useEffect)(()=>{b||_||O()},[b,_,O]),P.createElement(T,{width:m,height:u,isEditorReady:_,loading:d,_ref:x,className:c,wrapperProps:g})});var L=function(e){let t=(0,P.useRef)();return(0,P.useEffect)(()=>{t.current=e},[e]),t.current},W=new Map,H=(0,P.memo)(function({defaultValue:e,defaultLanguage:t,defaultPath:i,value:n,language:s,path:o,theme:r="light",line:a,loading:l="Loading...",options:h={},overrideServices:d={},saveViewState:p=!0,keepCurrentModel:u=!1,width:m="100%",height:c="100%",className:g,wrapperProps:v={},beforeMount:f=G,onMount:_=G,onChange:w,onValidate:b=G}){let[y,D]=(0,P.useState)(!1),[C,x]=(0,P.useState)(!0),S=(0,P.useRef)(null),A=(0,P.useRef)(null),z=(0,P.useRef)(null),k=(0,P.useRef)(_),O=(0,P.useRef)(f),I=(0,P.useRef)(),V=(0,P.useRef)(n),H=L(o),j=(0,P.useRef)(!1),F=(0,P.useRef)(!1);N(()=>{let e=E.init();return e.then(e=>(S.current=e)&&x(!1)).catch(e=>e?.type!=="cancelation"&&console.error("Monaco initialization: error:",e)),()=>A.current?void(I.current?.dispose(),u?p&&W.set(o,A.current.saveViewState()):A.current.getModel()?.dispose(),A.current.dispose()):e.cancel()}),M(()=>{let r=R(S.current,e||n||"",t||s||"",o||i||"");r!==A.current?.getModel()&&(p&&W.set(H,A.current?.saveViewState()),A.current?.setModel(r),p&&A.current?.restoreViewState(W.get(o)))},[o],y),M(()=>{A.current?.updateOptions(h)},[h],y),M(()=>{A.current&&void 0!==n&&(A.current.getOption(S.current.editor.EditorOption.readOnly)?A.current.setValue(n):n!==A.current.getValue()&&(F.current=!0,A.current.executeEdits("",[{range:A.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),A.current.pushUndoStop(),F.current=!1))},[n],y),M(()=>{let e=A.current?.getModel();e&&s&&S.current?.editor.setModelLanguage(e,s)},[s],y),M(()=>{void 0!==a&&A.current?.revealLine(a)},[a],y),M(()=>{S.current?.editor.setTheme(r)},[r],y);let B=(0,P.useCallback)(()=>{if(!(!z.current||!S.current)&&!j.current){O.current(S.current);let l=o||i,u=R(S.current,n||e||"",t||s||"",l||"");A.current=S.current?.editor.create(z.current,{model:u,automaticLayout:!0,...h},d),p&&A.current.restoreViewState(W.get(l)),S.current.editor.setTheme(r),void 0!==a&&A.current.revealLine(a),D(!0),j.current=!0}},[e,t,i,n,s,o,h,d,p,r,a]);return(0,P.useEffect)(()=>{y&&k.current(A.current,S.current)},[y]),(0,P.useEffect)(()=>{C||y||B()},[C,y,B]),V.current=n,(0,P.useEffect)(()=>{y&&w&&(I.current?.dispose(),I.current=A.current?.onDidChangeModelContent(e=>{F.current||w(A.current.getValue(),e)}))},[y,w]),(0,P.useEffect)(()=>{if(y){let e=S.current.editor.onDidChangeMarkers(e=>{let t=A.current.getModel()?.uri;if(t&&e.find(e=>e.path===t.path)){let e=S.current.editor.getModelMarkers({resource:t});b?.(e)}});return()=>{e?.dispose()}}return()=>{}},[y,b]),P.createElement(T,{width:m,height:c,isEditorReady:y,loading:l,_ref:z,className:g,wrapperProps:v})})},2486:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});let n=(0,i(9946).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},2596:(e,t,i)=>{"use strict";function n(){for(var e,t,i=0,n="",s=arguments.length;i<s;i++)(e=arguments[i])&&(t=function e(t){var i,n,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t)if(Array.isArray(t)){var o=t.length;for(i=0;i<o;i++)t[i]&&(n=e(t[i]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}(e))&&(n&&(n+=" "),n+=t);return n}i.d(t,{$:()=>n})},3885:(e,t,i)=>{"use strict";i.d(t,{UY:()=>tk,Qy:()=>e$});class n{}class s extends n{constructor(e,t,i){super(),this.viewId=e,this.groupId=t,this.panelId=i}}class o extends n{constructor(e,t){super(),this.viewId=e,this.paneId=t}}class r{constructor(){}static getInstance(){return r.INSTANCE}hasData(e){return e&&e===this.proto}clearData(e){this.hasData(e)&&(this.proto=void 0,this.data=void 0)}getData(e){if(this.hasData(e))return this.data}setData(e,t){t&&(this.data=e,this.proto=t)}}function a(){let e=r.getInstance();if(e.hasData(s.prototype))return e.getData(s.prototype)[0]}function l(){let e=r.getInstance();if(e.hasData(o.prototype))return e.getData(o.prototype)[0]}r.INSTANCE=new r,(tp||(tp={})).any=(...e)=>t=>{let i=e.map(e=>e(t));return{dispose:()=>{i.forEach(e=>{e.dispose()})}}};class h{constructor(){this._defaultPrevented=!1}get defaultPrevented(){return this._defaultPrevented}preventDefault(){this._defaultPrevented=!0}}class d{constructor(){this._isAccepted=!1}get isAccepted(){return this._isAccepted}accept(){this._isAccepted=!0}}class p{constructor(){this.events=new Map}get size(){return this.events.size}add(e,t){this.events.set(e,t)}delete(e){this.events.delete(e)}clear(){this.events.clear()}}class u{static create(){var e;return new u(null!=(e=Error().stack)?e:"")}constructor(e){this.value=e}print(){console.warn("dockview: stacktrace",this.value)}}class m{constructor(e,t){this.callback=e,this.stacktrace=t}}class c{static setLeakageMonitorEnabled(e){e!==c.ENABLE_TRACKING&&c.MEMORY_LEAK_WATCHER.clear(),c.ENABLE_TRACKING=e}get value(){return this._last}constructor(e){this.options=e,this._listeners=[],this._disposed=!1}get event(){return!this._event&&(this._event=e=>{var t;(null==(t=this.options)?void 0:t.replay)&&void 0!==this._last&&e(this._last);let i=new m(e,c.ENABLE_TRACKING?u.create():void 0);return this._listeners.push(i),{dispose:()=>{let e=this._listeners.indexOf(i);e>-1?this._listeners.splice(e,1):c.ENABLE_TRACKING}}},c.ENABLE_TRACKING&&c.MEMORY_LEAK_WATCHER.add(this._event,u.create())),this._event}fire(e){var t;for(let i of((null==(t=this.options)?void 0:t.replay)&&(this._last=e),this._listeners))i.callback(e)}dispose(){!this._disposed&&(this._disposed=!0,this._listeners.length>0&&(c.ENABLE_TRACKING&&queueMicrotask(()=>{var e;for(let t of this._listeners)console.warn("dockview: stacktrace",null==(e=t.stacktrace)?void 0:e.print())}),this._listeners=[]),c.ENABLE_TRACKING&&this._event&&c.MEMORY_LEAK_WATCHER.delete(this._event))}}function g(e,t,i,n){return e.addEventListener(t,i,n),{dispose:()=>{e.removeEventListener(t,i,n)}}}c.ENABLE_TRACKING=!1,c.MEMORY_LEAK_WATCHER=new p;class v{constructor(){this._onFired=new c,this._currentFireCount=0,this._queued=!1,this.onEvent=e=>{let t=this._currentFireCount;return this._onFired.event(()=>{this._currentFireCount>t&&e()})}}fire(){this._currentFireCount++,this._queued||(this._queued=!0,queueMicrotask(()=>{this._queued=!1,this._onFired.fire()}))}dispose(){this._onFired.dispose()}}!function(e){e.NONE={dispose:()=>{}},e.from=function(e){return{dispose:()=>{e()}}}}(tu||(tu={}));class f{get isDisposed(){return this._isDisposed}constructor(...e){this._isDisposed=!1,this._disposables=e}addDisposables(...e){e.forEach(e=>this._disposables.push(e))}dispose(){this._isDisposed||(this._isDisposed=!0,this._disposables.forEach(e=>e.dispose()),this._disposables=[])}}class _{constructor(){this._disposable=tu.NONE}set value(e){this._disposable&&this._disposable.dispose(),this._disposable=e}dispose(){this._disposable&&(this._disposable.dispose(),this._disposable=tu.NONE)}}class w extends f{constructor(e){super(),this._onDidChange=new c,this.onDidChange=this._onDidChange.event,this._value=null,this.addDisposables(this._onDidChange,b(e,e=>{let t=e.target.scrollWidth>e.target.clientWidth,i=e.target.scrollHeight>e.target.clientHeight;this._value={hasScrollX:t,hasScrollY:i},this._onDidChange.fire(this._value)}))}}function b(e,t){let i=new ResizeObserver(e=>{requestAnimationFrame(()=>{t(e[0])})});return i.observe(e),{dispose:()=>{i.unobserve(e),i.disconnect()}}}let y=(e,...t)=>{for(let i of t)e.classList.contains(i)&&e.classList.remove(i)},D=(e,...t)=>{for(let i of t)e.classList.contains(i)||e.classList.add(i)},C=(e,t,i)=>{let n=e.classList.contains(t);i&&!n&&e.classList.add(t),!i&&n&&e.classList.remove(t)};function x(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}class S extends f{constructor(e){super(),this._onDidFocus=new c,this.onDidFocus=this._onDidFocus.event,this._onDidBlur=new c,this.onDidBlur=this._onDidBlur.event,this.addDisposables(this._onDidFocus,this._onDidBlur);let t=x(document.activeElement,e),i=!1,n=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},s=()=>{t&&(i=!0,window.setTimeout(()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{x(document.activeElement,e)!==t&&(t?s():n())},this.addDisposables(g(e,"focus",n,!0)),this.addDisposables(g(e,"blur",s,!0))}refreshState(){this._refreshStateHandler()}}let A="dv-quasiPreventDefault";function z(e){let{left:t,top:i,width:n,height:s}=e.getBoundingClientRect();return{left:t+window.scrollX,top:i+window.scrollY,width:n,height:s}}function E(e=document){let t=function(e){let t=[];return!function i(n){if(n.nodeType===Node.ELEMENT_NODE)for(let s of(e.includes(n.tagName)&&t.push(n),n.shadowRoot&&i(n.shadowRoot),n.children))i(s)}(document.documentElement),t}(["IFRAME","WEBVIEW"]),i=new WeakMap;for(let e of t)i.set(e,e.style.pointerEvents),e.style.pointerEvents="none";return{release:()=>{var e;for(let n of t)n.style.pointerEvents=null!=(e=i.get(n))?e:"auto";t.splice(0,t.length)}}}class P{constructor(e){this.element=e,this._classNames=[]}setClassNames(e){for(let e of this._classNames)C(this.element,e,!1);for(let t of(this._classNames=e.split(" ").filter(e=>e.trim().length>0),this._classNames))C(this.element,t,!0)}}function k(e){if(0===e.length)throw Error("Invalid tail call");return[e.slice(0,e.length-1),e[e.length-1]]}function O(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}function I(e,t){let i=e.indexOf(t);i>-1&&(e.splice(i,1),e.unshift(t))}function T(e,t){let i=e.indexOf(t);i>-1&&(e.splice(i,1),e.push(t))}function N(e,t){let i=e.findIndex(e=>e===t);return i>-1&&(e.splice(i,1),!0)}let M=(e,t,i)=>t>i?t:Math.min(i,Math.max(e,t)),G=()=>{let e=1;return{next:()=>(e++).toString()}},R=(e,t)=>{let i=[];if("number"!=typeof t&&(t=e,e=0),e<=t)for(let n=e;n<t;n++)i.push(n);else for(let n=e;n>t;n--)i.push(n);return i};class V{set size(e){this._size=e}get size(){return this._size}get cachedVisibleSize(){return this._cachedVisibleSize}get visible(){return void 0===this._cachedVisibleSize}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}constructor(e,t,i,n){this.container=e,this.view=t,this.disposable=n,this._cachedVisibleSize=void 0,"number"==typeof i?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}setVisible(e,t){var i;e!==this.visible&&(e?(this.size=M(null!=(i=this._cachedVisibleSize)?i:0,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof t?t:this.size,this.size=0),this.container.classList.toggle("visible",e),this.view.setVisible&&this.view.setVisible(e))}dispose(){return this.disposable.dispose(),this.view}}!function(e){e.HORIZONTAL="HORIZONTAL",e.VERTICAL="VERTICAL"}(tm||(tm={})),function(e){e[e.MAXIMUM=0]="MAXIMUM",e[e.MINIMUM=1]="MINIMUM",e[e.DISABLED=2]="DISABLED",e[e.ENABLED=3]="ENABLED"}(tc||(tc={})),function(e){e.Low="low",e.High="high",e.Normal="normal"}(tg||(tg={})),function(e){e.Distribute={type:"distribute"},e.Split=function(e){return{type:"split",index:e}},e.Invisible=function(e){return{type:"invisible",cachedVisibleSize:e}}}(tv||(tv={}));class L{get contentSize(){return this._contentSize}get size(){return this._size}set size(e){this._size=e}get orthogonalSize(){return this._orthogonalSize}set orthogonalSize(e){this._orthogonalSize=e}get length(){return this.viewItems.length}get proportions(){return this._proportions?[...this._proportions]:void 0}get orientation(){return this._orientation}set orientation(e){this._orientation=e;let t=this.size;this.size=this.orthogonalSize,this.orthogonalSize=t,y(this.element,"dv-horizontal","dv-vertical"),this.element.classList.add(this.orientation==tm.HORIZONTAL?"dv-horizontal":"dv-vertical")}get minimumSize(){return this.viewItems.reduce((e,t)=>e+t.minimumSize,0)}get maximumSize(){return 0===this.length?Number.POSITIVE_INFINITY:this.viewItems.reduce((e,t)=>e+t.maximumSize,0)}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}get disabled(){return this._disabled}set disabled(e){this._disabled=e,C(this.element,"dv-splitview-disabled",e)}get margin(){return this._margin}set margin(e){this._margin=e,C(this.element,"dv-splitview-has-margin",0!==e)}constructor(e,t){var i,n;this.container=e,this.viewItems=[],this.sashes=[],this._size=0,this._orthogonalSize=0,this._contentSize=0,this._proportions=void 0,this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this._disabled=!1,this._margin=0,this._onDidSashEnd=new c,this.onDidSashEnd=this._onDidSashEnd.event,this._onDidAddView=new c,this.onDidAddView=this._onDidAddView.event,this._onDidRemoveView=new c,this.onDidRemoveView=this._onDidRemoveView.event,this.resize=(e,t,i=this.viewItems.map(e=>e.size),n,s,o=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY,a,l)=>{if(e<0||e>this.viewItems.length)return 0;let h=R(e,-1),d=R(e+1,this.viewItems.length);if(s)for(let e of s)I(h,e),I(d,e);if(n)for(let e of n)T(h,e),T(d,e);let p=h.map(e=>this.viewItems[e]),u=h.map(e=>i[e]),m=d.map(e=>this.viewItems[e]),c=d.map(e=>i[e]),g=h.reduce((e,t)=>e+this.viewItems[t].minimumSize-i[t],0),v=h.reduce((e,t)=>e+this.viewItems[t].maximumSize-i[t],0),f=0===d.length?Number.POSITIVE_INFINITY:d.reduce((e,t)=>e+i[t]-this.viewItems[t].minimumSize,0),_=Math.max(g,0===d.length?Number.NEGATIVE_INFINITY:d.reduce((e,t)=>e+i[t]-this.viewItems[t].maximumSize,0)),w=Math.min(f,v),b=!1;if(a){let e=this.viewItems[a.index],i=t>=a.limitDelta;b=i!==e.visible,e.setVisible(i,a.size)}if(!b&&l){let e=this.viewItems[l.index],i=t<l.limitDelta;b=i!==e.visible,e.setVisible(i,l.size)}if(b)return this.resize(e,t,i,n,s,o,r);let y=M(t,_,w),D=0,C=y;for(let e=0;e<p.length;e++){let t=p[e],i=M(u[e]+C,t.minimumSize,t.maximumSize),n=i-u[e];D+=n,C-=n,t.size=i}let x=D;for(let e=0;e<m.length;e++){let t=m[e],i=M(c[e]-x,t.minimumSize,t.maximumSize);x+=i-c[e],t.size=i}return t},this._orientation=null!=(i=t.orientation)?i:tm.VERTICAL,this.element=this.createContainer(),this.margin=null!=(n=t.margin)?n:0,this.proportionalLayout=void 0===t.proportionalLayout||!!t.proportionalLayout,this.viewContainer=this.createViewContainer(),this.sashContainer=this.createSashContainer(),this.element.appendChild(this.sashContainer),this.element.appendChild(this.viewContainer),this.container.appendChild(this.element),this.style(t.styles),t.descriptor&&(this._size=t.descriptor.size,t.descriptor.views.forEach((e,t)=>{let i=void 0===e.visible||e.visible?e.size:{type:"invisible",cachedVisibleSize:e.size},n=e.view;this.addView(n,i,t,!0)}),this._contentSize=this.viewItems.reduce((e,t)=>e+t.size,0),this.saveProportions())}style(e){(null==e?void 0:e.separatorBorder)==="transparent"?(y(this.element,"dv-separator-border"),this.element.style.removeProperty("--dv-separator-border")):(D(this.element,"dv-separator-border"),(null==e?void 0:e.separatorBorder)&&this.element.style.setProperty("--dv-separator-border",e.separatorBorder))}isViewVisible(e){if(e<0||e>=this.viewItems.length)throw Error("Index out of bounds");return this.viewItems[e].visible}setViewVisible(e,t){if(e<0||e>=this.viewItems.length)throw Error("Index out of bounds");let i=this.viewItems[e];i.setVisible(t,i.size),this.distributeEmptySpace(e),this.layoutViews(),this.saveProportions()}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}resizeView(e,t){if(e<0||e>=this.viewItems.length)return;let i=R(this.viewItems.length).filter(t=>t!==e),n=[...i.filter(e=>this.viewItems[e].priority===tg.Low),e],s=i.filter(e=>this.viewItems[e].priority===tg.High),o=this.viewItems[e];t=M(t=Math.round(t),o.minimumSize,Math.min(o.maximumSize,this._size)),o.size=t,this.relayout(n,s)}getViews(){return this.viewItems.map(e=>e.view)}onDidChange(e,t){let i=this.viewItems.indexOf(e);if(i<0||i>=this.viewItems.length)return;t=M(t="number"==typeof t?t:e.size,e.minimumSize,e.maximumSize),e.size=t;let n=R(this.viewItems.length).filter(e=>e!==i),s=[...n.filter(e=>this.viewItems[e].priority===tg.Low),i],o=n.filter(e=>this.viewItems[e].priority===tg.High);this.relayout([...s,i],o)}addView(e,t={type:"distribute"},i=this.viewItems.length,n){let s,o=document.createElement("div");o.className="dv-view",o.appendChild(e.element),s="number"==typeof t?t:"split"===t.type?this.getViewSize(t.index)/2:"invisible"===t.type?{cachedVisibleSize:t.cachedVisibleSize}:e.minimumSize;let r=e.onDidChange(e=>this.onDidChange(a,e.size)),a=new V(o,e,s,{dispose:()=>{r.dispose(),this.viewContainer.removeChild(o)}});if(i===this.viewItems.length?this.viewContainer.appendChild(o):this.viewContainer.insertBefore(o,this.viewContainer.children.item(i)),this.viewItems.splice(i,0,a),this.viewItems.length>1){let e=document.createElement("div");e.className="dv-sash";let t=t=>{let i,n;for(let e of this.viewItems)e.enabled=!1;let s=E(),o=this._orientation===tm.HORIZONTAL?t.clientX:t.clientY,r=function(e,t){for(let i=0;i<e.length;i++)if(t(e[i]))return i;return -1}(this.sashes,t=>t.container===e),a=this.viewItems.map(e=>e.size),l=R(r,-1),h=R(r+1,this.viewItems.length),d=l.reduce((e,t)=>e+(this.viewItems[t].minimumSize-a[t]),0),p=l.reduce((e,t)=>e+(this.viewItems[t].viewMaximumSize-a[t]),0),u=0===h.length?Number.POSITIVE_INFINITY:h.reduce((e,t)=>e+(a[t]-this.viewItems[t].minimumSize),0),m=Math.max(d,0===h.length?Number.NEGATIVE_INFINITY:h.reduce((e,t)=>e+(a[t]-this.viewItems[t].viewMaximumSize),0)),c=Math.min(u,p),g=this.findFirstSnapIndex(l),v=this.findFirstSnapIndex(h);if("number"==typeof g){let e=this.viewItems[g],t=Math.floor(e.viewMinimumSize/2);i={index:g,limitDelta:e.visible?m-t:m+t,size:e.size}}if("number"==typeof v){let e=this.viewItems[v],t=Math.floor(e.viewMinimumSize/2);n={index:v,limitDelta:e.visible?c+t:c-t,size:e.size}}let f=e=>{let t=this._orientation===tm.HORIZONTAL?e.clientX:e.clientY;this.resize(r,t-o,a,void 0,void 0,m,c,i,n),this.distributeEmptySpace(),this.layoutViews()},_=()=>{for(let e of this.viewItems)e.enabled=!0;s.release(),this.saveProportions(),document.removeEventListener("pointermove",f),document.removeEventListener("pointerup",_),document.removeEventListener("pointercancel",_),this._onDidSashEnd.fire(void 0)};document.addEventListener("pointermove",f),document.addEventListener("pointerup",_),document.addEventListener("pointercancel",_)};e.addEventListener("pointerdown",t),this.sashContainer.appendChild(e),this.sashes.push({container:e,disposable:()=>{e.removeEventListener("pointerdown",t),this.sashContainer.removeChild(e)}})}n||this.relayout([i]),n||"number"==typeof t||"distribute"!==t.type||this.distributeViewSizes(),this._onDidAddView.fire(e)}distributeViewSizes(){let e=[],t=0;for(let i of this.viewItems)i.maximumSize-i.minimumSize>0&&(e.push(i),t+=i.size);let i=Math.floor(t/e.length);for(let t of e)t.size=M(i,t.minimumSize,t.maximumSize);let n=R(this.viewItems.length),s=n.filter(e=>this.viewItems[e].priority===tg.Low),o=n.filter(e=>this.viewItems[e].priority===tg.High);this.relayout(s,o)}removeView(e,t,i=!1){let n=this.viewItems.splice(e,1)[0];if(n.dispose(),this.viewItems.length>=1){let t=Math.max(e-1,0);this.sashes.splice(t,1)[0].disposable()}return i||this.relayout(),t&&"distribute"===t.type&&this.distributeViewSizes(),this._onDidRemoveView.fire(n.view),n.view}getViewCachedVisibleSize(e){if(e<0||e>=this.viewItems.length)throw Error("Index out of bounds");return this.viewItems[e].cachedVisibleSize}moveView(e,t){let i=this.getViewCachedVisibleSize(e),n=void 0===i?this.getViewSize(e):tv.Invisible(i),s=this.removeView(e,void 0,!0);this.addView(s,n,t)}layout(e,t){let i=Math.max(this.size,this._contentSize);if(this.size=e,this.orthogonalSize=t,this.proportions){let t=0;for(let i=0;i<this.viewItems.length;i++){let n=this.viewItems[i],s=this.proportions[i];"number"==typeof s?t+=s:e-=n.size}for(let i=0;i<this.viewItems.length;i++){let n=this.viewItems[i],s=this.proportions[i];"number"==typeof s&&t>0&&(n.size=M(Math.round(s*e/t),n.minimumSize,n.maximumSize))}}else{let t=R(this.viewItems.length),n=t.filter(e=>this.viewItems[e].priority===tg.Low),s=t.filter(e=>this.viewItems[e].priority===tg.High);this.resize(this.viewItems.length-1,e-i,void 0,n,s)}this.distributeEmptySpace(),this.layoutViews()}relayout(e,t){let i=this.viewItems.reduce((e,t)=>e+t.size,0);this.resize(this.viewItems.length-1,this._size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}distributeEmptySpace(e){let t=this.viewItems.reduce((e,t)=>e+t.size,0),i=this.size-t,n=R(this.viewItems.length-1,-1),s=n.filter(e=>this.viewItems[e].priority===tg.Low);for(let e of n.filter(e=>this.viewItems[e].priority===tg.High))I(n,e);for(let e of s)T(n,e);"number"==typeof e&&T(n,e);for(let e=0;0!==i&&e<n.length;e++){let t=this.viewItems[n[e]],s=M(t.size+i,t.minimumSize,t.maximumSize);i-=s-t.size,t.size=s}}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this._proportions=this.viewItems.map(e=>e.visible?e.size/this._contentSize:void 0))}layoutViews(){if(this._contentSize=this.viewItems.reduce((e,t)=>e+t.size,0),this.updateSashEnablement(),0===this.viewItems.length)return;let e=this.viewItems.filter(e=>e.visible),t=Math.max(0,e.length-1),i=this.margin*t/Math.max(1,e.length),n=0,s=[],o=this.viewItems.reduce((e,t,i)=>{let n=+!!t.visible;return 0===i?e.push(n):e.push(e[i-1]+n),e},[]);this.viewItems.forEach((e,r)=>{n+=this.viewItems[r].size,s.push(n);let a=e.visible?e.size-i:0,l=Math.max(0,o[r]-1),h=0===r||0===l?0:s[r-1]+l/t*i;if(r<this.viewItems.length-1){let t=e.visible?h+a-2+this.margin/2:h;this._orientation===tm.HORIZONTAL&&(this.sashes[r].container.style.left=`${t}px`,this.sashes[r].container.style.top="0px"),this._orientation===tm.VERTICAL&&(this.sashes[r].container.style.left="0px",this.sashes[r].container.style.top=`${t}px`)}this._orientation===tm.HORIZONTAL&&(e.container.style.width=`${a}px`,e.container.style.left=`${h}px`,e.container.style.top="",e.container.style.height=""),this._orientation===tm.VERTICAL&&(e.container.style.height=`${a}px`,e.container.style.top=`${h}px`,e.container.style.width="",e.container.style.left=""),e.view.layout(e.size-i,this._orthogonalSize)})}findFirstSnapIndex(e){for(let t of e){let e=this.viewItems[t];if(e.visible&&e.snap)return t}for(let t of e){let e=this.viewItems[t];if(e.visible&&e.maximumSize-e.minimumSize>0)break;if(!e.visible&&e.snap)return t}}updateSashEnablement(){let e=!1,t=this.viewItems.map(t=>e=t.size-t.minimumSize>0||e);e=!1;let i=this.viewItems.map(t=>e=t.maximumSize-t.size>0||e),n=[...this.viewItems].reverse();e=!1;let s=n.map(t=>e=t.size-t.minimumSize>0||e).reverse();e=!1;let o=n.map(t=>e=t.maximumSize-t.size>0||e).reverse(),r=0;for(let e=0;e<this.sashes.length;e++){let n=this.sashes[e];r+=this.viewItems[e].size;let a=!(t[e]&&o[e+1]),l=!(i[e]&&s[e+1]);if(a&&l){let i=R(e,-1),o=R(e+1,this.viewItems.length),a=this.findFirstSnapIndex(i),l=this.findFirstSnapIndex(o),h="number"==typeof a&&!this.viewItems[a].visible,d="number"==typeof l&&!this.viewItems[l].visible;h&&s[e]&&(r>0||this.startSnappingEnabled)?this.updateSash(n,tc.MINIMUM):d&&t[e]&&(r<this._contentSize||this.endSnappingEnabled)?this.updateSash(n,tc.MAXIMUM):this.updateSash(n,tc.DISABLED)}else a&&!l?this.updateSash(n,tc.MINIMUM):!a&&l?this.updateSash(n,tc.MAXIMUM):this.updateSash(n,tc.ENABLED)}}updateSash(e,t){C(e.container,"dv-disabled",t===tc.DISABLED),C(e.container,"dv-enabled",t===tc.ENABLED),C(e.container,"dv-maximum",t===tc.MAXIMUM),C(e.container,"dv-minimum",t===tc.MINIMUM)}createViewContainer(){let e=document.createElement("div");return e.className="dv-view-container",e}createSashContainer(){let e=document.createElement("div");return e.className="dv-sash-container",e}createContainer(){let e=document.createElement("div"),t=this._orientation===tm.HORIZONTAL?"dv-horizontal":"dv-vertical";return e.className=`dv-split-view-container ${t}`,e}dispose(){this._onDidSashEnd.dispose(),this._onDidAddView.dispose(),this._onDidRemoveView.dispose();for(let e=0;e<this.element.children.length;e++)if(this.element.children.item(e)===this.element){this.element.removeChild(this.element);break}for(let e of this.viewItems)e.dispose();this.element.remove()}}let W=["orientation","descriptor","proportionalLayout","styles","margin","disableAutoResizing","className"];class H extends f{get onDidAddView(){return this.splitview.onDidAddView}get onDidRemoveView(){return this.splitview.onDidRemoveView}get minimumSize(){return this.splitview.minimumSize}get maximumSize(){return this.splitview.maximumSize}get orientation(){return this.splitview.orientation}get size(){return this.splitview.size}get orthogonalSize(){return this.splitview.orthogonalSize}constructor(e,t){var i;super(),this.paneItems=[],this.skipAnimation=!1,this._onDidChange=new c,this.onDidChange=this._onDidChange.event,this._orientation=null!=(i=t.orientation)?i:tm.VERTICAL,this.element=document.createElement("div"),this.element.className="dv-pane-container",e.appendChild(this.element),this.splitview=new L(this.element,{orientation:this._orientation,proportionalLayout:!1,descriptor:t.descriptor}),this.getPanes().forEach(e=>{let t=new f(e.onDidChangeExpansionState(()=>{this.setupAnimation(),this._onDidChange.fire(void 0)}));this.paneItems.push({pane:e,disposable:{dispose:()=>{t.dispose()}}}),e.orthogonalSize=this.splitview.orthogonalSize}),this.addDisposables(this._onDidChange,this.splitview.onDidSashEnd(()=>{this._onDidChange.fire(void 0)}),this.splitview.onDidAddView(()=>{this._onDidChange.fire()}),this.splitview.onDidRemoveView(()=>{this._onDidChange.fire()}))}setViewVisible(e,t){this.splitview.setViewVisible(e,t)}addPane(e,t,i=this.splitview.length,n=!1){let s=e.onDidChangeExpansionState(()=>{this.setupAnimation(),this._onDidChange.fire(void 0)});this.paneItems.splice(i,0,{pane:e,disposable:{dispose:()=>{s.dispose()}}}),e.orthogonalSize=this.splitview.orthogonalSize,this.splitview.addView(e,t,i,n)}getViewSize(e){return this.splitview.getViewSize(e)}getPanes(){return this.splitview.getViews()}removePane(e,t={skipDispose:!1}){let i=this.paneItems.splice(e,1)[0];return this.splitview.removeView(e),t.skipDispose||(i.disposable.dispose(),i.pane.dispose()),i}moveView(e,t){if(e===t)return;let i=this.removePane(e,{skipDispose:!0});this.skipAnimation=!0;try{this.addPane(i.pane,i.pane.size,t,!1)}finally{this.skipAnimation=!1}}layout(e,t){this.splitview.layout(e,t)}setupAnimation(){this.skipAnimation||(this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=void 0),D(this.element,"dv-animated"),this.animationTimer=setTimeout(()=>{this.animationTimer=void 0,y(this.element,"dv-animated")},200))}dispose(){super.dispose(),this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=void 0),this.paneItems.forEach(e=>{e.disposable.dispose(),e.pane.dispose()}),this.paneItems=[],this.splitview.dispose(),this.element.remove()}}class j{get minimumWidth(){return this.view.minimumWidth}get maximumWidth(){return this.view.maximumWidth}get minimumHeight(){return this.view.minimumHeight}get maximumHeight(){return this.view.maximumHeight}get priority(){return this.view.priority}get snap(){return this.view.snap}get minimumSize(){return this.orientation===tm.HORIZONTAL?this.minimumHeight:this.minimumWidth}get maximumSize(){return this.orientation===tm.HORIZONTAL?this.maximumHeight:this.maximumWidth}get minimumOrthogonalSize(){return this.orientation===tm.HORIZONTAL?this.minimumWidth:this.minimumHeight}get maximumOrthogonalSize(){return this.orientation===tm.HORIZONTAL?this.maximumWidth:this.maximumHeight}get orthogonalSize(){return this._orthogonalSize}get size(){return this._size}get element(){return this.view.element}get width(){return this.orientation===tm.HORIZONTAL?this.orthogonalSize:this.size}get height(){return this.orientation===tm.HORIZONTAL?this.size:this.orthogonalSize}constructor(e,t,i,n=0){this.view=e,this.orientation=t,this._onDidChange=new c,this.onDidChange=this._onDidChange.event,this._orthogonalSize=i,this._size=n,this._disposable=this.view.onDidChange(e=>{e?this._onDidChange.fire({size:this.orientation===tm.VERTICAL?e.width:e.height,orthogonalSize:this.orientation===tm.VERTICAL?e.height:e.width}):this._onDidChange.fire({})})}setVisible(e){this.view.setVisible&&this.view.setVisible(e)}layout(e,t){this._size=e,this._orthogonalSize=t,this.view.layout(this.width,this.height)}dispose(){this._onDidChange.dispose(),this._disposable.dispose()}}class F extends f{get width(){return this.orientation===tm.HORIZONTAL?this.size:this.orthogonalSize}get height(){return this.orientation===tm.HORIZONTAL?this.orthogonalSize:this.size}get minimumSize(){return 0===this.children.length?0:Math.max(...this.children.map((e,t)=>this.splitview.isViewVisible(t)?e.minimumOrthogonalSize:0))}get maximumSize(){return Math.min(...this.children.map((e,t)=>this.splitview.isViewVisible(t)?e.maximumOrthogonalSize:Number.POSITIVE_INFINITY))}get minimumOrthogonalSize(){return this.splitview.minimumSize}get maximumOrthogonalSize(){return this.splitview.maximumSize}get orthogonalSize(){return this._orthogonalSize}get size(){return this._size}get minimumWidth(){return this.orientation===tm.HORIZONTAL?this.minimumOrthogonalSize:this.minimumSize}get minimumHeight(){return this.orientation===tm.HORIZONTAL?this.minimumSize:this.minimumOrthogonalSize}get maximumWidth(){return this.orientation===tm.HORIZONTAL?this.maximumOrthogonalSize:this.maximumSize}get maximumHeight(){return this.orientation===tm.HORIZONTAL?this.maximumSize:this.maximumOrthogonalSize}get priority(){if(0===this.children.length)return tg.Normal;let e=this.children.map(e=>void 0===e.priority?tg.Normal:e.priority);return e.some(e=>e===tg.High)?tg.High:e.some(e=>e===tg.Low)?tg.Low:tg.Normal}get disabled(){return this.splitview.disabled}set disabled(e){this.splitview.disabled=e}get margin(){return this.splitview.margin}set margin(e){this.splitview.margin=e,this.children.forEach(t=>{t instanceof F&&(t.margin=e)})}constructor(e,t,i,n,s,o,r,a){if(super(),this.orientation=e,this.proportionalLayout=t,this.styles=i,this._childrenDisposable=tu.NONE,this.children=[],this._onDidChange=new c,this.onDidChange=this._onDidChange.event,this._onDidVisibilityChange=new c,this.onDidVisibilityChange=this._onDidVisibilityChange.event,this._orthogonalSize=s,this._size=n,this.element=document.createElement("div"),this.element.className="dv-branch-node",a){let e={views:a.map(e=>({view:e.node,size:e.node.size,visible:!(e.node instanceof j)||void 0===e.visible||e.visible})),size:this.orthogonalSize};this.children=a.map(e=>e.node),this.splitview=new L(this.element,{orientation:this.orientation,descriptor:e,proportionalLayout:t,styles:i,margin:r})}else this.splitview=new L(this.element,{orientation:this.orientation,proportionalLayout:t,styles:i,margin:r}),this.splitview.layout(this.size,this.orthogonalSize);this.disabled=o,this.addDisposables(this._onDidChange,this._onDidVisibilityChange,this.splitview.onDidSashEnd(()=>{this._onDidChange.fire({})})),this.setupChildrenEvents()}setVisible(e){}isChildVisible(e){if(e<0||e>=this.children.length)throw Error("Invalid index");return this.splitview.isViewVisible(e)}setChildVisible(e,t){if(e<0||e>=this.children.length)throw Error("Invalid index");if(this.splitview.isViewVisible(e)===t)return;let i=0===this.splitview.contentSize;this.splitview.setViewVisible(e,t);let n=0===this.splitview.contentSize;(t&&i||!t&&n)&&this._onDidVisibilityChange.fire({visible:t})}moveChild(e,t){if(e===t)return;if(e<0||e>=this.children.length)throw Error("Invalid from index");e<t&&t--,this.splitview.moveView(e,t);let i=this._removeChild(e);this._addChild(i,t)}getChildSize(e){if(e<0||e>=this.children.length)throw Error("Invalid index");return this.splitview.getViewSize(e)}resizeChild(e,t){if(e<0||e>=this.children.length)throw Error("Invalid index");this.splitview.resizeView(e,t)}layout(e,t){this._size=t,this._orthogonalSize=e,this.splitview.layout(t,e)}addChild(e,t,i,n){if(i<0||i>this.children.length)throw Error("Invalid index");this.splitview.addView(e,t,i,n),this._addChild(e,i)}getChildCachedVisibleSize(e){if(e<0||e>=this.children.length)throw Error("Invalid index");return this.splitview.getViewCachedVisibleSize(e)}removeChild(e,t){if(e<0||e>=this.children.length)throw Error("Invalid index");return this.splitview.removeView(e,t),this._removeChild(e)}_addChild(e,t){this.children.splice(t,0,e),this.setupChildrenEvents()}_removeChild(e){let[t]=this.children.splice(e,1);return this.setupChildrenEvents(),t}setupChildrenEvents(){this._childrenDisposable.dispose(),this._childrenDisposable=new f(tp.any(...this.children.map(e=>e.onDidChange))(e=>{this._onDidChange.fire({size:e.orthogonalSize})}),...this.children.map((e,t)=>e instanceof F?e.onDidVisibilityChange(({visible:e})=>{this.setChildVisible(t,e)}):tu.NONE))}dispose(){this._childrenDisposable.dispose(),this.splitview.dispose(),this.children.forEach(e=>e.dispose()),super.dispose()}}function B(e,t){if(e instanceof j)return e;if(e instanceof F)return B(e.children[t?e.children.length-1:0],t);throw Error("invalid node")}function U(e,t,i){if(!(e instanceof F))return new j(e.view,Z(e.orientation),i);{let n=new F(Z(e.orientation),e.proportionalLayout,e.styles,t,i,e.disabled,e.margin),s=0;for(let o=e.children.length-1;o>=0;o--){let r=e.children[o],a=r instanceof F?r.orthogonalSize:r.size,l=0===e.size?0:Math.round(t*a/e.size);s+=l,0===o&&(l+=t-s),n.addChild(U(r,i,l),l,0,!0)}return n}}function $(e){let t=e.parentElement;if(!t)throw Error("Invalid grid element");if(/\bdv-grid-view\b/.test(t.className))return[];let i=function(e){let t=e.parentElement;if(!t)throw Error("Invalid grid element");let i=t.firstElementChild,n=0;for(;i!==e&&i!==t.lastElementChild&&i;)i=i.nextElementSibling,n++;return n}(t);return[...$(t.parentElement.parentElement.parentElement),i]}function Y(e,t,i){var n,s;if(n=e,(t.length%2==0?Z(n):n)!==("top"===(s=i)||"bottom"===s?tm.VERTICAL:tm.HORIZONTAL))return[...t,+("right"===i||"bottom"===i)];{let[e,n]=k(t),s=n;return("right"===i||"bottom"===i)&&(s+=1),[...e,s]}}let Z=e=>e===tm.HORIZONTAL?tm.VERTICAL:tm.HORIZONTAL,J=(e,t)=>{let i=t===tm.VERTICAL?e.box.width:e.box.height;return e.children?{type:"branch",data:e.children.map(e=>J(e,Z(t))),size:i}:"number"==typeof e.cachedVisibleSize?{type:"leaf",data:e.view.toJSON(),size:e.cachedVisibleSize,visible:!1}:{type:"leaf",data:e.view.toJSON(),size:i}};class X{get length(){return this._root?this._root.children.length:0}get orientation(){return this.root.orientation}set orientation(e){if(this.root.orientation===e)return;let{size:t,orthogonalSize:i}=this.root;this.root=U(this.root,i,t),this.root.layout(t,i)}get width(){return this.root.width}get height(){return this.root.height}get minimumWidth(){return this.root.minimumWidth}get minimumHeight(){return this.root.minimumHeight}get maximumWidth(){return this.root.maximumHeight}get maximumHeight(){return this.root.maximumHeight}get locked(){return this._locked}set locked(e){this._locked=e;let t=[this.root];for(;t.length>0;){let i=t.pop();i instanceof F&&(i.disabled=e,t.push(...i.children))}}get margin(){return this._margin}set margin(e){this._margin=e,this.root.margin=e}maximizedView(){var e;return null==(e=this._maximizedNode)?void 0:e.leaf.view}hasMaximizedView(){return void 0!==this._maximizedNode}maximizeView(e){var t;let i=$(e.element),[n,s]=this.getNode(i);if(!(s instanceof j)||(null==(t=this._maximizedNode)?void 0:t.leaf)===s)return;this.hasMaximizedView()&&this.exitMaximizedView(),J(this.getView(),this.orientation);let o=[];!function e(t,i){for(let n=0;n<t.children.length;n++){let s=t.children[n];s instanceof j?s!==i&&(t.isChildVisible(n)?t.setChildVisible(n,!1):o.push(s)):e(s,i)}}(this.root,s),this._maximizedNode={leaf:s,hiddenOnMaximize:o},this._onDidMaximizedNodeChange.fire({view:s.view,isMaximized:!0})}exitMaximizedView(){if(!this._maximizedNode)return;let e=this._maximizedNode.hiddenOnMaximize;!function t(i){for(let n=i.children.length-1;n>=0;n--){let s=i.children[n];s instanceof j?e.includes(s)||i.setChildVisible(n,!0):t(s)}}(this.root);let t=this._maximizedNode.leaf;this._maximizedNode=void 0,this._onDidMaximizedNodeChange.fire({view:t.view,isMaximized:!1})}serialize(){let e,t=this.maximizedView();t&&(e=$(t.element)),this.hasMaximizedView()&&this.exitMaximizedView();let i={root:J(this.getView(),this.orientation),width:this.width,height:this.height,orientation:this.orientation};return e&&(i.maximizedNode={location:e}),t&&this.maximizeView(t),i}dispose(){this.disposable.dispose(),this._onDidChange.dispose(),this._onDidMaximizedNodeChange.dispose(),this._onDidViewVisibilityChange.dispose(),this.root.dispose(),this._maximizedNode=void 0,this.element.remove()}clear(){let e=this.root.orientation;this.root=new F(e,this.proportionalLayout,this.styles,this.root.size,this.root.orthogonalSize,this.locked,this.margin)}deserialize(e,t){let i=e.orientation,n=i===tm.VERTICAL?e.height:e.width;if(this._deserialize(e.root,i,t,n),this.layout(e.width,e.height),e.maximizedNode){let t=e.maximizedNode.location,[i,n]=this.getNode(t);if(!(n instanceof j))return;this.maximizeView(n.view)}}_deserialize(e,t,i,n){this.root=this._deserializeNode(e,t,i,n)}_deserializeNode(e,t,i,n){var s;let o;if("branch"===e.type){let s=e.data.map(n=>({node:this._deserializeNode(n,Z(t),i,e.size),visible:n.visible}));o=new F(t,this.proportionalLayout,this.styles,e.size,n,this.locked,this.margin,s)}else{let r=i.fromJSON(e);"boolean"==typeof e.visible&&(null==(s=r.setVisible)||s.call(r,e.visible)),o=new j(r,t,n,e.size)}return o}get root(){return this._root}set root(e){let t=this._root;t&&(t.dispose(),this._maximizedNode=void 0,this.element.removeChild(t.element)),this._root=e,this.element.appendChild(this._root.element),this.disposable.value=this._root.onDidChange(e=>{this._onDidChange.fire(e)})}insertOrthogonalSplitviewAtRoot(){if(!this._root)return;let e=this.root;if(e.element.remove(),this._root=new F(Z(e.orientation),this.proportionalLayout,this.styles,this.root.orthogonalSize,this.root.size,this.locked,this.margin),0===e.children.length);else if(1===e.children.length){let t=e.children[0];e.removeChild(0).dispose(),e.dispose(),this._root.addChild(U(t,t.orthogonalSize,t.size),tv.Distribute,0)}else this._root.addChild(e,tv.Distribute,0);this.element.appendChild(this._root.element),this.disposable.value=this._root.onDidChange(e=>{this._onDidChange.fire(e)})}next(e){return this.progmaticSelect(e)}previous(e){return this.progmaticSelect(e,!0)}getView(e){let t=e?this.getNode(e)[1]:this.root;return this._getViews(t,this.orientation)}_getViews(e,t,i){let n={height:e.height,width:e.width};if(e instanceof j)return{box:n,view:e.view,cachedVisibleSize:i};let s=[];for(let i=0;i<e.children.length;i++){let n=e.children[i],o=e.getChildCachedVisibleSize(i);s.push(this._getViews(n,Z(t),o))}return{box:n,children:s}}progmaticSelect(e,t=!1){let[i,n]=this.getNode(e);if(!(n instanceof j))throw Error("invalid location");for(let n=i.length-1;n>-1;n--){let s=i[n],o=e[n]||0;if(t?o-1>-1:o+1<s.children.length)return B(s.children[t?o-1:o+1],t)}return B(this.root,t)}constructor(e,t,i,n,s){this.proportionalLayout=e,this.styles=t,this._locked=!1,this._margin=0,this._maximizedNode=void 0,this.disposable=new _,this._onDidChange=new c,this.onDidChange=this._onDidChange.event,this._onDidViewVisibilityChange=new c,this.onDidViewVisibilityChange=this._onDidViewVisibilityChange.event,this._onDidMaximizedNodeChange=new c,this.onDidMaximizedNodeChange=this._onDidMaximizedNodeChange.event,this.element=document.createElement("div"),this.element.className="dv-grid-view",this._locked=null!=n&&n,this._margin=null!=s?s:0,this.root=new F(i,e,t,0,0,this.locked,this.margin)}isViewVisible(e){let[t,i]=k(e),[,n]=this.getNode(t);if(!(n instanceof F))throw Error("Invalid from location");return n.isChildVisible(i)}setViewVisible(e,t){this.hasMaximizedView()&&this.exitMaximizedView();let[i,n]=k(e),[,s]=this.getNode(i);if(!(s instanceof F))throw Error("Invalid from location");this._onDidViewVisibilityChange.fire(),s.setChildVisible(n,t)}moveView(e,t,i){this.hasMaximizedView()&&this.exitMaximizedView();let[,n]=this.getNode(e);if(!(n instanceof F))throw Error("Invalid location");n.moveChild(t,i)}addView(e,t,i){this.hasMaximizedView()&&this.exitMaximizedView();let[n,s]=k(i),[o,r]=this.getNode(n);if(r instanceof F){let i=new j(e,Z(r.orientation),r.orthogonalSize);r.addChild(i,t,s)}else{let[i,...a]=[...o].reverse(),[l,...h]=[...n].reverse(),d=0,p=i.getChildCachedVisibleSize(l);"number"==typeof p&&(d=tv.Invisible(p)),i.removeChild(l).dispose();let u=new F(r.orientation,this.proportionalLayout,this.styles,r.size,r.orthogonalSize,this.locked,this.margin);i.addChild(u,r.size,l);let m=new j(r.view,i.orientation,r.size);u.addChild(m,d,0),"number"!=typeof t&&"split"===t.type&&(t={type:"split",index:0});let c=new j(e,i.orientation,r.size);u.addChild(c,t,s)}}remove(e,t){let i=$(e.element);return this.removeView(i,t)}removeView(e,t){this.hasMaximizedView()&&this.exitMaximizedView();let[i,n]=k(e),[s,o]=this.getNode(i);if(!(o instanceof F))throw Error("Invalid location");let r=o.children[n];if(!(r instanceof j))throw Error("Invalid location");if(o.removeChild(n,t),r.dispose(),1!==o.children.length)return r.view;let a=o.children[0];if(0===s.length)return a instanceof j||(o.removeChild(0,t),this.root=a),r.view;let[l,...h]=[...s].reverse(),[d,...p]=[...i].reverse(),u=o.isChildVisible(0);o.removeChild(0,t);let m=l.children.map((e,t)=>l.getChildSize(t));if(l.removeChild(d,t).dispose(),a instanceof F){m.splice(d,1,...a.children.map(e=>e.size));for(let e=0;e<a.children.length;e++){let t=a.children[e];l.addChild(t,t.size,d+e)}for(;a.children.length>0;)a.removeChild(0)}else{let e=new j(a.view,Z(a.orientation),a.size),t=u?a.orthogonalSize:tv.Invisible(a.orthogonalSize);l.addChild(e,t,d)}a.dispose();for(let e=0;e<m.length;e++)l.resizeChild(e,m[e]);return r.view}layout(e,t){let[i,n]=this.root.orientation===tm.HORIZONTAL?[t,e]:[e,t];this.root.layout(i,n)}getNode(e,t=this.root,i=[]){if(0===e.length)return[i,t];if(!(t instanceof F))throw Error("Invalid location");let[n,...s]=e;if(n<0||n>=t.children.length)throw Error("Invalid location");let o=t.children[n];return i.push(t),this.getNode(s,o,i)}}let q=["disableAutoResizing","proportionalLayout","orientation","hideBorders","className"];class K extends f{get element(){return this._element}get disableResizing(){return this._disableResizing}set disableResizing(e){this._disableResizing=e}constructor(e,t=!1){super(),this._disableResizing=t,this._element=e,this.addDisposables(b(this._element,e=>{if(this.isDisposed||this.disableResizing||!this._element.offsetParent||!function(e){let t=e;for(;null==t?void 0:t.parentNode;)if(t.parentNode===document)return!0;else t=t.parentNode instanceof DocumentFragment?t.parentNode.host:t.parentNode;return!1}(this._element))return;let{width:t,height:i}=e.contentRect;this.layout(t,i)}))}}let Q=G();function ee(e){switch(e){case"left":return"left";case"right":return"right";case"above":return"top";case"below":return"bottom";default:return"center"}}class et extends K{get id(){return this._id}get size(){return this._groups.size}get groups(){return Array.from(this._groups.values()).map(e=>e.value)}get width(){return this.gridview.width}get height(){return this.gridview.height}get minimumHeight(){return this.gridview.minimumHeight}get maximumHeight(){return this.gridview.maximumHeight}get minimumWidth(){return this.gridview.minimumWidth}get maximumWidth(){return this.gridview.maximumWidth}get activeGroup(){return this._activeGroup}get locked(){return this.gridview.locked}set locked(e){this.gridview.locked=e}constructor(e,t){var i;super(document.createElement("div"),t.disableAutoResizing),this._id=Q.next(),this._groups=new Map,this._onDidRemove=new c,this.onDidRemove=this._onDidRemove.event,this._onDidAdd=new c,this.onDidAdd=this._onDidAdd.event,this._onDidMaximizedChange=new c,this.onDidMaximizedChange=this._onDidMaximizedChange.event,this._onDidActiveChange=new c,this.onDidActiveChange=this._onDidActiveChange.event,this._bufferOnDidLayoutChange=new v,this.onDidLayoutChange=this._bufferOnDidLayoutChange.onEvent,this._onDidViewVisibilityChangeMicroTaskQueue=new v,this.onDidViewVisibilityChangeMicroTaskQueue=this._onDidViewVisibilityChangeMicroTaskQueue.onEvent,this.element.style.height="100%",this.element.style.width="100%",this._classNames=new P(this.element),this._classNames.setClassNames(null!=(i=t.className)?i:""),e.appendChild(this.element),this.gridview=new X(!!t.proportionalLayout,t.styles,t.orientation,t.locked,t.margin),this.gridview.locked=!!t.locked,this.element.appendChild(this.gridview.element),this.layout(0,0,!0),this.addDisposables(this.gridview.onDidMaximizedNodeChange(e=>{this._onDidMaximizedChange.fire({panel:e.view,isMaximized:e.isMaximized})}),this.gridview.onDidViewVisibilityChange(()=>this._onDidViewVisibilityChangeMicroTaskQueue.fire()),this.onDidViewVisibilityChangeMicroTaskQueue(()=>{this.layout(this.width,this.height,!0)}),tu.from(()=>{var e;null==(e=this.element.parentElement)||e.removeChild(this.element)}),this.gridview.onDidChange(()=>{this._bufferOnDidLayoutChange.fire()}),tp.any(this.onDidAdd,this.onDidRemove,this.onDidActiveChange)(()=>{this._bufferOnDidLayoutChange.fire()}),this._onDidMaximizedChange,this._onDidViewVisibilityChangeMicroTaskQueue,this._bufferOnDidLayoutChange)}setVisible(e,t){this.gridview.setViewVisible($(e.element),t),this._bufferOnDidLayoutChange.fire()}isVisible(e){return this.gridview.isViewVisible($(e.element))}updateOptions(e){var t,i,n,s;e.proportionalLayout,e.orientation&&(this.gridview.orientation=e.orientation),"disableResizing"in e&&(this.disableResizing=null!=(t=e.disableAutoResizing)&&t),"locked"in e&&(this.locked=null!=(i=e.locked)&&i),"margin"in e&&(this.gridview.margin=null!=(n=e.margin)?n:0),"className"in e&&this._classNames.setClassNames(null!=(s=e.className)?s:"")}maximizeGroup(e){this.gridview.maximizeView(e),this.doSetGroupActive(e)}isMaximizedGroup(e){return this.gridview.maximizedView()===e}exitMaximizedGroup(){this.gridview.exitMaximizedView()}hasMaximizedGroup(){return this.gridview.hasMaximizedView()}doAddGroup(e,t=[0],i){this.gridview.addView(e,null!=i?i:tv.Distribute,t),this._onDidAdd.fire(e)}doRemoveGroup(e,t){if(!this._groups.has(e.id))throw Error("invalid operation");let i=this._groups.get(e.id),n=this.gridview.remove(e,tv.Distribute);if(!i||(null==t?void 0:t.skipDispose)||(i.disposable.dispose(),i.value.dispose(),this._groups.delete(e.id),this._onDidRemove.fire(e)),!(null==t?void 0:t.skipActive)&&this._activeGroup===e){let e=Array.from(this._groups.values());this.doSetGroupActive(e.length>0?e[0].value:void 0)}return n}getPanel(e){var t;return null==(t=this._groups.get(e))?void 0:t.value}doSetGroupActive(e){this._activeGroup!==e&&(this._activeGroup&&this._activeGroup.setActive(!1),e&&e.setActive(!0),this._activeGroup=e,this._onDidActiveChange.fire(e))}removeGroup(e){this.doRemoveGroup(e)}moveToNext(e){var t;if(e||(e={}),!e.group){if(!this.activeGroup)return;e.group=this.activeGroup}let i=$(e.group.element),n=null==(t=this.gridview.next(i))?void 0:t.view;this.doSetGroupActive(n)}moveToPrevious(e){var t;if(e||(e={}),!e.group){if(!this.activeGroup)return;e.group=this.activeGroup}let i=$(e.group.element),n=null==(t=this.gridview.previous(i))?void 0:t.view;this.doSetGroupActive(n)}layout(e,t,i){(i||e!==this.width||t!==this.height)&&(this.gridview.element.style.height=`${t}px`,this.gridview.element.style.width=`${e}px`,this.gridview.layout(e,t))}dispose(){for(let e of(this._onDidActiveChange.dispose(),this._onDidAdd.dispose(),this._onDidRemove.dispose(),this.groups))e.dispose();this.gridview.dispose(),super.dispose()}}class ei{get minimumSize(){return this.component.minimumSize}get maximumSize(){return this.component.maximumSize}get width(){return this.component.width}get height(){return this.component.height}get length(){return this.component.length}get orientation(){return this.component.orientation}get panels(){return this.component.panels}get onDidLayoutFromJSON(){return this.component.onDidLayoutFromJSON}get onDidLayoutChange(){return this.component.onDidLayoutChange}get onDidAddView(){return this.component.onDidAddView}get onDidRemoveView(){return this.component.onDidRemoveView}constructor(e){this.component=e}removePanel(e,t){this.component.removePanel(e,t)}focus(){this.component.focus()}getPanel(e){return this.component.getPanel(e)}layout(e,t){return this.component.layout(e,t)}addPanel(e){return this.component.addPanel(e)}movePanel(e,t){this.component.movePanel(e,t)}fromJSON(e){this.component.fromJSON(e)}toJSON(){return this.component.toJSON()}clear(){this.component.clear()}updateOptions(e){this.component.updateOptions(e)}dispose(){this.component.dispose()}}class en{get minimumSize(){return this.component.minimumSize}get maximumSize(){return this.component.maximumSize}get width(){return this.component.width}get height(){return this.component.height}get panels(){return this.component.panels}get onDidLayoutChange(){return this.component.onDidLayoutChange}get onDidLayoutFromJSON(){return this.component.onDidLayoutFromJSON}get onDidAddView(){return this.component.onDidAddView}get onDidRemoveView(){return this.component.onDidRemoveView}get onDidDrop(){return this.component.onDidDrop}get onUnhandledDragOverEvent(){return this.component.onUnhandledDragOverEvent}constructor(e){this.component=e}removePanel(e){this.component.removePanel(e)}getPanel(e){return this.component.getPanel(e)}movePanel(e,t){this.component.movePanel(e,t)}focus(){this.component.focus()}layout(e,t){this.component.layout(e,t)}addPanel(e){return this.component.addPanel(e)}fromJSON(e){this.component.fromJSON(e)}toJSON(){return this.component.toJSON()}clear(){this.component.clear()}updateOptions(e){this.component.updateOptions(e)}dispose(){this.component.dispose()}}class es{get width(){return this.component.width}get height(){return this.component.height}get minimumHeight(){return this.component.minimumHeight}get maximumHeight(){return this.component.maximumHeight}get minimumWidth(){return this.component.minimumWidth}get maximumWidth(){return this.component.maximumWidth}get onDidLayoutChange(){return this.component.onDidLayoutChange}get onDidAddPanel(){return this.component.onDidAddGroup}get onDidRemovePanel(){return this.component.onDidRemoveGroup}get onDidActivePanelChange(){return this.component.onDidActiveGroupChange}get onDidLayoutFromJSON(){return this.component.onDidLayoutFromJSON}get panels(){return this.component.groups}get orientation(){return this.component.orientation}set orientation(e){this.component.updateOptions({orientation:e})}constructor(e){this.component=e}focus(){this.component.focus()}layout(e,t,i=!1){this.component.layout(e,t,i)}addPanel(e){return this.component.addPanel(e)}removePanel(e,t){this.component.removePanel(e,t)}movePanel(e,t){this.component.movePanel(e,t)}getPanel(e){return this.component.getPanel(e)}fromJSON(e){return this.component.fromJSON(e)}toJSON(){return this.component.toJSON()}clear(){this.component.clear()}updateOptions(e){this.component.updateOptions(e)}dispose(){this.component.dispose()}}class eo{get id(){return this.component.id}get width(){return this.component.width}get height(){return this.component.height}get minimumHeight(){return this.component.minimumHeight}get maximumHeight(){return this.component.maximumHeight}get minimumWidth(){return this.component.minimumWidth}get maximumWidth(){return this.component.maximumWidth}get size(){return this.component.size}get totalPanels(){return this.component.totalPanels}get onDidActiveGroupChange(){return this.component.onDidActiveGroupChange}get onDidAddGroup(){return this.component.onDidAddGroup}get onDidRemoveGroup(){return this.component.onDidRemoveGroup}get onDidActivePanelChange(){return this.component.onDidActivePanelChange}get onDidAddPanel(){return this.component.onDidAddPanel}get onDidRemovePanel(){return this.component.onDidRemovePanel}get onDidMovePanel(){return this.component.onDidMovePanel}get onDidLayoutFromJSON(){return this.component.onDidLayoutFromJSON}get onDidLayoutChange(){return this.component.onDidLayoutChange}get onDidDrop(){return this.component.onDidDrop}get onWillDrop(){return this.component.onWillDrop}get onWillShowOverlay(){return this.component.onWillShowOverlay}get onWillDragGroup(){return this.component.onWillDragGroup}get onWillDragPanel(){return this.component.onWillDragPanel}get onUnhandledDragOverEvent(){return this.component.onUnhandledDragOverEvent}get onDidPopoutGroupSizeChange(){return this.component.onDidPopoutGroupSizeChange}get onDidPopoutGroupPositionChange(){return this.component.onDidPopoutGroupPositionChange}get panels(){return this.component.panels}get groups(){return this.component.groups}get activePanel(){return this.component.activePanel}get activeGroup(){return this.component.activeGroup}constructor(e){this.component=e}focus(){this.component.focus()}getPanel(e){return this.component.getGroupPanel(e)}layout(e,t,i=!1){this.component.layout(e,t,i)}addPanel(e){return this.component.addPanel(e)}removePanel(e){this.component.removePanel(e)}addGroup(e){return this.component.addGroup(e)}closeAllGroups(){return this.component.closeAllGroups()}removeGroup(e){this.component.removeGroup(e)}getGroup(e){return this.component.getPanel(e)}addFloatingGroup(e,t){return this.component.addFloatingGroup(e,t)}fromJSON(e){this.component.fromJSON(e)}toJSON(){return this.component.toJSON()}clear(){this.component.clear()}moveToNext(e){this.component.moveToNext(e)}moveToPrevious(e){this.component.moveToPrevious(e)}maximizeGroup(e){this.component.maximizeGroup(e.group)}hasMaximizedGroup(){return this.component.hasMaximizedGroup()}exitMaximizedGroup(){this.component.exitMaximizedGroup()}get onDidMaximizedGroupChange(){return this.component.onDidMaximizedGroupChange}addPopoutGroup(e,t){return this.component.addPopoutGroup(e,t)}updateOptions(e){this.component.updateOptions(e)}dispose(){this.component.dispose()}}class er extends f{constructor(e){super(),this.el=e,this.dataDisposable=new _,this.pointerEventsDisposable=new _,this._onDragStart=new c,this.onDragStart=this._onDragStart.event,this.addDisposables(this._onDragStart,this.dataDisposable,this.pointerEventsDisposable),this.configure()}isCancelled(e){return!1}configure(){this.addDisposables(this._onDragStart,g(this.el,"dragstart",e=>{if(e.defaultPrevented||this.isCancelled(e))return void e.preventDefault();let t=E();this.pointerEventsDisposable.value={dispose:()=>{t.release()}},this.el.classList.add("dv-dragged"),setTimeout(()=>this.el.classList.remove("dv-dragged"),0),this.dataDisposable.value=this.getData(e),this._onDragStart.fire(e),e.dataTransfer&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.items.length>0||e.dataTransfer.setData("text/plain",""))}),g(this.el,"dragend",()=>{this.pointerEventsDisposable.dispose(),setTimeout(()=>{this.dataDisposable.dispose()},0)}))}}class ea extends f{constructor(e,t){super(),this.element=e,this.callbacks=t,this.target=null,this.registerListeners()}onDragEnter(e){this.target=e.target,this.callbacks.onDragEnter(e)}onDragOver(e){e.preventDefault(),this.callbacks.onDragOver&&this.callbacks.onDragOver(e)}onDragLeave(e){this.target===e.target&&(this.target=null,this.callbacks.onDragLeave(e))}onDragEnd(e){this.target=null,this.callbacks.onDragEnd(e)}onDrop(e){this.callbacks.onDrop(e)}registerListeners(){this.addDisposables(g(this.element,"dragenter",e=>{this.onDragEnter(e)},!0)),this.addDisposables(g(this.element,"dragover",e=>{this.onDragOver(e)},!0)),this.addDisposables(g(this.element,"dragleave",e=>{this.onDragLeave(e)})),this.addDisposables(g(this.element,"dragend",e=>{this.onDragEnd(e)})),this.addDisposables(g(this.element,"drop",e=>{this.onDrop(e)}))}}class el extends h{get nativeEvent(){return this.options.nativeEvent}get position(){return this.options.position}constructor(e){super(),this.options=e}}function eh(e){switch(e){case"above":return"top";case"below":return"bottom";case"left":return"left";case"right":return"right";case"within":return"center";default:throw Error(`invalid direction '${e}'`)}}let ed={value:20,type:"percentage"},ep={value:50,type:"percentage"};class eu extends f{get disabled(){return this._disabled}set disabled(e){this._disabled=e}get state(){return this._state}constructor(e,t){super(),this.element=e,this.options=t,this._onDrop=new c,this.onDrop=this._onDrop.event,this._onWillShowOverlay=new c,this.onWillShowOverlay=this._onWillShowOverlay.event,this._disabled=!1,this._acceptedTargetZonesSet=new Set(this.options.acceptedTargetZones),this.dnd=new ea(this.element,{onDragEnter:()=>{var e,t,i;null==(i=null==(t=(e=this.options).getOverrideTarget)?void 0:t.call(e))||i.getElements()},onDragOver:e=>{var t,i,n,s,o,r,a;eu.ACTUAL_TARGET=this;let l=null==(i=(t=this.options).getOverrideTarget)?void 0:i.call(t);if(0===this._acceptedTargetZonesSet.size){if(l)return;this.removeDropTarget();return}let h=null!=(o=null==(s=(n=this.options).getOverlayOutline)?void 0:s.call(n))?o:this.element,d=h.offsetWidth,p=h.offsetHeight;if(0===d||0===p)return;let u=e.currentTarget.getBoundingClientRect(),m=(null!=(r=e.clientX)?r:0)-u.left,c=(null!=(a=e.clientY)?a:0)-u.top,g=this.calculateQuadrant(this._acceptedTargetZonesSet,m,c,d,p);if(this.isAlreadyUsed(e)||null===g)return void this.removeDropTarget();if(!this.options.canDisplayOverlay(e,g)){if(l)return;this.removeDropTarget();return}let v=new el({nativeEvent:e,position:g});if(this._onWillShowOverlay.fire(v),v.defaultPrevented)return void this.removeDropTarget();this.markAsUsed(e),l||this.targetElement||(this.targetElement=document.createElement("div"),this.targetElement.className="dv-drop-target-dropzone",this.overlayElement=document.createElement("div"),this.overlayElement.className="dv-drop-target-selection",this._state="center",this.targetElement.appendChild(this.overlayElement),h.classList.add("dv-drop-target"),h.append(this.targetElement)),this.toggleClasses(g,d,p),this._state=g},onDragLeave:()=>{var e,t;(null==(t=(e=this.options).getOverrideTarget)?void 0:t.call(e))||this.removeDropTarget()},onDragEnd:e=>{var t,i;let n=null==(i=(t=this.options).getOverrideTarget)?void 0:i.call(t);n&&eu.ACTUAL_TARGET===this&&this._state&&(e.stopPropagation(),this._onDrop.fire({position:this._state,nativeEvent:e})),this.removeDropTarget(),null==n||n.clear()},onDrop:e=>{var t,i,n;e.preventDefault();let s=this._state;this.removeDropTarget(),null==(n=null==(i=(t=this.options).getOverrideTarget)?void 0:i.call(t))||n.clear(),s&&(e.stopPropagation(),this._onDrop.fire({position:s,nativeEvent:e}))}}),this.addDisposables(this._onDrop,this._onWillShowOverlay,this.dnd)}setTargetZones(e){this._acceptedTargetZonesSet=new Set(e)}setOverlayModel(e){this.options.overlayModel=e}dispose(){this.removeDropTarget(),super.dispose()}markAsUsed(e){e[eu.USED_EVENT_ID]=!0}isAlreadyUsed(e){let t=e[eu.USED_EVENT_ID];return"boolean"==typeof t&&t}toggleClasses(e,t,i){var n,s,o,r,a,l,h;let d=null==(s=(n=this.options).getOverrideTarget)?void 0:s.call(n);if(!d&&!this.overlayElement)return;let p=t<100,u=i<100,m="left"===e,c="right"===e,g="top"===e,v="bottom"===e,f=!p&&c,_=!p&&m,w=!u&&g,b=!u&&v,y=1,D=null!=(r=null==(o=this.options.overlayModel)?void 0:o.size)?r:ep;if("percentage"===D.type?y=M(D.value,0,100)/100:((f||_)&&(y=M(0,D.value,t)/t),(w||b)&&(y=M(0,D.value,i)/i)),d){let n=null!=(h=null==(l=(a=this.options).getOverlayOutline)?void 0:l.call(a))?h:this.element,s=n.getBoundingClientRect(),o=d.getElements(void 0,n),r=o.root,u=o.overlay,D=r.getBoundingClientRect(),x=s.top-D.top,S=s.left-D.left,A={top:x,left:S,width:t,height:i};f?(A.left=S+t*(1-y),A.width=t*y):_?A.width=t*y:w?A.height=i*y:b&&(A.top=x+i*(1-y),A.height=i*y),p&&m&&(A.width=4),p&&c&&(A.left=S+t-4,A.width=4);let z=`${Math.round(A.top)}px`,E=`${Math.round(A.left)}px`,P=`${Math.round(A.width)}px`,k=`${Math.round(A.height)}px`;if(u.style.top===z&&u.style.left===E&&u.style.width===P&&u.style.height===k)return;u.style.top=z,u.style.left=E,u.style.width=P,u.style.height=k,u.style.visibility="visible",u.className=`dv-drop-target-anchor${this.options.className?` ${this.options.className}`:""}`,C(u,"dv-drop-target-left",m),C(u,"dv-drop-target-right",c),C(u,"dv-drop-target-top",g),C(u,"dv-drop-target-bottom",v),C(u,"dv-drop-target-center","center"===e),o.changed&&(C(u,"dv-drop-target-anchor-container-changed",!0),setTimeout(()=>{C(u,"dv-drop-target-anchor-container-changed",!1)},10));return}if(!this.overlayElement)return;let x={top:"0px",left:"0px",width:"100%",height:"100%"};f?(x.left=`${100*(1-y)}%`,x.width=`${100*y}%`):_?x.width=`${100*y}%`:w?x.height=`${100*y}%`:b&&(x.top=`${100*(1-y)}%`,x.height=`${100*y}%`),this.overlayElement.style.top=x.top,this.overlayElement.style.left=x.left,this.overlayElement.style.width=x.width,this.overlayElement.style.height=x.height,C(this.overlayElement,"dv-drop-target-small-vertical",u),C(this.overlayElement,"dv-drop-target-small-horizontal",p),C(this.overlayElement,"dv-drop-target-left",m),C(this.overlayElement,"dv-drop-target-right",c),C(this.overlayElement,"dv-drop-target-top",g),C(this.overlayElement,"dv-drop-target-bottom",v),C(this.overlayElement,"dv-drop-target-center","center"===e)}calculateQuadrant(e,t,i,n,s){var o,r,a,l,h,d,p,u;let m=null!=(r=null==(o=this.options.overlayModel)?void 0:o.activationSize)?r:ed;return"percentage"===m.type?function(e,t,i,n,s,o){let r=100*t/n,a=100*i/s;return e.has("left")&&r<o?"left":e.has("right")&&r>100-o?"right":e.has("top")&&a<o?"top":e.has("bottom")&&a>100-o?"bottom":e.has("center")?"center":null}(e,t,i,n,s,m.value):(a=e,l=t,h=i,d=n,p=s,u=m.value,a.has("left")&&l<u?"left":a.has("right")&&l>d-u?"right":a.has("top")&&h<u?"top":a.has("bottom")&&h>p-u?"bottom":a.has("center")?"center":null)}removeDropTarget(){var e;this.targetElement&&(this._state=void 0,null==(e=this.targetElement.parentElement)||e.classList.remove("dv-drop-target"),this.targetElement.remove(),this.targetElement=void 0,this.overlayElement=void 0)}}eu.USED_EVENT_ID="__dockview_droptarget_event_is_used__";let em=["disableAutoResizing","disableDnd","className"];class ec extends d{constructor(e,t,i,n){super(),this.nativeEvent=e,this.position=t,this.getData=i,this.panel=n}}class eg extends h{constructor(){super()}}class ev extends f{get isFocused(){return this._isFocused}get isActive(){return this._isActive}get isVisible(){return this._isVisible}get width(){return this._width}get height(){return this._height}constructor(e,t){super(),this.id=e,this.component=t,this._isFocused=!1,this._isActive=!1,this._isVisible=!0,this._width=0,this._height=0,this._parameters={},this.panelUpdatesDisposable=new _,this._onDidDimensionChange=new c,this.onDidDimensionsChange=this._onDidDimensionChange.event,this._onDidChangeFocus=new c,this.onDidFocusChange=this._onDidChangeFocus.event,this._onWillFocus=new c,this.onWillFocus=this._onWillFocus.event,this._onDidVisibilityChange=new c,this.onDidVisibilityChange=this._onDidVisibilityChange.event,this._onWillVisibilityChange=new c,this.onWillVisibilityChange=this._onWillVisibilityChange.event,this._onDidActiveChange=new c,this.onDidActiveChange=this._onDidActiveChange.event,this._onActiveChange=new c,this.onActiveChange=this._onActiveChange.event,this._onDidParametersChange=new c,this.onDidParametersChange=this._onDidParametersChange.event,this.addDisposables(this.onDidFocusChange(e=>{this._isFocused=e.isFocused}),this.onDidActiveChange(e=>{this._isActive=e.isActive}),this.onDidVisibilityChange(e=>{this._isVisible=e.isVisible}),this.onDidDimensionsChange(e=>{this._width=e.width,this._height=e.height}),this.panelUpdatesDisposable,this._onDidDimensionChange,this._onDidChangeFocus,this._onDidVisibilityChange,this._onDidActiveChange,this._onWillFocus,this._onActiveChange,this._onWillFocus,this._onWillVisibilityChange,this._onDidParametersChange)}getParameters(){return this._parameters}initialize(e){this.panelUpdatesDisposable.value=this._onDidParametersChange.event(t=>{this._parameters=t,e.update({params:t})})}setVisible(e){this._onWillVisibilityChange.fire({isVisible:e})}setActive(){this._onActiveChange.fire()}updateParameters(e){this._onDidParametersChange.fire(e)}}class ef extends ev{constructor(e,t){super(e,t),this._onDidConstraintsChangeInternal=new c,this.onDidConstraintsChangeInternal=this._onDidConstraintsChangeInternal.event,this._onDidConstraintsChange=new c({replay:!0}),this.onDidConstraintsChange=this._onDidConstraintsChange.event,this._onDidSizeChange=new c,this.onDidSizeChange=this._onDidSizeChange.event,this.addDisposables(this._onDidConstraintsChangeInternal,this._onDidConstraintsChange,this._onDidSizeChange)}setConstraints(e){this._onDidConstraintsChangeInternal.fire(e)}setSize(e){this._onDidSizeChange.fire(e)}}class e_ extends ef{set pane(e){this._pane=e}constructor(e,t){super(e,t),this._onDidExpansionChange=new c({replay:!0}),this.onDidExpansionChange=this._onDidExpansionChange.event,this._onMouseEnter=new c({}),this.onMouseEnter=this._onMouseEnter.event,this._onMouseLeave=new c({}),this.onMouseLeave=this._onMouseLeave.event,this.addDisposables(this._onDidExpansionChange,this._onMouseEnter,this._onMouseLeave)}setExpanded(e){var t;null==(t=this._pane)||t.setExpanded(e)}get isExpanded(){var e;return!!(null==(e=this._pane)?void 0:e.isExpanded())}}class ew extends f{get element(){return this._element}get width(){return this._width}get height(){return this._height}get params(){var e;return null==(e=this._params)?void 0:e.params}constructor(e,t,i){super(),this.id=e,this.component=t,this.api=i,this._height=0,this._width=0,this._element=document.createElement("div"),this._element.tabIndex=-1,this._element.style.outline="none",this._element.style.height="100%",this._element.style.width="100%",this._element.style.overflow="hidden";let n=new S(this._element);this.addDisposables(this.api,n.onDidFocus(()=>{this.api._onDidChangeFocus.fire({isFocused:!0})}),n.onDidBlur(()=>{this.api._onDidChangeFocus.fire({isFocused:!1})}),n)}focus(){let e=new eg;this.api._onWillFocus.fire(e),e.defaultPrevented||this._element.focus()}layout(e,t){this._width=e,this._height=t,this.api._onDidDimensionChange.fire({width:e,height:t}),this.part&&this._params&&this.part.update(this._params.params)}init(e){this._params=e,this.part=this.getComponent()}update(e){var t,i;for(let i of(this._params=Object.assign(Object.assign({},this._params),{params:Object.assign(Object.assign({},null==(t=this._params)?void 0:t.params),e.params)}),Object.keys(e.params)))void 0===e.params[i]&&delete this._params.params[i];null==(i=this.part)||i.update({params:this._params.params})}toJSON(){var e,t;let i=null!=(t=null==(e=this._params)?void 0:e.params)?t:{};return{id:this.id,component:this.component,params:Object.keys(i).length>0?i:void 0}}dispose(){var e;this.api.dispose(),null==(e=this.part)||e.dispose(),super.dispose()}}class eb extends ew{set orientation(e){this._orientation=e}get orientation(){return this._orientation}get minimumSize(){return this.headerSize+(this.isExpanded()?this._minimumBodySize:0)}get maximumSize(){return this.headerSize+(this.isExpanded()?this._maximumBodySize:0)}get size(){return this._size}get orthogonalSize(){return this._orthogonalSize}set orthogonalSize(e){this._orthogonalSize=e}get minimumBodySize(){return this._minimumBodySize}set minimumBodySize(e){this._minimumBodySize="number"==typeof e?e:0}get maximumBodySize(){return this._maximumBodySize}set maximumBodySize(e){this._maximumBodySize="number"==typeof e?e:Number.POSITIVE_INFINITY}get headerVisible(){return this._headerVisible}set headerVisible(e){this._headerVisible=e,this.header.style.display=e?"":"none"}constructor(e){super(e.id,e.component,new e_(e.id,e.component)),this._onDidChangeExpansionState=new c({replay:!0}),this.onDidChangeExpansionState=this._onDidChangeExpansionState.event,this._onDidChange=new c,this.onDidChange=this._onDidChange.event,this._orthogonalSize=0,this._size=0,this._isExpanded=!1,this.api.pane=this,this.api.initialize(this),this.headerSize=e.headerSize,this.headerComponent=e.headerComponent,this._minimumBodySize=e.minimumBodySize,this._maximumBodySize=e.maximumBodySize,this._isExpanded=e.isExpanded,this._headerVisible=e.isHeaderVisible,this._onDidChangeExpansionState.fire(this.isExpanded()),this._orientation=e.orientation,this.element.classList.add("dv-pane"),this.addDisposables(this.api.onWillVisibilityChange(e=>{let{isVisible:t}=e,{accessor:i}=this._params;i.setVisible(this,t)}),this.api.onDidSizeChange(e=>{this._onDidChange.fire({size:e.size})}),g(this.element,"mouseenter",e=>{this.api._onMouseEnter.fire(e)}),g(this.element,"mouseleave",e=>{this.api._onMouseLeave.fire(e)})),this.addDisposables(this._onDidChangeExpansionState,this.onDidChangeExpansionState(e=>{this.api._onDidExpansionChange.fire({isExpanded:e})}),this.api.onDidFocusChange(e=>{this.header&&(e.isFocused?D(this.header,"focused"):y(this.header,"focused"))})),this.renderOnce()}setVisible(e){this.api._onDidVisibilityChange.fire({isVisible:e})}setActive(e){this.api._onDidActiveChange.fire({isActive:e})}isExpanded(){return this._isExpanded}setExpanded(e){this._isExpanded!==e&&(this._isExpanded=e,e?(this.animationTimer&&clearTimeout(this.animationTimer),this.body&&this.element.appendChild(this.body)):this.animationTimer=setTimeout(()=>{var e;null==(e=this.body)||e.remove()},200),this._onDidChange.fire(e?{size:this.width}:{}),this._onDidChangeExpansionState.fire(e))}layout(e,t){this._size=e,this._orthogonalSize=t;let[i,n]=this.orientation===tm.HORIZONTAL?[e,t]:[t,e];super.layout(i,n)}init(e){var t,i;super.init(e),"number"==typeof e.minimumBodySize&&(this.minimumBodySize=e.minimumBodySize),"number"==typeof e.maximumBodySize&&(this.maximumBodySize=e.maximumBodySize),this.bodyPart=this.getBodyComponent(),this.headerPart=this.getHeaderComponent(),this.bodyPart.init(Object.assign(Object.assign({},e),{api:this.api})),this.headerPart.init(Object.assign(Object.assign({},e),{api:this.api})),null==(t=this.body)||t.append(this.bodyPart.element),null==(i=this.header)||i.append(this.headerPart.element),"boolean"==typeof e.isExpanded&&this.setExpanded(e.isExpanded)}toJSON(){let e=this._params;return Object.assign(Object.assign({},super.toJSON()),{headerComponent:this.headerComponent,title:e.title})}renderOnce(){this.header=document.createElement("div"),this.header.tabIndex=0,this.header.className="dv-pane-header",this.header.style.height=`${this.headerSize}px`,this.header.style.lineHeight=`${this.headerSize}px`,this.header.style.minHeight=`${this.headerSize}px`,this.header.style.maxHeight=`${this.headerSize}px`,this.element.appendChild(this.header),this.body=document.createElement("div"),this.body.className="dv-pane-body",this.element.appendChild(this.body)}getComponent(){return{update:e=>{var t,i;null==(t=this.bodyPart)||t.update({params:e}),null==(i=this.headerPart)||i.update({params:e})},dispose:()=>{var e,t;null==(e=this.bodyPart)||e.dispose(),null==(t=this.headerPart)||t.dispose()}}}}class ey extends eb{constructor(e){super({id:e.id,component:e.component,headerComponent:e.headerComponent,orientation:e.orientation,isExpanded:e.isExpanded,isHeaderVisible:!0,headerSize:e.headerSize,minimumBodySize:e.minimumBodySize,maximumBodySize:e.maximumBodySize}),this._onDidDrop=new c,this.onDidDrop=this._onDidDrop.event,this._onUnhandledDragOverEvent=new c,this.onUnhandledDragOverEvent=this._onUnhandledDragOverEvent.event,this.accessor=e.accessor,this.addDisposables(this._onDidDrop,this._onUnhandledDragOverEvent),e.disableDnd||this.initDragFeatures()}initDragFeatures(){if(!this.header)return;let e=this.id,t=this.accessor.id;this.header.draggable=!0,this.handler=new class extends er{getData(){return r.getInstance().setData([new o(t,e)],o.prototype),{dispose:()=>{r.getInstance().clearData(o.prototype)}}}}(this.header),this.target=new eu(this.element,{acceptedTargetZones:["top","bottom"],overlayModel:{activationSize:{type:"percentage",value:50}},canDisplayOverlay:(e,t)=>{let i=l();if(i&&i.paneId!==this.id&&i.viewId===this.accessor.id)return!0;let n=new ec(e,t,l,this);return this._onUnhandledDragOverEvent.fire(n),n.isAccepted}}),this.addDisposables(this._onDidDrop,this.handler,this.target,this.target.onDrop(e=>{this.onDrop(e)}))}onDrop(e){let t=l();if(!t||t.viewId!==this.accessor.id)return void this._onDidDrop.fire(Object.assign(Object.assign({},e),{panel:this,api:new en(this.accessor),getData:l}));let i=this._params.containerApi,n=t.paneId,s=i.getPanel(n);if(!s)return void this._onDidDrop.fire(Object.assign(Object.assign({},e),{panel:this,getData:l,api:new en(this.accessor)}));let o=i.panels,r=o.indexOf(s),a=i.panels.indexOf(this);("left"===e.position||"top"===e.position)&&(a=Math.max(0,a-1)),("right"===e.position||"bottom"===e.position)&&(r>a&&a++,a=Math.min(o.length-1,a)),i.movePanel(r,a)}}class eD extends f{get element(){return this._element}constructor(e,t){super(),this.accessor=e,this.group=t,this.disposable=new _,this._onDidFocus=new c,this.onDidFocus=this._onDidFocus.event,this._onDidBlur=new c,this.onDidBlur=this._onDidBlur.event,this._element=document.createElement("div"),this._element.className="dv-content-container",this._element.tabIndex=-1,this.addDisposables(this._onDidFocus,this._onDidBlur);let i=t.dropTargetContainer;this.dropTarget=new eu(this.element,{getOverlayOutline:()=>{var t;return(null==(t=e.options.theme)?void 0:t.dndPanelOverlay)==="group"?this.element.parentElement:null},className:"dv-drop-target-content",acceptedTargetZones:["top","bottom","left","right","center"],canDisplayOverlay:(e,t)=>{if("no-drop-target"===this.group.locked||this.group.locked&&"center"===t)return!1;let i=a();return(!!i||!e.shiftKey||"floating"===this.group.location.type)&&(!!i&&i.viewId===this.accessor.id||this.group.canDisplayOverlay(e,t,"content"))},getOverrideTarget:i?()=>i.model:void 0}),this.addDisposables(this.dropTarget)}show(){this.element.style.display=""}hide(){this.element.style.display="none"}renderPanel(e,t={asActive:!0}){let i,n=t.asActive||this.panel&&this.group.isPanelActive(this.panel);switch(this.panel&&this.panel.view.content.element.parentElement===this._element&&this._element.removeChild(this.panel.view.content.element),this.panel=e,e.api.renderer){case"onlyWhenVisible":this.group.renderContainer.detatch(e),this.panel&&n&&this._element.appendChild(this.panel.view.content.element),i=this._element;break;case"always":e.view.content.element.parentElement===this._element&&this._element.removeChild(e.view.content.element),i=this.group.renderContainer.attach({panel:e,referenceContainer:this});break;default:throw Error(`dockview: invalid renderer type '${e.api.renderer}'`)}if(n){let e=new S(i),t=new f;t.addDisposables(e,e.onDidFocus(()=>this._onDidFocus.fire()),e.onDidBlur(()=>this._onDidBlur.fire())),this.disposable.value=t}}openPanel(e){this.panel!==e&&this.renderPanel(e)}layout(e,t){}closePanel(){var e;this.panel&&"onlyWhenVisible"===this.panel.api.renderer&&(null==(e=this.panel.view.content.element.parentElement)||e.removeChild(this.panel.view.content.element)),this.panel=void 0}dispose(){this.disposable.dispose(),super.dispose()}}function eC(e,t,i){var n,s;D(t,"dv-dragged"),t.style.top="-9999px",document.body.appendChild(t),e.setDragImage(t,null!=(n=null==i?void 0:i.x)?n:0,null!=(s=null==i?void 0:i.y)?s:0),setTimeout(()=>{y(t,"dv-dragged"),t.remove()},0)}class ex extends er{constructor(e,t,i,n){super(e),this.accessor=t,this.group=i,this.panel=n,this.panelTransfer=r.getInstance()}getData(e){return this.panelTransfer.setData([new s(this.accessor.id,this.group.id,this.panel.id)],s.prototype),{dispose:()=>{this.panelTransfer.clearData(s.prototype)}}}}class eS extends f{get element(){return this._element}constructor(e,t,i){super(),this.panel=e,this.accessor=t,this.group=i,this.content=void 0,this._onPointDown=new c,this.onPointerDown=this._onPointDown.event,this._onDropped=new c,this.onDrop=this._onDropped.event,this._onDragStart=new c,this.onDragStart=this._onDragStart.event,this._element=document.createElement("div"),this._element.className="dv-tab",this._element.tabIndex=0,this._element.draggable=!0,C(this.element,"dv-inactive-tab",!0);let n=new ex(this._element,this.accessor,this.group,this.panel);this.dropTarget=new eu(this._element,{acceptedTargetZones:["left","right"],overlayModel:{activationSize:{value:50,type:"percentage"}},canDisplayOverlay:(e,t)=>{if(this.group.locked)return!1;let i=a();return!!i&&this.accessor.id===i.viewId||this.group.model.canDisplayOverlay(e,t,"tab")},getOverrideTarget:()=>{var e;return null==(e=i.model.dropTargetContainer)?void 0:e.model}}),this.onWillShowOverlay=this.dropTarget.onWillShowOverlay,this.addDisposables(this._onPointDown,this._onDropped,this._onDragStart,n.onDragStart(e=>{if(e.dataTransfer){let t=getComputedStyle(this.element),i=this.element.cloneNode(!0);Array.from(t).forEach(e=>i.style.setProperty(e,t.getPropertyValue(e),t.getPropertyPriority(e))),i.style.position="absolute",eC(e.dataTransfer,i,{y:-10,x:30})}this._onDragStart.fire(e)}),n,g(this._element,"pointerdown",e=>{this._onPointDown.fire(e)}),this.dropTarget.onDrop(e=>{this._onDropped.fire(e)}),this.dropTarget)}setActive(e){C(this.element,"dv-active-tab",e),C(this.element,"dv-inactive-tab",!e)}setContent(e){this.content&&this._element.removeChild(this.content.element),this.content=e,this._element.appendChild(this.content.element)}dispose(){super.dispose()}}class eA extends er{constructor(e,t,i){super(e),this.accessor=t,this.group=i,this.panelTransfer=r.getInstance(),this.addDisposables(g(e,"pointerdown",e=>{e.shiftKey&&(e[A]=!0)},!0))}isCancelled(e){return"floating"===this.group.api.location.type&&!e.shiftKey}getData(e){let t=e.dataTransfer;this.panelTransfer.setData([new s(this.accessor.id,this.group.id,null)],s.prototype);let i=window.getComputedStyle(this.el),n=i.getPropertyValue("--dv-activegroup-visiblepanel-tab-background-color"),o=i.getPropertyValue("--dv-activegroup-visiblepanel-tab-color");if(t){let e=document.createElement("div");e.style.backgroundColor=n,e.style.color=o,e.style.padding="2px 8px",e.style.height="24px",e.style.fontSize="11px",e.style.lineHeight="20px",e.style.borderRadius="12px",e.style.position="absolute",e.style.pointerEvents="none",e.style.top="-9999px",e.textContent=`Multiple Panels (${this.group.size})`,eC(t,e,{y:-10,x:30})}return{dispose:()=>{this.panelTransfer.clearData(s.prototype)}}}}class ez extends f{get element(){return this._element}constructor(e,t){super(),this.accessor=e,this.group=t,this._onDrop=new c,this.onDrop=this._onDrop.event,this._onDragStart=new c,this.onDragStart=this._onDragStart.event,this._element=document.createElement("div"),this._element.className="dv-void-container",this._element.draggable=!0,this.addDisposables(this._onDrop,this._onDragStart,g(this._element,"pointerdown",()=>{this.accessor.doSetGroupActive(this.group)}));let i=new eA(this._element,e,t);this.dropTarget=new eu(this._element,{acceptedTargetZones:["center"],canDisplayOverlay:(e,i)=>{let n=a();return!!n&&this.accessor.id===n.viewId||t.model.canDisplayOverlay(e,i,"header_space")},getOverrideTarget:()=>{var e;return null==(e=t.model.dropTargetContainer)?void 0:e.model}}),this.onWillShowOverlay=this.dropTarget.onWillShowOverlay,this.addDisposables(i,i.onDragStart(e=>{this._onDragStart.fire(e)}),this.dropTarget.onDrop(e=>{this._onDrop.fire(e)}),this.dropTarget)}}class eE extends f{get element(){return this._element}constructor(e){super(),this.scrollableElement=e,this._scrollLeft=0,this._element=document.createElement("div"),this._element.className="dv-scrollable",this._horizontalScrollbar=document.createElement("div"),this._horizontalScrollbar.className="dv-scrollbar-horizontal",this.element.appendChild(e),this.element.appendChild(this._horizontalScrollbar),this.addDisposables(g(this.element,"wheel",e=>{this._scrollLeft+=e.deltaY*eE.MouseWheelSpeed,this.calculateScrollbarStyles()}),g(this._horizontalScrollbar,"pointerdown",e=>{e.preventDefault(),C(this.element,"dv-scrollable-scrolling",!0);let t=e.clientX,i=this._scrollLeft,n=e=>{let n=e.clientX-t,{clientWidth:s}=this.element,{scrollWidth:o}=this.scrollableElement;this._scrollLeft=i+n/(s/o),this.calculateScrollbarStyles()},s=()=>{C(this.element,"dv-scrollable-scrolling",!1),document.removeEventListener("pointermove",n),document.removeEventListener("pointerup",s),document.removeEventListener("pointercancel",s)};document.addEventListener("pointermove",n),document.addEventListener("pointerup",s),document.addEventListener("pointercancel",s)}),g(this.element,"scroll",()=>{this.calculateScrollbarStyles()}),g(this.scrollableElement,"scroll",()=>{this._scrollLeft=this.scrollableElement.scrollLeft,this.calculateScrollbarStyles()}),b(this.element,()=>{C(this.element,"dv-scrollable-resizing",!0),this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(()=>{clearTimeout(this._animationTimer),C(this.element,"dv-scrollable-resizing",!1)},500),this.calculateScrollbarStyles()}))}calculateScrollbarStyles(){let{clientWidth:e}=this.element,{scrollWidth:t}=this.scrollableElement;if(t>e){let i=e/t*e;this._horizontalScrollbar.style.width=`${i}px`,this._scrollLeft=M(this._scrollLeft,0,this.scrollableElement.scrollWidth-e),this.scrollableElement.scrollLeft=this._scrollLeft;let n=this._scrollLeft/(t-e);this._horizontalScrollbar.style.left=`${(e-i)*n}px`}else this._horizontalScrollbar.style.width="0px",this._horizontalScrollbar.style.left="0px",this._scrollLeft=0}}eE.MouseWheelSpeed=1;class eP extends f{get showTabsOverflowControl(){return this._showTabsOverflowControl}set showTabsOverflowControl(e){if(this._showTabsOverflowControl!=e&&(this._showTabsOverflowControl=e,e)){let e=new w(this._tabsList);this._observerDisposable.value=new f(e,e.onDidChange(e=>{let t=e.hasScrollX||e.hasScrollY;this.toggleDropdown({reset:!t})}),g(this._tabsList,"scroll",()=>{this.toggleDropdown({reset:!1})}))}}get element(){return this._element}get panels(){return this._tabs.map(e=>e.value.panel.id)}get size(){return this._tabs.length}get tabs(){return this._tabs.map(e=>e.value)}constructor(e,t,i){if(super(),this.group=e,this.accessor=t,this._observerDisposable=new _,this._tabs=[],this.selectedIndex=-1,this._showTabsOverflowControl=!1,this._onTabDragStart=new c,this.onTabDragStart=this._onTabDragStart.event,this._onDrop=new c,this.onDrop=this._onDrop.event,this._onWillShowOverlay=new c,this.onWillShowOverlay=this._onWillShowOverlay.event,this._onOverflowTabsChange=new c,this.onOverflowTabsChange=this._onOverflowTabsChange.event,this._tabsList=document.createElement("div"),this._tabsList.className="dv-tabs-container dv-horizontal",this.showTabsOverflowControl=i.showTabsOverflowControl,"native"===t.options.scrollbars)this._element=this._tabsList;else{let e=new eE(this._tabsList);this._element=e.element,this.addDisposables(e)}this.addDisposables(this._onOverflowTabsChange,this._observerDisposable,this._onWillShowOverlay,this._onDrop,this._onTabDragStart,g(this.element,"pointerdown",e=>{e.defaultPrevented||0===e.button&&this.accessor.doSetGroupActive(this.group)}),tu.from(()=>{for(let{value:e,disposable:t}of this._tabs)t.dispose(),e.dispose();this._tabs=[]}))}indexOf(e){return this._tabs.findIndex(t=>t.value.panel.id===e)}isActive(e){return this.selectedIndex>-1&&this._tabs[this.selectedIndex].value===e}setActivePanel(e){let t=0;for(let i of this._tabs){let n=e.id===i.value.panel.id;if(i.value.setActive(n),n){let e=i.value.element,n=e.parentElement;(t<n.scrollLeft||t+e.clientWidth>n.scrollLeft+n.clientWidth)&&(n.scrollLeft=t)}t+=i.value.element.clientWidth}}openPanel(e,t=this._tabs.length){if(this._tabs.find(t=>t.value.panel.id===e.id))return;let i=new eS(e,this.accessor,this.group);i.setContent(e.view.tab);let n=new f(i.onDragStart(t=>{this._onTabDragStart.fire({nativeEvent:t,panel:e})}),i.onPointerDown(t=>{if(t.defaultPrevented)return;let n=!this.accessor.options.disableFloatingGroups,s="floating"===this.group.api.location.type&&1===this.size;if(n&&!s&&t.shiftKey){t.preventDefault();let e=this.accessor.getGroupPanel(i.panel.id),{top:n,left:s}=i.element.getBoundingClientRect(),{top:o,left:r}=this.accessor.element.getBoundingClientRect();this.accessor.addFloatingGroup(e,{x:s-r,y:n-o,inDragMode:!0});return}0===t.button&&this.group.activePanel!==e&&this.group.model.openPanel(e)}),i.onDrop(e=>{this._onDrop.fire({event:e.nativeEvent,index:this._tabs.findIndex(e=>e.value===i)})}),i.onWillShowOverlay(e=>{this._onWillShowOverlay.fire(new eL(e,{kind:"tab",panel:this.group.activePanel,api:this.accessor.api,group:this.group,getData:a}))}));this.addTab({value:i,disposable:n},t)}delete(e){let t=this.indexOf(e),{value:i,disposable:n}=this._tabs.splice(t,1)[0];n.dispose(),i.dispose(),i.element.remove()}addTab(e,t=this._tabs.length){if(t<0||t>this._tabs.length)throw Error("invalid location");this._tabsList.insertBefore(e.value.element,this._tabsList.children[t]),this._tabs=[...this._tabs.slice(0,t),e,...this._tabs.slice(t)],this.selectedIndex<0&&(this.selectedIndex=t)}toggleDropdown(e){let t=e.reset?[]:this._tabs.filter(e=>!function(e,t){let i=z(e),n=z(t);return!(i.left<n.left)&&!(i.left+i.width>n.left+n.width)}(e.value.element,this._tabsList)).map(e=>e.value.panel.id);this._onOverflowTabsChange.fire({tabs:t,reset:e.reset})}}let ek=e=>{let t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttributeNS(null,"height",e.height),t.setAttributeNS(null,"width",e.width),t.setAttributeNS(null,"viewBox",e.viewbox),t.setAttributeNS(null,"aria-hidden","false"),t.setAttributeNS(null,"focusable","false"),t.classList.add("dv-svg");let i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttributeNS(null,"d",e.path),t.appendChild(i),t},eO=()=>ek({width:"11",height:"11",viewbox:"0 0 28 28",path:"M2.1 27.3L0 25.2L11.55 13.65L0 2.1L2.1 0L13.65 11.55L25.2 0L27.3 2.1L15.75 13.65L27.3 25.2L25.2 27.3L13.65 15.75L2.1 27.3Z"}),eI=()=>ek({width:"11",height:"11",viewbox:"0 0 24 15",path:"M12 14.15L0 2.15L2.15 0L12 9.9L21.85 0.0499992L24 2.2L12 14.15Z"}),eT=()=>ek({width:"11",height:"11",viewbox:"0 0 15 25",path:"M2.15 24.1L0 21.95L9.9 12.05L0 2.15L2.15 0L14.2 12.05L2.15 24.1Z"});class eN extends f{get onTabDragStart(){return this.tabs.onTabDragStart}get panels(){return this.tabs.panels}get size(){return this.tabs.size}get hidden(){return this._hidden}set hidden(e){this._hidden=e,this.element.style.display=e?"none":""}get element(){return this._element}constructor(e,t){super(),this.accessor=e,this.group=t,this._hidden=!1,this.dropdownPart=null,this._overflowTabs=[],this._dropdownDisposable=new _,this._onDrop=new c,this.onDrop=this._onDrop.event,this._onGroupDragStart=new c,this.onGroupDragStart=this._onGroupDragStart.event,this._onWillShowOverlay=new c,this.onWillShowOverlay=this._onWillShowOverlay.event,this._element=document.createElement("div"),this._element.className="dv-tabs-and-actions-container",C(this._element,"dv-full-width-single-tab","fullwidth"===this.accessor.options.singleTabMode),this.rightActionsContainer=document.createElement("div"),this.rightActionsContainer.className="dv-right-actions-container",this.leftActionsContainer=document.createElement("div"),this.leftActionsContainer.className="dv-left-actions-container",this.preActionsContainer=document.createElement("div"),this.preActionsContainer.className="dv-pre-actions-container",this.tabs=new eP(t,e,{showTabsOverflowControl:!e.options.disableTabsOverflowList}),this.voidContainer=new ez(this.accessor,this.group),this._element.appendChild(this.preActionsContainer),this._element.appendChild(this.tabs.element),this._element.appendChild(this.leftActionsContainer),this._element.appendChild(this.voidContainer.element),this._element.appendChild(this.rightActionsContainer),this.addDisposables(this.tabs.onDrop(e=>this._onDrop.fire(e)),this.tabs.onWillShowOverlay(e=>this._onWillShowOverlay.fire(e)),e.onDidOptionsChange(()=>{this.tabs.showTabsOverflowControl=!e.options.disableTabsOverflowList}),this.tabs.onOverflowTabsChange(e=>{this.toggleDropdown(e)}),this.tabs,this._onWillShowOverlay,this._onDrop,this._onGroupDragStart,this.voidContainer,this.voidContainer.onDragStart(e=>{this._onGroupDragStart.fire({nativeEvent:e,group:this.group})}),this.voidContainer.onDrop(e=>{this._onDrop.fire({event:e.nativeEvent,index:this.tabs.size})}),this.voidContainer.onWillShowOverlay(e=>{this._onWillShowOverlay.fire(new eL(e,{kind:"header_space",panel:this.group.activePanel,api:this.accessor.api,group:this.group,getData:a}))}),g(this.voidContainer.element,"pointerdown",e=>{if(!e.defaultPrevented&&!this.accessor.options.disableFloatingGroups&&e.shiftKey&&"floating"!==this.group.api.location.type){e.preventDefault();let{top:t,left:i}=this.element.getBoundingClientRect(),{top:n,left:s}=this.accessor.element.getBoundingClientRect();this.accessor.addFloatingGroup(this.group,{x:i-s+20,y:t-n+20,inDragMode:!0})}}))}show(){this.hidden||(this.element.style.display="")}hide(){this._element.style.display="none"}setRightActionsElement(e){this.rightActions!==e&&(this.rightActions&&(this.rightActions.remove(),this.rightActions=void 0),e&&(this.rightActionsContainer.appendChild(e),this.rightActions=e))}setLeftActionsElement(e){this.leftActions!==e&&(this.leftActions&&(this.leftActions.remove(),this.leftActions=void 0),e&&(this.leftActionsContainer.appendChild(e),this.leftActions=e))}setPrefixActionsElement(e){this.preActions!==e&&(this.preActions&&(this.preActions.remove(),this.preActions=void 0),e&&(this.preActionsContainer.appendChild(e),this.preActions=e))}isActive(e){return this.tabs.isActive(e)}indexOf(e){return this.tabs.indexOf(e)}setActive(e){}delete(e){this.tabs.delete(e),this.updateClassnames()}setActivePanel(e){this.tabs.setActivePanel(e)}openPanel(e,t=this.tabs.size){this.tabs.openPanel(e,t),this.updateClassnames()}closePanel(e){this.delete(e.id)}updateClassnames(){C(this._element,"dv-single-tab",1===this.size)}toggleDropdown(e){let t=e.reset?[]:e.tabs;if(this._overflowTabs=t,this._overflowTabs.length>0&&this.dropdownPart)return void this.dropdownPart.update({tabs:t.length});if(0===this._overflowTabs.length)return void this._dropdownDisposable.dispose();let i=document.createElement("div");i.className="dv-tabs-overflow-dropdown-root";let n=function(){let e=document.createElement("div");e.className="dv-tabs-overflow-dropdown-default";let t=document.createElement("span");t.textContent="";let i=eT();return e.appendChild(i),e.appendChild(t),{element:e,update:e=>{t.textContent=`${e.tabs}`}}}();n.update({tabs:t.length}),this.dropdownPart=n,i.appendChild(n.element),this.rightActionsContainer.prepend(i),this._dropdownDisposable.value=new f(tu.from(()=>{var e,t;i.remove(),null==(t=null==(e=this.dropdownPart)?void 0:e.dispose)||t.call(e),this.dropdownPart=null}),g(i,"pointerdown",e=>{e.preventDefault()},{capture:!0}),g(i,"click",e=>{let t=document.createElement("div");for(let e of(t.style.overflow="auto",t.className="dv-tabs-overflow-container",this.tabs.tabs.filter(e=>this._overflowTabs.includes(e.panel.id)))){let i=this.group.panels.find(t=>t===e.panel),n=i.view.createTabRenderer("headerOverflow").element,s=document.createElement("div");C(s,"dv-tab",!0),C(s,"dv-active-tab",i.api.isActive),C(s,"dv-inactive-tab",!i.api.isActive),s.addEventListener("pointerdown",()=>{this.accessor.popupService.close(),e.element.scrollIntoView(),e.panel.api.setActive()}),s.appendChild(n),t.appendChild(s)}let n=function(e){let t=e;for(;t&&("auto"===t.style.zIndex||""===t.style.zIndex);)t=t.parentElement;return t}(i);this.accessor.popupService.openPopover(t,{x:e.clientX,y:e.clientY,zIndex:(null==n?void 0:n.style.zIndex)?`calc(${n.style.zIndex} * 2)`:void 0})}))}}class eM extends d{constructor(e,t,i,n,s){super(),this.nativeEvent=e,this.target=t,this.position=i,this.getData=n,this.group=s}}let eG=["disableAutoResizing","hideBorders","singleTabMode","disableFloatingGroups","floatingGroupBounds","popoutUrl","defaultRenderer","debug","rootOverlayModel","locked","disableDnd","className","noPanelsOverlay","dndEdges","theme","disableTabsOverflowList","scrollbars"];class eR extends h{get nativeEvent(){return this.options.nativeEvent}get position(){return this.options.position}get panel(){return this.options.panel}get group(){return this.options.group}get api(){return this.options.api}constructor(e){super(),this.options=e}getData(){return this.options.getData()}}class eV extends eR{get kind(){return this._kind}constructor(e){super(e),this._kind=e.kind}}class eL{get kind(){return this.options.kind}get nativeEvent(){return this.event.nativeEvent}get position(){return this.event.position}get defaultPrevented(){return this.event.defaultPrevented}get panel(){return this.options.panel}get api(){return this.options.api}get group(){return this.options.group}preventDefault(){this.event.preventDefault()}getData(){return this.options.getData()}constructor(e,t){this.event=e,this.options=t}}class eW extends f{get element(){throw Error("dockview: not supported")}get activePanel(){return this._activePanel}get locked(){return this._locked}set locked(e){this._locked=e,C(this.container,"dv-locked-groupview","no-drop-target"===e||e)}get isActive(){return this._isGroupActive}get panels(){return this._panels}get size(){return this._panels.length}get isEmpty(){return 0===this._panels.length}get hasWatermark(){return!!(this.watermark&&this.container.contains(this.watermark.element))}get header(){return this.tabsContainer}get isContentFocused(){return!!document.activeElement&&x(document.activeElement,this.contentContainer.element)}get location(){return this._location}set location(e){switch(this._location=e,C(this.container,"dv-groupview-floating",!1),C(this.container,"dv-groupview-popout",!1),e.type){case"grid":this.contentContainer.dropTarget.setTargetZones(["top","bottom","left","right","center"]);break;case"floating":this.contentContainer.dropTarget.setTargetZones(["center"]),this.contentContainer.dropTarget.setTargetZones(e?["center"]:["top","bottom","left","right","center"]),C(this.container,"dv-groupview-floating",!0);break;case"popout":this.contentContainer.dropTarget.setTargetZones(["center"]),C(this.container,"dv-groupview-popout",!0)}this.groupPanel.api._onDidLocationChange.fire({location:this.location})}constructor(e,t,i,n,s){var o;super(),this.container=e,this.accessor=t,this.id=i,this.options=n,this.groupPanel=s,this._isGroupActive=!1,this._locked=!1,this._location={type:"grid"},this.mostRecentlyUsed=[],this._overwriteRenderContainer=null,this._overwriteDropTargetContainer=null,this._onDidChange=new c,this.onDidChange=this._onDidChange.event,this._width=0,this._height=0,this._panels=[],this._panelDisposables=new Map,this._onMove=new c,this.onMove=this._onMove.event,this._onDidDrop=new c,this.onDidDrop=this._onDidDrop.event,this._onWillDrop=new c,this.onWillDrop=this._onWillDrop.event,this._onWillShowOverlay=new c,this.onWillShowOverlay=this._onWillShowOverlay.event,this._onTabDragStart=new c,this.onTabDragStart=this._onTabDragStart.event,this._onGroupDragStart=new c,this.onGroupDragStart=this._onGroupDragStart.event,this._onDidAddPanel=new c,this.onDidAddPanel=this._onDidAddPanel.event,this._onDidPanelTitleChange=new c,this.onDidPanelTitleChange=this._onDidPanelTitleChange.event,this._onDidPanelParametersChange=new c,this.onDidPanelParametersChange=this._onDidPanelParametersChange.event,this._onDidRemovePanel=new c,this.onDidRemovePanel=this._onDidRemovePanel.event,this._onDidActivePanelChange=new c,this.onDidActivePanelChange=this._onDidActivePanelChange.event,this._onUnhandledDragOverEvent=new c,this.onUnhandledDragOverEvent=this._onUnhandledDragOverEvent.event,C(this.container,"dv-groupview",!0),this._api=new eo(this.accessor),this.tabsContainer=new eN(this.accessor,this.groupPanel),this.contentContainer=new eD(this.accessor,this),e.append(this.tabsContainer.element,this.contentContainer.element),this.header.hidden=!!n.hideHeader,this.locked=null!=(o=n.locked)&&o,this.addDisposables(this._onTabDragStart,this._onGroupDragStart,this._onWillShowOverlay,this.tabsContainer.onTabDragStart(e=>{this._onTabDragStart.fire(e)}),this.tabsContainer.onGroupDragStart(e=>{this._onGroupDragStart.fire(e)}),this.tabsContainer.onDrop(e=>{this.handleDropEvent("header",e.event,"center",e.index)}),this.contentContainer.onDidFocus(()=>{this.accessor.doSetGroupActive(this.groupPanel)}),this.contentContainer.onDidBlur(()=>{}),this.contentContainer.dropTarget.onDrop(e=>{this.handleDropEvent("content",e.nativeEvent,e.position)}),this.tabsContainer.onWillShowOverlay(e=>{this._onWillShowOverlay.fire(e)}),this.contentContainer.dropTarget.onWillShowOverlay(e=>{this._onWillShowOverlay.fire(new eL(e,{kind:"content",panel:this.activePanel,api:this._api,group:this.groupPanel,getData:a}))}),this._onMove,this._onDidChange,this._onDidDrop,this._onWillDrop,this._onDidAddPanel,this._onDidRemovePanel,this._onDidActivePanelChange,this._onUnhandledDragOverEvent,this._onDidPanelTitleChange,this._onDidPanelParametersChange)}focusContent(){this.contentContainer.element.focus()}set renderContainer(e){this.panels.forEach(e=>{this.renderContainer.detatch(e)}),this._overwriteRenderContainer=e,this.panels.forEach(e=>{this.rerender(e)})}get renderContainer(){var e;return null!=(e=this._overwriteRenderContainer)?e:this.accessor.overlayRenderContainer}set dropTargetContainer(e){this._overwriteDropTargetContainer=e}get dropTargetContainer(){var e;return null!=(e=this._overwriteDropTargetContainer)?e:this.accessor.rootDropTargetContainer}initialize(){this.options.panels&&this.options.panels.forEach(e=>{this.doAddPanel(e)}),this.options.activePanel&&this.openPanel(this.options.activePanel),this.setActive(this.isActive,!0),this.updateContainer(),this.accessor.options.createRightHeaderActionComponent&&(this._rightHeaderActions=this.accessor.options.createRightHeaderActionComponent(this.groupPanel),this.addDisposables(this._rightHeaderActions),this._rightHeaderActions.init({containerApi:this._api,api:this.groupPanel.api,group:this.groupPanel}),this.tabsContainer.setRightActionsElement(this._rightHeaderActions.element)),this.accessor.options.createLeftHeaderActionComponent&&(this._leftHeaderActions=this.accessor.options.createLeftHeaderActionComponent(this.groupPanel),this.addDisposables(this._leftHeaderActions),this._leftHeaderActions.init({containerApi:this._api,api:this.groupPanel.api,group:this.groupPanel}),this.tabsContainer.setLeftActionsElement(this._leftHeaderActions.element)),this.accessor.options.createPrefixHeaderActionComponent&&(this._prefixHeaderActions=this.accessor.options.createPrefixHeaderActionComponent(this.groupPanel),this.addDisposables(this._prefixHeaderActions),this._prefixHeaderActions.init({containerApi:this._api,api:this.groupPanel.api,group:this.groupPanel}),this.tabsContainer.setPrefixActionsElement(this._prefixHeaderActions.element))}rerender(e){this.contentContainer.renderPanel(e,{asActive:!1})}indexOf(e){return this.tabsContainer.indexOf(e.id)}toJSON(){var e;let t={views:this.tabsContainer.panels,activeView:null==(e=this._activePanel)?void 0:e.id,id:this.id};return!1!==this.locked&&(t.locked=this.locked),this.header.hidden&&(t.hideHeader=!0),t}moveToNext(e){let t;e||(e={}),e.panel||(e.panel=this.activePanel);let i=e.panel?this.panels.indexOf(e.panel):-1;if(i<this.panels.length-1)t=i+1;else{if(e.suppressRoll)return;t=0}this.openPanel(this.panels[t])}moveToPrevious(e){let t;if(e||(e={}),e.panel||(e.panel=this.activePanel),!e.panel)return;let i=this.panels.indexOf(e.panel);if(i>0)t=i-1;else{if(e.suppressRoll)return;t=this.panels.length-1}this.openPanel(this.panels[t])}containsPanel(e){return this.panels.includes(e)}init(e){}update(e){}focus(){var e;null==(e=this._activePanel)||e.focus()}openPanel(e,t={}){("number"!=typeof t.index||t.index>this.panels.length)&&(t.index=this.panels.length);let i=!!t.skipSetActive;if(e.updateParentGroup(this.groupPanel,{skipSetActive:t.skipSetActive}),this.doAddPanel(e,t.index,{skipSetActive:i}),this._activePanel===e)return void this.contentContainer.renderPanel(e,{asActive:!0});i||this.doSetActivePanel(e),t.skipSetGroupActive||this.accessor.doSetGroupActive(this.groupPanel),t.skipSetActive||this.updateContainer()}removePanel(e,t={skipSetActive:!1}){let i="string"==typeof e?e:e.id,n=this._panels.find(e=>e.id===i);if(!n)throw Error("invalid operation");return this._removePanel(n,t)}closeAllPanels(){if(this.panels.length>0)for(let e of[...this.panels])this.doClose(e);else this.accessor.removeGroup(this.groupPanel)}closePanel(e){this.doClose(e)}doClose(e){let t=1===this.panels.length&&1===this.accessor.groups.length;this.accessor.removePanel(e,t&&"emptyGroup"===this.accessor.options.noPanelsOverlay?{removeEmptyGroup:!1}:void 0)}isPanelActive(e){return this._activePanel===e}updateActions(e){this.tabsContainer.setRightActionsElement(e)}setActive(e,t=!1){(t||this.isActive!==e)&&(this._isGroupActive=e,C(this.container,"dv-active-group",e),C(this.container,"dv-inactive-group",!e),this.tabsContainer.setActive(this.isActive),!this._activePanel&&this.panels.length>0&&this.doSetActivePanel(this.panels[0]),this.updateContainer())}layout(e,t){var i;this._width=e,this._height=t,this.contentContainer.layout(this._width,this._height),(null==(i=this._activePanel)?void 0:i.layout)&&this._activePanel.layout(this._width,this._height)}_removePanel(e,t){let i=this._activePanel===e;if(this.doRemovePanel(e),i&&this.panels.length>0){let e=this.mostRecentlyUsed[0];this.openPanel(e,{skipSetActive:t.skipSetActive,skipSetGroupActive:t.skipSetActiveGroup})}return this._activePanel&&0===this.panels.length&&this.doSetActivePanel(void 0),t.skipSetActive||this.updateContainer(),e}doRemovePanel(e){let t=this.panels.indexOf(e);if(this._activePanel===e&&this.contentContainer.closePanel(),this.tabsContainer.delete(e.id),this._panels.splice(t,1),this.mostRecentlyUsed.includes(e)){let t=this.mostRecentlyUsed.indexOf(e);this.mostRecentlyUsed.splice(t,1)}let i=this._panelDisposables.get(e.id);i&&(i.dispose(),this._panelDisposables.delete(e.id)),this._onDidRemovePanel.fire({panel:e})}doAddPanel(e,t=this.panels.length,i={skipSetActive:!1}){let n=this._panels.indexOf(e);this.tabsContainer.show(),this.contentContainer.show(),this.tabsContainer.openPanel(e,t),i.skipSetActive||this.contentContainer.openPanel(e),n>-1||(this.updateMru(e),this.panels.splice(t,0,e),this._panelDisposables.set(e.id,new f(e.api.onDidTitleChange(e=>this._onDidPanelTitleChange.fire(e)),e.api.onDidParametersChange(e=>this._onDidPanelParametersChange.fire(e)))),this._onDidAddPanel.fire({panel:e}))}doSetActivePanel(e){this._activePanel!==e&&(this._activePanel=e,e&&(this.tabsContainer.setActivePanel(e),e.layout(this._width,this._height),this.updateMru(e),this._onDidActivePanelChange.fire({panel:e})))}updateMru(e){this.mostRecentlyUsed.includes(e)&&this.mostRecentlyUsed.splice(this.mostRecentlyUsed.indexOf(e),1),this.mostRecentlyUsed=[e,...this.mostRecentlyUsed]}updateContainer(){var e,t;if(this.panels.forEach(e=>e.runEvents()),this.isEmpty&&!this.watermark){let e=this.accessor.createWatermarkComponent();e.init({containerApi:this._api,group:this.groupPanel}),this.watermark=e,g(this.watermark.element,"pointerdown",()=>{this.isActive||this.accessor.doSetGroupActive(this.groupPanel)}),this.contentContainer.element.appendChild(this.watermark.element)}!this.isEmpty&&this.watermark&&(this.watermark.element.remove(),null==(t=(e=this.watermark).dispose)||t.call(e),this.watermark=void 0)}canDisplayOverlay(e,t,i){let n=new eM(e,i,t,a,this.accessor.getPanel(this.id));return this._onUnhandledDragOverEvent.fire(n),n.isAccepted}handleDropEvent(e,t,i,n){if("no-drop-target"===this.locked)return;let s="number"==typeof n?this.panels[n]:void 0,o=new eV({nativeEvent:t,position:i,panel:s,getData:()=>a(),kind:function(){switch(e){case"header":return"number"==typeof n?"tab":"header_space";case"content":return"content"}}(),group:this.groupPanel,api:this._api});if(this._onWillDrop.fire(o),o.defaultPrevented)return;let r=a();if(r&&r.viewId===this.accessor.id){if("content"===e&&r.groupId===this.id&&("center"===i||null===r.panelId)||"header"===e&&r.groupId===this.id&&null===r.panelId)return;if(null===r.panelId){let{groupId:e}=r;this._onMove.fire({target:i,groupId:e,index:n});return}if(-1!==this.tabsContainer.indexOf(r.panelId)&&1===this.tabsContainer.size)return;let{groupId:t,panelId:s}=r;if(this.id===t&&!i&&this.tabsContainer.indexOf(s)===n)return;this._onMove.fire({target:i,groupId:r.groupId,itemId:r.panelId,index:n})}else this._onDidDrop.fire(new eR({nativeEvent:t,position:i,panel:s,getData:()=>a(),group:this.groupPanel,api:this._api}))}dispose(){var e,t,i;for(let n of(super.dispose(),null==(e=this.watermark)||e.element.remove(),null==(i=null==(t=this.watermark)?void 0:t.dispose)||i.call(t),this.watermark=void 0,this.panels))n.dispose();this.tabsContainer.dispose(),this.contentContainer.dispose()}}class eH extends ev{constructor(e,t,i){super(e,t),this._onDidConstraintsChangeInternal=new c,this.onDidConstraintsChangeInternal=this._onDidConstraintsChangeInternal.event,this._onDidConstraintsChange=new c,this.onDidConstraintsChange=this._onDidConstraintsChange.event,this._onDidSizeChange=new c,this.onDidSizeChange=this._onDidSizeChange.event,this.addDisposables(this._onDidConstraintsChangeInternal,this._onDidConstraintsChange,this._onDidSizeChange),i&&this.initialize(i)}setConstraints(e){this._onDidConstraintsChangeInternal.fire(e)}setSize(e){this._onDidSizeChange.fire(e)}}class ej extends ew{get priority(){return this._priority}get snap(){return this._snap}get minimumWidth(){return this.__minimumWidth()}get minimumHeight(){return this.__minimumHeight()}get maximumHeight(){return this.__maximumHeight()}get maximumWidth(){return this.__maximumWidth()}__minimumWidth(){let e="function"==typeof this._minimumWidth?this._minimumWidth():this._minimumWidth;return e!==this._evaluatedMinimumWidth&&(this._evaluatedMinimumWidth=e,this.updateConstraints()),e}__maximumWidth(){let e="function"==typeof this._maximumWidth?this._maximumWidth():this._maximumWidth;return e!==this._evaluatedMaximumWidth&&(this._evaluatedMaximumWidth=e,this.updateConstraints()),e}__minimumHeight(){let e="function"==typeof this._minimumHeight?this._minimumHeight():this._minimumHeight;return e!==this._evaluatedMinimumHeight&&(this._evaluatedMinimumHeight=e,this.updateConstraints()),e}__maximumHeight(){let e="function"==typeof this._maximumHeight?this._maximumHeight():this._maximumHeight;return e!==this._evaluatedMaximumHeight&&(this._evaluatedMaximumHeight=e,this.updateConstraints()),e}get isActive(){return this.api.isActive}get isVisible(){return this.api.isVisible}constructor(e,t,i,n){super(e,t,null!=n?n:new eH(e,t)),this._evaluatedMinimumWidth=0,this._evaluatedMaximumWidth=Number.MAX_SAFE_INTEGER,this._evaluatedMinimumHeight=0,this._evaluatedMaximumHeight=Number.MAX_SAFE_INTEGER,this._minimumWidth=0,this._minimumHeight=0,this._maximumWidth=Number.MAX_SAFE_INTEGER,this._maximumHeight=Number.MAX_SAFE_INTEGER,this._snap=!1,this._onDidChange=new c,this.onDidChange=this._onDidChange.event,"number"==typeof(null==i?void 0:i.minimumWidth)&&(this._minimumWidth=i.minimumWidth),"number"==typeof(null==i?void 0:i.maximumWidth)&&(this._maximumWidth=i.maximumWidth),"number"==typeof(null==i?void 0:i.minimumHeight)&&(this._minimumHeight=i.minimumHeight),"number"==typeof(null==i?void 0:i.maximumHeight)&&(this._maximumHeight=i.maximumHeight),this.api.initialize(this),this.addDisposables(this.api.onWillVisibilityChange(e=>{let{isVisible:t}=e,{accessor:i}=this._params;i.setVisible(this,t)}),this.api.onActiveChange(()=>{let{accessor:e}=this._params;e.doSetGroupActive(this)}),this.api.onDidConstraintsChangeInternal(e=>{("number"==typeof e.minimumWidth||"function"==typeof e.minimumWidth)&&(this._minimumWidth=e.minimumWidth),("number"==typeof e.minimumHeight||"function"==typeof e.minimumHeight)&&(this._minimumHeight=e.minimumHeight),("number"==typeof e.maximumWidth||"function"==typeof e.maximumWidth)&&(this._maximumWidth=e.maximumWidth),("number"==typeof e.maximumHeight||"function"==typeof e.maximumHeight)&&(this._maximumHeight=e.maximumHeight)}),this.api.onDidSizeChange(e=>{this._onDidChange.fire({height:e.height,width:e.width})}),this._onDidChange)}setVisible(e){this.api._onDidVisibilityChange.fire({isVisible:e})}setActive(e){this.api._onDidActiveChange.fire({isActive:e})}init(e){e.maximumHeight&&(this._maximumHeight=e.maximumHeight),e.minimumHeight&&(this._minimumHeight=e.minimumHeight),e.maximumWidth&&(this._maximumWidth=e.maximumWidth),e.minimumWidth&&(this._minimumWidth=e.minimumWidth),this._priority=e.priority,this._snap=!!e.snap,super.init(e),"boolean"==typeof e.isVisible&&this.setVisible(e.isVisible)}updateConstraints(){this.api._onDidConstraintsChange.fire({minimumWidth:this._evaluatedMinimumWidth,maximumWidth:this._evaluatedMaximumWidth,minimumHeight:this._evaluatedMinimumHeight,maximumHeight:this._evaluatedMaximumHeight})}toJSON(){let e=super.toJSON(),t=e=>e===Number.MAX_SAFE_INTEGER?void 0:e,i=e=>e<=0?void 0:e;return Object.assign(Object.assign({},e),{minimumHeight:i(this.minimumHeight),maximumHeight:t(this.maximumHeight),minimumWidth:i(this.minimumWidth),maximumWidth:t(this.maximumWidth),snap:this.snap,priority:this.priority})}}let eF="dockview: DockviewGroupPanelApiImpl not initialized";class eB extends eH{get location(){if(!this._group)throw Error(eF);return this._group.model.location}constructor(e,t){super(e,"__dockviewgroup__"),this.accessor=t,this._onDidLocationChange=new c,this.onDidLocationChange=this._onDidLocationChange.event,this._onDidActivePanelChange=new c,this.onDidActivePanelChange=this._onDidActivePanelChange.event,this.addDisposables(this._onDidLocationChange,this._onDidActivePanelChange)}close(){if(this._group)return this.accessor.removeGroup(this._group)}getWindow(){return"popout"===this.location.type?this.location.getWindow():window}moveTo(e){var t,i,n;if(!this._group)throw Error(eF);let s=null!=(t=e.group)?t:this.accessor.addGroup({direction:function(e){switch(e){case"top":return"above";case"bottom":return"below";case"left":return"left";case"right":return"right";case"center":return"within";default:throw Error(`invalid position '${e}'`)}}(null!=(i=e.position)?i:"right"),skipSetActive:!0});this.accessor.moveGroupOrPanel({from:{groupId:this._group.id},to:{group:s,position:e.group&&null!=(n=e.position)?n:"center",index:e.index}})}maximize(){if(!this._group)throw Error(eF);"grid"===this.location.type&&this.accessor.maximizeGroup(this._group)}isMaximized(){if(!this._group)throw Error(eF);return this.accessor.isMaximizedGroup(this._group)}exitMaximized(){if(!this._group)throw Error(eF);this.isMaximized()&&this.accessor.exitMaximizedGroup()}initialize(e){this._group=e}}class eU extends ej{get minimumWidth(){var e;let t=null==(e=this.activePanel)?void 0:e.minimumWidth;return"number"==typeof t?t:super.__minimumWidth()}get minimumHeight(){var e;let t=null==(e=this.activePanel)?void 0:e.minimumHeight;return"number"==typeof t?t:super.__minimumHeight()}get maximumWidth(){var e;let t=null==(e=this.activePanel)?void 0:e.maximumWidth;return"number"==typeof t?t:super.__maximumWidth()}get maximumHeight(){var e;let t=null==(e=this.activePanel)?void 0:e.maximumHeight;return"number"==typeof t?t:super.__maximumHeight()}get panels(){return this._model.panels}get activePanel(){return this._model.activePanel}get size(){return this._model.size}get model(){return this._model}get locked(){return this._model.locked}set locked(e){this._model.locked=e}get header(){return this._model.header}constructor(e,t,i){var n,s,o,r,a,l;super(t,"groupview_default",{minimumHeight:null!=(s=null==(n=i.constraints)?void 0:n.minimumHeight)?s:100,minimumWidth:null!=(r=null==(o=i.constraints)?void 0:o.maximumHeight)?r:100,maximumHeight:null==(a=i.constraints)?void 0:a.maximumHeight,maximumWidth:null==(l=i.constraints)?void 0:l.maximumWidth},new eB(t,e)),this.api.initialize(this),this._model=new eW(this.element,e,t,i,this),this.addDisposables(this.model.onDidActivePanelChange(e=>{this.api._onDidActivePanelChange.fire(e)}))}focus(){this.api.isActive||this.api.setActive(),super.focus()}initialize(){this._model.initialize()}setActive(e){super.setActive(e),this.model.setActive(e)}layout(e,t){super.layout(e,t),this.model.layout(e,t)}getComponent(){return this._model}toJSON(){return this.model.toJSON()}}let e$={name:"dark",className:"dockview-theme-dark"},eY={name:"abyss",className:"dockview-theme-abyss"};class eZ extends eH{get location(){return this.group.api.location}get title(){return this.panel.title}get isGroupActive(){return this.group.isActive}get renderer(){return this.panel.renderer}set group(e){let t=this._group;this._group!==e&&(this._group=e,this._onDidGroupChange.fire({}),this.setupGroupEventListeners(t),this._onDidLocationChange.fire({location:this.group.api.location}))}get group(){return this._group}get tabComponent(){return this._tabComponent}constructor(e,t,i,n,s){super(e.id,n),this.panel=e,this.accessor=i,this._onDidTitleChange=new c,this.onDidTitleChange=this._onDidTitleChange.event,this._onDidActiveGroupChange=new c,this.onDidActiveGroupChange=this._onDidActiveGroupChange.event,this._onDidGroupChange=new c,this.onDidGroupChange=this._onDidGroupChange.event,this._onDidRendererChange=new c,this.onDidRendererChange=this._onDidRendererChange.event,this._onDidLocationChange=new c,this.onDidLocationChange=this._onDidLocationChange.event,this.groupEventsDisposable=new _,this._tabComponent=s,this.initialize(e),this._group=t,this.setupGroupEventListeners(),this.addDisposables(this.groupEventsDisposable,this._onDidRendererChange,this._onDidTitleChange,this._onDidGroupChange,this._onDidActiveGroupChange,this._onDidLocationChange)}getWindow(){return this.group.api.getWindow()}moveTo(e){var t,i;this.accessor.moveGroupOrPanel({from:{groupId:this._group.id,panelId:this.panel.id},to:{group:null!=(t=e.group)?t:this._group,position:e.group&&null!=(i=e.position)?i:"center",index:e.index}})}setTitle(e){this.panel.setTitle(e)}setRenderer(e){this.panel.setRenderer(e)}close(){this.group.model.closePanel(this.panel)}maximize(){this.group.api.maximize()}isMaximized(){return this.group.api.isMaximized()}exitMaximized(){this.group.api.exitMaximized()}setupGroupEventListeners(e){var t;let i=null!=(t=null==e?void 0:e.isActive)&&t;this.groupEventsDisposable.value=new f(this.group.api.onDidVisibilityChange(e=>{let t=!e.isVisible&&this.isVisible,i=e.isVisible&&!this.isVisible,n=this.group.model.isPanelActive(this.panel);(t||i&&n)&&this._onDidVisibilityChange.fire(e)}),this.group.api.onDidLocationChange(e=>{this.group===this.panel.group&&this._onDidLocationChange.fire(e)}),this.group.api.onDidActiveChange(()=>{this.group===this.panel.group&&i!==this.isGroupActive&&(i=this.isGroupActive,this._onDidActiveGroupChange.fire({isActive:this.isGroupActive}))}))}}class eJ extends f{get params(){return this._params}get title(){return this._title}get group(){return this._group}get renderer(){var e;return null!=(e=this._renderer)?e:this.accessor.renderer}get minimumWidth(){return this._minimumWidth}get minimumHeight(){return this._minimumHeight}get maximumWidth(){return this._maximumWidth}get maximumHeight(){return this._maximumHeight}constructor(e,t,i,n,s,o,r,a){super(),this.id=e,this.accessor=n,this.containerApi=s,this.view=r,this._renderer=a.renderer,this._group=o,this._minimumWidth=a.minimumWidth,this._minimumHeight=a.minimumHeight,this._maximumWidth=a.maximumWidth,this._maximumHeight=a.maximumHeight,this.api=new eZ(this,this._group,n,t,i),this.addDisposables(this.api.onActiveChange(()=>{n.setActivePanel(this)}),this.api.onDidSizeChange(e=>{this.group.api.setSize(e)}),this.api.onDidRendererChange(()=>{this.group.model.rerender(this)}))}init(e){this._params=e.params,this.view.init(Object.assign(Object.assign({},e),{api:this.api,containerApi:this.containerApi})),this.setTitle(e.title)}focus(){let e=new eg;this.api._onWillFocus.fire(e),!e.defaultPrevented&&(this.api.isActive||this.api.setActive())}toJSON(){return{id:this.id,contentComponent:this.view.contentComponent,tabComponent:this.view.tabComponent,params:Object.keys(this._params||{}).length>0?this._params:void 0,title:this.title,renderer:this._renderer,minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,minimumWidth:this._minimumWidth,maximumWidth:this._maximumWidth}}setTitle(e){e!==this.title&&(this._title=e,this.api._onDidTitleChange.fire({title:e}))}setRenderer(e){e!==this.renderer&&(this._renderer=e,this.api._onDidRendererChange.fire({renderer:e}))}update(e){var t;for(let i of(this._params=Object.assign(Object.assign({},null!=(t=this._params)?t:{}),e.params),Object.keys(e.params)))void 0===e.params[i]&&delete this._params[i];this.view.update({params:this._params})}updateParentGroup(e,t){this._group=e,this.api.group=this._group;let i=this._group.model.isPanelActive(this),n=this.group.api.isActive&&i;(null==t?void 0:t.skipSetActive)||this.api.isActive===n||this.api._onDidActiveChange.fire({isActive:this.group.api.isActive&&i}),this.api.isVisible!==i&&this.api._onDidVisibilityChange.fire({isVisible:i})}runEvents(){let e=this._group.model.isPanelActive(this),t=this.group.api.isActive&&e;this.api.isActive!==t&&this.api._onDidActiveChange.fire({isActive:this.group.api.isActive&&e}),this.api.isVisible!==e&&this.api._onDidVisibilityChange.fire({isVisible:e})}layout(e,t){this.api._onDidDimensionChange.fire({width:e,height:t}),this.view.layout(e,t)}dispose(){this.api.dispose(),this.view.dispose()}}class eX extends f{get element(){return this._element}constructor(){super(),this._element=document.createElement("div"),this._element.className="dv-default-tab",this._content=document.createElement("div"),this._content.className="dv-default-tab-content",this.action=document.createElement("div"),this.action.className="dv-default-tab-action",this.action.appendChild(eO()),this._element.appendChild(this._content),this._element.appendChild(this.action),this.render()}init(e){this._title=e.title,this.addDisposables(e.api.onDidTitleChange(e=>{this._title=e.title,this.render()}),g(this.action,"pointerdown",e=>{e.preventDefault()}),g(this.action,"click",t=>{t.defaultPrevented||(t.preventDefault(),e.api.close())})),this.render()}render(){var e;this._content.textContent!==this._title&&(this._content.textContent=null!=(e=this._title)?e:"")}}class eq{get content(){return this._content}get tab(){return this._tab}constructor(e,t,i,n){this.accessor=e,this.id=t,this.contentComponent=i,this.tabComponent=n,this._content=this.createContentComponent(this.id,i),this._tab=this.createTabComponent(this.id,n)}createTabRenderer(e){var t;let i=this.createTabComponent(this.id,this.tabComponent);return this._params&&i.init(Object.assign(Object.assign({},this._params),{tabLocation:e})),this._updateEvent&&(null==(t=i.update)||t.call(i,this._updateEvent)),i}init(e){this._params=e,this.content.init(e),this.tab.init(Object.assign(Object.assign({},e),{tabLocation:"header"}))}layout(e,t){var i,n;null==(n=(i=this.content).layout)||n.call(i,e,t)}update(e){var t,i,n,s;this._updateEvent=e,null==(i=(t=this.content).update)||i.call(t,e),null==(s=(n=this.tab).update)||s.call(n,e)}dispose(){var e,t,i,n;null==(t=(e=this.content).dispose)||t.call(e),null==(n=(i=this.tab).dispose)||n.call(i)}createContentComponent(e,t){return this.accessor.options.createComponent({id:e,name:t})}createTabComponent(e,t){let i=null!=t?t:this.accessor.options.defaultTabComponent;if(i){if(this.accessor.options.createTabComponent){let t=this.accessor.options.createTabComponent({id:e,name:i});return t||new eX}console.warn(`dockview: tabComponent '${t}' was not found. falling back to the default tab.`)}return new eX}}class eK{constructor(e){this.accessor=e}fromJSON(e,t){var i,n;let s=e.id,o=e.params,r=e.title,a=e.view,l=a?a.content.id:null!=(i=e.contentComponent)?i:"unknown",h=a?null==(n=a.tab)?void 0:n.id:e.tabComponent,d=new eq(this.accessor,s,l,h),p=new eJ(s,l,h,this.accessor,new eo(this.accessor),t,d,{renderer:e.renderer,minimumWidth:e.minimumWidth,minimumHeight:e.minimumHeight,maximumWidth:e.maximumWidth,maximumHeight:e.maximumHeight});return p.init({title:null!=r?r:s,params:null!=o?o:{}}),p}}class eQ extends f{get element(){return this._element}constructor(){super(),this._element=document.createElement("div"),this._element.className="dv-watermark"}init(e){}}class e0{constructor(){this._orderedList=[]}push(e){this._orderedList=[...this._orderedList.filter(t=>t!==e),e],this.update()}destroy(e){this._orderedList=this._orderedList.filter(t=>t!==e),this.update()}update(){for(let e=0;e<this._orderedList.length;e++)this._orderedList[e].setAttribute("aria-level",`${e}`),this._orderedList[e].style.zIndex=`calc(var(--dv-overlay-z-index, 999) + ${2*e})`}}let e1=new e0;class e2 extends f{set minimumInViewportWidth(e){this.options.minimumInViewportWidth=e}set minimumInViewportHeight(e){this.options.minimumInViewportHeight=e}get element(){return this._element}get isVisible(){return this._isVisible}constructor(e){super(),this.options=e,this._element=document.createElement("div"),this._onDidChange=new c,this.onDidChange=this._onDidChange.event,this._onDidChangeEnd=new c,this.onDidChangeEnd=this._onDidChangeEnd.event,this.addDisposables(this._onDidChange,this._onDidChangeEnd),this._element.className="dv-resize-container",this._isVisible=!0,this.setupResize("top"),this.setupResize("bottom"),this.setupResize("left"),this.setupResize("right"),this.setupResize("topleft"),this.setupResize("topright"),this.setupResize("bottomleft"),this.setupResize("bottomright"),this._element.appendChild(this.options.content),this.options.container.appendChild(this._element),this.setBounds(Object.assign(Object.assign(Object.assign(Object.assign({height:this.options.height,width:this.options.width},"top"in this.options&&{top:this.options.top}),"bottom"in this.options&&{bottom:this.options.bottom}),"left"in this.options&&{left:this.options.left}),"right"in this.options&&{right:this.options.right})),e1.push(this._element)}setVisible(e){e!==this.isVisible&&(this._isVisible=e,C(this.element,"dv-hidden",!this.isVisible))}bringToFront(){e1.push(this._element)}setBounds(e={}){"number"==typeof e.height&&(this._element.style.height=`${e.height}px`),"number"==typeof e.width&&(this._element.style.width=`${e.width}px`),"top"in e&&"number"==typeof e.top&&(this._element.style.top=`${e.top}px`,this._element.style.bottom="auto",this.verticalAlignment="top"),"bottom"in e&&"number"==typeof e.bottom&&(this._element.style.bottom=`${e.bottom}px`,this._element.style.top="auto",this.verticalAlignment="bottom"),"left"in e&&"number"==typeof e.left&&(this._element.style.left=`${e.left}px`,this._element.style.right="auto",this.horiziontalAlignment="left"),"right"in e&&"number"==typeof e.right&&(this._element.style.right=`${e.right}px`,this._element.style.left="auto",this.horiziontalAlignment="right");let t=this.options.container.getBoundingClientRect(),i=this._element.getBoundingClientRect(),n=Math.max(0,this.getMinimumWidth(i.width)),s=Math.max(0,this.getMinimumHeight(i.height));if("top"===this.verticalAlignment){let e=M(i.top-t.top,-s,Math.max(0,t.height-i.height+s));this._element.style.top=`${e}px`,this._element.style.bottom="auto"}if("bottom"===this.verticalAlignment){let e=M(t.bottom-i.bottom,-s,Math.max(0,t.height-i.height+s));this._element.style.bottom=`${e}px`,this._element.style.top="auto"}if("left"===this.horiziontalAlignment){let e=M(i.left-t.left,-n,Math.max(0,t.width-i.width+n));this._element.style.left=`${e}px`,this._element.style.right="auto"}if("right"===this.horiziontalAlignment){let e=M(t.right-i.right,-n,Math.max(0,t.width-i.width+n));this._element.style.right=`${e}px`,this._element.style.left="auto"}this._onDidChange.fire()}toJSON(){let e=this.options.container.getBoundingClientRect(),t=this._element.getBoundingClientRect(),i={};return"top"===this.verticalAlignment?i.top=parseFloat(this._element.style.top):"bottom"===this.verticalAlignment?i.bottom=parseFloat(this._element.style.bottom):i.top=t.top-e.top,"left"===this.horiziontalAlignment?i.left=parseFloat(this._element.style.left):"right"===this.horiziontalAlignment?i.right=parseFloat(this._element.style.right):i.left=t.left-e.left,i.width=t.width,i.height=t.height,i}setupDrag(e,t={inDragMode:!1}){let i=new _,n=()=>{let e=null,t=E();i.value=new f({dispose:()=>{t.release()}},g(window,"pointermove",t=>{let i=this.options.container.getBoundingClientRect(),n=t.clientX-i.left,s=t.clientY-i.top;C(this._element,"dv-resize-container-dragging",!0);let o=this._element.getBoundingClientRect();null===e&&(e={x:t.clientX-o.left,y:t.clientY-o.top});let r=Math.max(0,this.getMinimumWidth(o.width)),a=Math.max(0,this.getMinimumHeight(o.height)),l=M(s-e.y,-a,Math.max(0,i.height-o.height+a)),h=M(e.y-s+i.height-o.height,-a,Math.max(0,i.height-o.height+a)),d=M(n-e.x,-r,Math.max(0,i.width-o.width+r)),p=M(e.x-n+i.width-o.width,-r,Math.max(0,i.width-o.width+r)),u={};l<=h?u.top=l:u.bottom=h,d<=p?u.left=d:u.right=p,this.setBounds(u)}),g(window,"pointerup",()=>{C(this._element,"dv-resize-container-dragging",!1),i.dispose(),this._onDidChangeEnd.fire()}))};this.addDisposables(i,g(e,"pointerdown",e=>{if(e.defaultPrevented)return void e.preventDefault();e[A]||n()}),g(this.options.content,"pointerdown",e=>{e.defaultPrevented||!e[A]&&e.shiftKey&&n()}),g(this.options.content,"pointerdown",()=>{e1.push(this._element)},!0)),t.inDragMode&&n()}setupResize(e){let t=document.createElement("div");t.className=`dv-resize-handle-${e}`,this._element.appendChild(t);let i=new _;this.addDisposables(i,g(t,"pointerdown",t=>{t.preventDefault();let n=null,s=E();i.value=new f(g(window,"pointermove",t=>{let i,s,o,r,a,l,h=this.options.container.getBoundingClientRect(),d=this._element.getBoundingClientRect(),p=t.clientY-h.top,u=t.clientX-h.left;null===n&&(n={originalY:p,originalHeight:d.height,originalX:u,originalWidth:d.width});let m=()=>{i=M(p,-Number.MAX_VALUE,n.originalY+n.originalHeight>h.height?this.getMinimumHeight(h.height):Math.max(0,n.originalY+n.originalHeight-e2.MINIMUM_HEIGHT)),o=n.originalY+n.originalHeight-i,s=h.height-i-o},c=()=>{o=M(p-(i=n.originalY-n.originalHeight),i<0&&"number"==typeof this.options.minimumInViewportHeight?-i+this.options.minimumInViewportHeight:e2.MINIMUM_HEIGHT,Number.MAX_VALUE),s=h.height-i-o},g=()=>{r=M(u,-Number.MAX_VALUE,n.originalX+n.originalWidth>h.width?this.getMinimumWidth(h.width):Math.max(0,n.originalX+n.originalWidth-e2.MINIMUM_WIDTH)),l=n.originalX+n.originalWidth-r,a=h.width-r-l},v=()=>{l=M(u-(r=n.originalX-n.originalWidth),r<0&&"number"==typeof this.options.minimumInViewportWidth?-r+this.options.minimumInViewportWidth:e2.MINIMUM_WIDTH,Number.MAX_VALUE),a=h.width-r-l};switch(e){case"top":m();break;case"bottom":c();break;case"left":g();break;case"right":v();break;case"topleft":m(),g();break;case"topright":m(),v();break;case"bottomleft":c(),g();break;case"bottomright":c(),v()}let f={};i<=s?f.top=i:f.bottom=s,r<=a?f.left=r:f.right=a,f.height=o,f.width=l,this.setBounds(f)}),{dispose:()=>{s.release()}},g(window,"pointerup",()=>{i.dispose(),this._onDidChangeEnd.fire()}))}))}getMinimumWidth(e){return"number"==typeof this.options.minimumInViewportWidth?e-this.options.minimumInViewportWidth:0}getMinimumHeight(e){return"number"==typeof this.options.minimumInViewportHeight?e-this.options.minimumInViewportHeight:0}dispose(){e1.destroy(this._element),this._element.remove(),super.dispose()}}e2.MINIMUM_HEIGHT=20,e2.MINIMUM_WIDTH=20;class e9 extends f{constructor(e,t){super(),this.group=e,this.overlay=t,this.addDisposables(t)}position(e){this.overlay.setBounds(e)}}let e5={left:100,top:100,width:300,height:300};class e4 extends f{constructor(e,t){super(),this.element=e,this.accessor=t,this.map={},this._disposed=!1,this.addDisposables(tu.from(()=>{for(let e of Object.values(this.map))e.disposable.dispose(),e.destroy.dispose();this._disposed=!0}))}detatch(e){if(this.map[e.api.id]){let{disposable:t,destroy:i}=this.map[e.api.id];return t.dispose(),i.dispose(),delete this.map[e.api.id],!0}return!1}attach(e){let{panel:t,referenceContainer:i}=e;if(!this.map[t.api.id]){let e=function(){let e=document.createElement("div");return e.tabIndex=-1,e}();e.className="dv-render-overlay",this.map[t.api.id]={panel:t,disposable:tu.NONE,destroy:tu.NONE,element:e}}let n=this.map[t.api.id].element;t.view.content.element.parentElement!==n&&n.appendChild(t.view.content.element),n.parentElement!==this.element&&this.element.appendChild(n);let s=()=>{let e=z(i.element),s=z(this.element);n.style.left=`${e.left-s.left}px`,n.style.top=`${e.top-s.top}px`,n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,C(n,"dv-render-overlay-float","floating"===t.group.api.location.type)},o=()=>{t.api.isVisible&&s(),n.style.display=t.api.isVisible?"":"none"},r=new _,a=()=>{"floating"===t.api.location.type?queueMicrotask(()=>{let e=this.accessor.floatingGroups.find(e=>e.group===t.api.group);if(!e)return;let i=e.overlay.element,s=()=>{let e=Number(i.getAttribute("aria-level"));n.style.zIndex=`calc(var(--dv-overlay-z-index, 999) + ${2*e+1})`},o=new MutationObserver(()=>{s()});r.value=tu.from(()=>o.disconnect()),o.observe(i,{attributeFilter:["aria-level"],attributes:!0}),s()}):n.style.zIndex=""},l=new f(r,new ea(n,{onDragEnd:e=>{i.dropTarget.dnd.onDragEnd(e)},onDragEnter:e=>{i.dropTarget.dnd.onDragEnter(e)},onDragLeave:e=>{i.dropTarget.dnd.onDragLeave(e)},onDrop:e=>{i.dropTarget.dnd.onDrop(e)},onDragOver:e=>{i.dropTarget.dnd.onDragOver(e)}}),t.api.onDidVisibilityChange(()=>{o()}),t.api.onDidDimensionsChange(()=>{t.api.isVisible&&s()}),t.api.onDidLocationChange(()=>{a()}));return this.map[t.api.id].destroy=tu.from(()=>{var e;t.view.content.element.parentElement===n&&n.removeChild(t.view.content.element),null==(e=n.parentElement)||e.removeChild(n)}),a(),queueMicrotask(()=>{this.isDisposed||o()}),this.map[t.api.id].disposable.dispose(),this.map[t.api.id].disposable=l,n}}class e3 extends f{get window(){var e,t;return null!=(t=null==(e=this._window)?void 0:e.value)?t:null}constructor(e,t,i){super(),this.target=e,this.className=t,this.options=i,this._onWillClose=new c,this.onWillClose=this._onWillClose.event,this._onDidClose=new c,this.onDidClose=this._onDidClose.event,this._window=null,this.addDisposables(this._onWillClose,this._onDidClose,{dispose:()=>{this.close()}})}dimensions(){if(!this._window)return null;let e=this._window.value.screenX,t=this._window.value.screenY;return{top:t,left:e,width:this._window.value.innerWidth,height:this._window.value.innerHeight}}close(){var e,t;this._window&&(this._onWillClose.fire(),null==(t=(e=this.options).onWillClose)||t.call(e,{id:this.target,window:this._window.value}),this._window.disposable.dispose(),this._window=null,this._onDidClose.fire())}open(){var e,t,i,n,s,o;return i=this,n=void 0,s=void 0,o=function*(){if(this._window)throw Error("instance of popout window is already open");let i=`${this.options.url}`,n=Object.entries({top:this.options.top,left:this.options.left,width:this.options.width,height:this.options.height}).map(([e,t])=>`${e}=${t}`).join(","),s=window.open(i,this.target,n);if(!s)return null;let o=new f;this._window={value:s,disposable:o},o.addDisposables(tu.from(()=>{s.close()}),g(window,"beforeunload",()=>{this.close()}));let r=this.createPopoutWindowContainer();return this.className&&r.classList.add(this.className),null==(t=(e=this.options).onDidOpen)||t.call(e,{id:this.target,window:s}),new Promise((e,t)=>{s.addEventListener("unload",e=>{}),s.addEventListener("load",()=>{try{let t=s.document;t.title=document.title,t.body.appendChild(r),function(e,t){for(let i of Array.from(t)){if(i.href){let t=e.createElement("link");t.href=i.href,t.type=i.type,t.rel="stylesheet",e.head.appendChild(t)}let t=[];try{i.cssRules&&(t=Array.from(i.cssRules).map(e=>e.cssText))}catch(e){}for(let i of t){let t=e.createElement("style");t.appendChild(e.createTextNode(i)),e.head.appendChild(t)}}}(t,window.document.styleSheets),g(s,"beforeunload",()=>{this.close()}),e(r)}catch(e){t(e)}})})},new(s||(s=Promise))(function(e,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):((i=t.value)instanceof s?i:new s(function(e){e(i)})).then(r,a)}l((o=o.apply(i,n||[])).next())})}createPopoutWindowContainer(){let e=document.createElement("div");return e.classList.add("dv-popout-window"),e.id="dv-popout-window",e.style.position="absolute",e.style.width="100%",e.style.height="100%",e.style.top="0px",e.style.left="0px",e}}class e6 extends f{constructor(e){super(),this.accessor=e,this.init()}init(){let e=new Set,t=new Set;this.addDisposables(this.accessor.onDidAddPanel(t=>{if(e.has(t.api.id))throw Error(`dockview: Invalid event sequence. [onDidAddPanel] called for panel ${t.api.id} but panel already exists`);e.add(t.api.id)}),this.accessor.onDidRemovePanel(t=>{if(e.has(t.api.id))e.delete(t.api.id);else throw Error(`dockview: Invalid event sequence. [onDidRemovePanel] called for panel ${t.api.id} but panel does not exists`)}),this.accessor.onDidAddGroup(e=>{if(t.has(e.api.id))throw Error(`dockview: Invalid event sequence. [onDidAddGroup] called for group ${e.api.id} but group already exists`);t.add(e.api.id)}),this.accessor.onDidRemoveGroup(e=>{if(t.has(e.api.id))t.delete(e.api.id);else throw Error(`dockview: Invalid event sequence. [onDidRemoveGroup] called for group ${e.api.id} but group does not exists`)}))}}class e8 extends f{constructor(e){super(),this.root=e,this._active=null,this._activeDisposable=new _,this._element=document.createElement("div"),this._element.className="dv-popover-anchor",this._element.style.position="relative",this.root.prepend(this._element),this.addDisposables(tu.from(()=>{this.close()}),this._activeDisposable)}openPopover(e,t){var i;this.close();let n=document.createElement("div");n.style.position="absolute",n.style.zIndex=null!=(i=t.zIndex)?i:"var(--dv-overlay-z-index)",n.appendChild(e);let s=this._element.getBoundingClientRect(),o=s.left,r=s.top;n.style.top=`${t.y-r}px`,n.style.left=`${t.x-o}px`,this._element.appendChild(n),this._active=n,this._activeDisposable.value=new f(g(window,"pointerdown",e=>{var t;let i=e.target;if(!(i instanceof HTMLElement))return;let s=i;for(;s&&s!==n;)s=null!=(t=null==s?void 0:s.parentElement)?t:null;s||this.close()})),requestAnimationFrame(()=>{!function(e,t,i={buffer:10}){let n=i.buffer,s=e.getBoundingClientRect(),o=t.getBoundingClientRect(),r=0,a=0,l=s.left-o.left,h=s.top-o.top,d=s.bottom-o.bottom,p=s.right-o.right;l<n?r=n-l:p>n&&(r=-n-p),h<n?a=n-h:d>n&&(a=-d-n),(0!==r||0!==a)&&(e.style.transform=`translate(${r}px, ${a}px)`)}(n,this.root)})}close(){this._active&&(this._active.remove(),this._activeDisposable.dispose(),this._active=null)}}class e7 extends f{get disabled(){return this._disabled}set disabled(e){var t;this.disabled!==e&&(this._disabled=e,e&&(null==(t=this.model)||t.clear()))}get model(){if(!this.disabled)return{clear:()=>{var e;this._model&&(null==(e=this._model.root.parentElement)||e.removeChild(this._model.root)),this._model=void 0},exists:()=>!!this._model,getElements:(e,t)=>{let i=this._outline!==t;if(this._outline=t,this._model)return this._model.changed=i,this._model;let n=this.createContainer(),s=this.createAnchor();if(this._model={root:n,overlay:s,changed:i},n.appendChild(s),this.element.appendChild(n),(null==e?void 0:e.target)instanceof HTMLElement){let t=e.target.getBoundingClientRect(),i=this.element.getBoundingClientRect();s.style.left=`${t.left-i.left}px`,s.style.top=`${t.top-i.top}px`}return this._model}}}constructor(e,t){super(),this.element=e,this._disabled=!1,this._disabled=t.disabled,this.addDisposables(tu.from(()=>{var e;null==(e=this.model)||e.clear()}))}createContainer(){let e=document.createElement("div");return e.className="dv-drop-target-container",e}createAnchor(){let e=document.createElement("div");return e.className="dv-drop-target-anchor",e.style.visibility="hidden",e}}let te={activationSize:{type:"pixels",value:10},size:{type:"pixels",value:20}};function tt(e){let t=e.from.activePanel;[...e.from.panels].map(t=>{let i=e.from.model.removePanel(t);return e.from.model.renderContainer.detatch(t),i}).forEach(i=>{e.to.model.openPanel(i,{skipSetActive:t!==i,skipSetGroupActive:!0})})}class ti extends et{get orientation(){return this.gridview.orientation}get totalPanels(){return this.panels.length}get panels(){return this.groups.flatMap(e=>e.panels)}get options(){return this._options}get activePanel(){let e=this.activeGroup;if(e)return e.activePanel}get renderer(){var e;return null!=(e=this.options.defaultRenderer)?e:"onlyWhenVisible"}get api(){return this._api}get floatingGroups(){return this._floatingGroups}constructor(e,t){var i,n,s;super(e,{proportionalLayout:!0,orientation:tm.HORIZONTAL,styles:t.hideBorders?{separatorBorder:"transparent"}:void 0,disableAutoResizing:t.disableAutoResizing,locked:t.locked,margin:null!=(n=null==(i=t.theme)?void 0:i.gap)?n:0,className:t.className}),this.nextGroupId=G(),this._deserializer=new eK(this),this._watermark=null,this._onWillDragPanel=new c,this.onWillDragPanel=this._onWillDragPanel.event,this._onWillDragGroup=new c,this.onWillDragGroup=this._onWillDragGroup.event,this._onDidDrop=new c,this.onDidDrop=this._onDidDrop.event,this._onWillDrop=new c,this.onWillDrop=this._onWillDrop.event,this._onWillShowOverlay=new c,this.onWillShowOverlay=this._onWillShowOverlay.event,this._onUnhandledDragOverEvent=new c,this.onUnhandledDragOverEvent=this._onUnhandledDragOverEvent.event,this._onDidRemovePanel=new c,this.onDidRemovePanel=this._onDidRemovePanel.event,this._onDidAddPanel=new c,this.onDidAddPanel=this._onDidAddPanel.event,this._onDidPopoutGroupSizeChange=new c,this.onDidPopoutGroupSizeChange=this._onDidPopoutGroupSizeChange.event,this._onDidPopoutGroupPositionChange=new c,this.onDidPopoutGroupPositionChange=this._onDidPopoutGroupPositionChange.event,this._onDidLayoutFromJSON=new c,this.onDidLayoutFromJSON=this._onDidLayoutFromJSON.event,this._onDidActivePanelChange=new c({replay:!0}),this.onDidActivePanelChange=this._onDidActivePanelChange.event,this._onDidMovePanel=new c,this.onDidMovePanel=this._onDidMovePanel.event,this._onDidMaximizedGroupChange=new c,this.onDidMaximizedGroupChange=this._onDidMaximizedGroupChange.event,this._floatingGroups=[],this._popoutGroups=[],this._onDidRemoveGroup=new c,this.onDidRemoveGroup=this._onDidRemoveGroup.event,this._onDidAddGroup=new c,this.onDidAddGroup=this._onDidAddGroup.event,this._onDidOptionsChange=new c,this.onDidOptionsChange=this._onDidOptionsChange.event,this._onDidActiveGroupChange=new c,this.onDidActiveGroupChange=this._onDidActiveGroupChange.event,this._moving=!1,this._options=t,this.popupService=new e8(this.element),this._themeClassnames=new P(this.element),this._api=new eo(this),this.rootDropTargetContainer=new e7(this.element,{disabled:!0}),this.overlayRenderContainer=new e4(this.gridview.element,this),this._rootDropTarget=new eu(this.element,{className:"dv-drop-target-edge",canDisplayOverlay:(e,t)=>{let i=a();if(i)return i.viewId===this.id&&("center"!==t||0===this.gridview.length);if("center"===t&&0!==this.gridview.length)return!1;let n=new eM(e,"edge",t,a);return this._onUnhandledDragOverEvent.fire(n),n.isAccepted},acceptedTargetZones:["top","bottom","left","right","center"],overlayModel:null!=(s=t.rootOverlayModel)?s:te,getOverrideTarget:()=>{var e;return null==(e=this.rootDropTargetContainer)?void 0:e.model}}),this.updateDropTargetModel(t),C(this.gridview.element,"dv-dockview",!0),C(this.element,"dv-debug",!!t.debug),this.updateTheme(),this.updateWatermark(),t.debug&&this.addDisposables(new e6(this)),this.addDisposables(this.rootDropTargetContainer,this.overlayRenderContainer,this._onWillDragPanel,this._onWillDragGroup,this._onWillShowOverlay,this._onDidActivePanelChange,this._onDidAddPanel,this._onDidRemovePanel,this._onDidLayoutFromJSON,this._onDidDrop,this._onWillDrop,this._onDidMovePanel,this._onDidAddGroup,this._onDidRemoveGroup,this._onDidActiveGroupChange,this._onUnhandledDragOverEvent,this._onDidMaximizedGroupChange,this._onDidOptionsChange,this._onDidPopoutGroupSizeChange,this._onDidPopoutGroupPositionChange,this.onDidViewVisibilityChangeMicroTaskQueue(()=>{this.updateWatermark()}),this.onDidAdd(e=>{this._moving||this._onDidAddGroup.fire(e)}),this.onDidRemove(e=>{this._moving||this._onDidRemoveGroup.fire(e)}),this.onDidActiveChange(e=>{this._moving||this._onDidActiveGroupChange.fire(e)}),this.onDidMaximizedChange(e=>{this._onDidMaximizedGroupChange.fire({group:e.panel,isMaximized:e.isMaximized})}),tp.any(this.onDidAdd,this.onDidRemove)(()=>{this.updateWatermark()}),tp.any(this.onDidAddPanel,this.onDidRemovePanel,this.onDidAddGroup,this.onDidRemove,this.onDidMovePanel,this.onDidActivePanelChange,this.onDidPopoutGroupPositionChange,this.onDidPopoutGroupSizeChange)(()=>{this._bufferOnDidLayoutChange.fire()}),tu.from(()=>{for(let e of[...this._floatingGroups])e.dispose();for(let e of[...this._popoutGroups])e.disposable.dispose()}),this._rootDropTarget,this._rootDropTarget.onWillShowOverlay(e=>{this.gridview.length>0&&"center"===e.position||this._onWillShowOverlay.fire(new eL(e,{kind:"edge",panel:void 0,api:this._api,group:void 0,getData:a}))}),this._rootDropTarget.onDrop(e=>{var t;let i=new eV({nativeEvent:e.nativeEvent,position:e.position,panel:void 0,api:this._api,group:void 0,getData:a,kind:"edge"});if(this._onWillDrop.fire(i),i.defaultPrevented)return;let n=a();n?this.moveGroupOrPanel({from:{groupId:n.groupId,panelId:null!=(t=n.panelId)?t:void 0},to:{group:this.orthogonalize(e.position),position:"center"}}):this._onDidDrop.fire(new eR({nativeEvent:e.nativeEvent,position:e.position,panel:void 0,api:this._api,group:void 0,getData:a}))}),this._rootDropTarget)}setVisible(e,t){switch(e.api.location.type){case"grid":super.setVisible(e,t);break;case"floating":{let i=this.floatingGroups.find(t=>t.group===e);i&&(i.overlay.setVisible(t),e.api._onDidVisibilityChange.fire({isVisible:t}));break}case"popout":console.warn("dockview: You cannot hide a group that is in a popout window")}}addPopoutGroup(e,t){var i,n,s,o,r;if(e instanceof eJ&&1===e.group.size)return this.addPopoutGroup(e.group,t);let a=function(e){let t,i=e;for(;null!==i&&"string"!=typeof(t=(function(e){let t=[];for(let i=0;i<e.classList.length;i++)t.push(e.classList.item(i));return t})(i).find(e=>e.startsWith("dockview-theme-")));)i=i.parentElement;return t}(this.gridview.element),l=this.element,h=(null==t?void 0:t.position)?t.position:e instanceof eU?e.element.getBoundingClientRect():e.group?e.group.element.getBoundingClientRect():l.getBoundingClientRect(),d=null!=(n=null==(i=null==t?void 0:t.overridePopoutGroup)?void 0:i.id)?n:this.getNextGroupId(),p=new e3(`${this.id}-${d}`,null!=a?a:"",{url:null!=(r=null!=(s=null==t?void 0:t.popoutUrl)?s:null==(o=this.options)?void 0:o.popoutUrl)?r:"/popout.html",left:window.screenX+h.left,top:window.screenY+h.top,width:h.width,height:h.height,onDidOpen:null==t?void 0:t.onDidOpen,onWillClose:null==t?void 0:t.onWillClose}),u=new f(p,p.onDidClose(()=>{u.dispose()}));return p.open().then(i=>{var n,s,o;let r,a,l,h;if(p.isDisposed)return!1;if(null===i)return u.dispose(),!1;let m=document.createElement("div");m.className="dv-overlay-render-container";let v=new e4(m,this),_=(null==t?void 0:t.referenceGroup)?t.referenceGroup:e instanceof eJ?e.group:e,w=e.api.location.type,b=null!==_.element.parentElement;if(b?(null==t?void 0:t.overridePopoutGroup)?r=t.overridePopoutGroup:(r=this.createGroup({id:d}),this._onDidAddGroup.fire(r)):r=_,r.model.renderContainer=v,r.layout(p.window.innerWidth,p.window.innerHeight),!(null==t?void 0:t.overridePopoutGroup)&&b)if(e instanceof eJ)this.movingLock(()=>{let t=_.model.removePanel(e);r.model.openPanel(t)});else switch(this.movingLock(()=>tt({from:_,to:r})),w){case"grid":_.api.setVisible(!1);break;case"floating":case"popout":a=null==(n=this._floatingGroups.find(t=>t.group.api.id===e.api.id))?void 0:n.overlay.toJSON(),this.removeGroup(_)}i.classList.add("dv-dockview"),i.style.overflow="hidden",i.appendChild(m),i.appendChild(r.element);let y=document.createElement("div"),D=new e7(y,{disabled:this.rootDropTargetContainer.disabled});i.appendChild(y),r.model.dropTargetContainer=D,r.model.location={type:"popout",getWindow:()=>p.window,popoutUrl:null==t?void 0:t.popoutUrl},b&&"grid"===e.api.location.type&&e.api.setVisible(!1),this.doSetGroupAndPanelActive(r),u.addDisposables(r.api.onDidActiveChange(e=>{var t;e.isActive&&(null==(t=p.window)||t.focus())}),r.api.onWillFocus(()=>{var e;null==(e=p.window)||e.focus()}));let C=b&&_&&this.getPanel(_.id),x={window:p,popoutGroup:r,referenceGroup:C?_.id:void 0,disposable:{dispose:()=>(u.dispose(),l)}},S=function(e){let t,i=new c,n=e.screenX,s=e.screenY,o=()=>{if(e.closed)return;let r=e.screenX,a=e.screenY;(r!==n||a!==s)&&(clearTimeout(t),t=setTimeout(()=>{i.fire()},100),n=r,s=a),requestAnimationFrame(o)};return o(),i}(p.window);return u.addDisposables(S,(s=p.window,o=()=>{this._onDidPopoutGroupSizeChange.fire({width:p.window.innerWidth,height:p.window.innerHeight,group:r})},new f(g(s,"resize",()=>{clearTimeout(h),h=setTimeout(()=>{o()},100)}))),S.event(()=>{this._onDidPopoutGroupPositionChange.fire({screenX:p.window.screenX,screenY:p.window.screenX,group:r})}),g(p.window,"resize",()=>{r.layout(p.window.innerWidth,p.window.innerHeight)}),v,tu.from(()=>{if(!this.isDisposed){if(b&&this.getPanel(_.id))this.movingLock(()=>tt({from:r,to:_})),_.api.isVisible||_.api.setVisible(!0),this.getPanel(r.id)&&this.doRemoveGroup(r,{skipPopoutAssociated:!0});else if(this.getPanel(r.id)){if(r.model.renderContainer=this.overlayRenderContainer,r.model.dropTargetContainer=this.rootDropTargetContainer,l=r,!this._popoutGroups.find(e=>e.popoutGroup===r))return;a?this.addFloatingGroup(r,{height:a.height,width:a.width,position:a}):(this.doRemoveGroup(r,{skipDispose:!0,skipActive:!0,skipPopoutReturn:!0}),r.model.location={type:"grid"},this.movingLock(()=>{this.doAddGroup(r,[0])})),this.doSetGroupAndPanelActive(r)}}})),this._popoutGroups.push(x),this.updateWatermark(),!0}).catch(e=>(console.error("dockview: failed to create popout window",e),!1))}addFloatingGroup(e,t){var i,n,s,o,r;let a;if(e instanceof eJ)a=this.createGroup(),this._onDidAddGroup.fire(a),this.movingLock(()=>this.removePanel(e,{removeEmptyGroup:!0,skipDispose:!0,skipSetActiveGroup:!0})),this.movingLock(()=>a.model.openPanel(e,{skipSetGroupActive:!0}));else{a=e;let n=null==(i=this._popoutGroups.find(e=>e.popoutGroup===a))?void 0:i.referenceGroup,s=n?this.getPanel(n):void 0;"boolean"==typeof(null==t?void 0:t.skipRemoveGroup)&&t.skipRemoveGroup||(s?(this.movingLock(()=>tt({from:e,to:s})),this.doRemoveGroup(e,{skipPopoutReturn:!0,skipPopoutAssociated:!0}),this.doRemoveGroup(s,{skipDispose:!0}),a=s):this.doRemoveGroup(e,{skipDispose:!0,skipPopoutReturn:!0,skipPopoutAssociated:!1}))}let l=function(){if(null==t?void 0:t.position){let e={};return"left"in t.position?e.left=Math.max(t.position.left,0):"right"in t.position?e.right=Math.max(t.position.right,0):e.left=e5.left,"top"in t.position?e.top=Math.max(t.position.top,0):"bottom"in t.position?e.bottom=Math.max(t.position.bottom,0):e.top=e5.top,"number"==typeof t.width?e.width=Math.max(t.width,0):e.width=e5.width,"number"==typeof t.height?e.height=Math.max(t.height,0):e.height=e5.height,e}return{left:"number"==typeof(null==t?void 0:t.x)?Math.max(t.x,0):e5.left,top:"number"==typeof(null==t?void 0:t.y)?Math.max(t.y,0):e5.top,width:"number"==typeof(null==t?void 0:t.width)?Math.max(t.width,0):e5.width,height:"number"==typeof(null==t?void 0:t.height)?Math.max(t.height,0):e5.height}}(),h=new e2(Object.assign(Object.assign({container:this.gridview.element,content:a.element},l),{minimumInViewportWidth:"boundedWithinViewport"===this.options.floatingGroupBounds?void 0:null!=(s=null==(n=this.options.floatingGroupBounds)?void 0:n.minimumWidthWithinViewport)?s:100,minimumInViewportHeight:"boundedWithinViewport"===this.options.floatingGroupBounds?void 0:null!=(r=null==(o=this.options.floatingGroupBounds)?void 0:o.minimumHeightWithinViewport)?r:100})),d=a.element.querySelector(".dv-void-container");if(!d)throw Error("failed to find drag handle");h.setupDrag(d,{inDragMode:"boolean"==typeof(null==t?void 0:t.inDragMode)&&t.inDragMode});let p=new e9(a,h),u=new f(a.api.onDidActiveChange(e=>{e.isActive&&h.bringToFront()}),b(a.element,e=>{let{width:t,height:i}=e.contentRect;a.layout(t,i)}));p.addDisposables(h.onDidChange(()=>{a.layout(a.width,a.height)}),h.onDidChangeEnd(()=>{this._bufferOnDidLayoutChange.fire()}),a.onDidChange(e=>{h.setBounds({height:null==e?void 0:e.height,width:null==e?void 0:e.width})}),{dispose:()=>{u.dispose(),N(this._floatingGroups,p),a.model.location={type:"grid"},this.updateWatermark()}}),this._floatingGroups.push(p),a.model.location={type:"floating"},(null==t?void 0:t.skipActiveGroup)||this.doSetGroupAndPanelActive(a),this.updateWatermark()}orthogonalize(e,t){switch(e){case"top":case"bottom":this.gridview.orientation===tm.HORIZONTAL&&this.gridview.insertOrthogonalSplitviewAtRoot();break;case"left":case"right":this.gridview.orientation===tm.VERTICAL&&this.gridview.insertOrthogonalSplitviewAtRoot()}switch(e){case"top":case"left":case"center":return this.createGroupAtLocation([0],void 0,t);case"bottom":case"right":return this.createGroupAtLocation([this.gridview.length],void 0,t);default:throw Error(`unsupported position ${e}`)}}updateOptions(e){var t,i;if(super.updateOptions(e),"floatingGroupBounds"in e)for(let n of this._floatingGroups){switch(e.floatingGroupBounds){case"boundedWithinViewport":n.overlay.minimumInViewportHeight=void 0,n.overlay.minimumInViewportWidth=void 0;break;case void 0:n.overlay.minimumInViewportHeight=100,n.overlay.minimumInViewportWidth=100;break;default:n.overlay.minimumInViewportHeight=null==(t=e.floatingGroupBounds)?void 0:t.minimumHeightWithinViewport,n.overlay.minimumInViewportWidth=null==(i=e.floatingGroupBounds)?void 0:i.minimumWidthWithinViewport}n.overlay.setBounds()}this.updateDropTargetModel(e),this._options=Object.assign(Object.assign({},this.options),e),"theme"in e&&this.updateTheme(),this.layout(this.gridview.width,this.gridview.height,!0)}layout(e,t,i){if(super.layout(e,t,i),this._floatingGroups)for(let e of this._floatingGroups)e.overlay.setBounds()}focus(){var e;null==(e=this.activeGroup)||e.focus()}getGroupPanel(e){return this.panels.find(t=>t.id===e)}setActivePanel(e){e.group.model.openPanel(e),this.doSetGroupAndPanelActive(e.group)}moveToNext(e={}){var t;if(!e.group){if(!this.activeGroup)return;e.group=this.activeGroup}if(e.includePanel&&e.group&&e.group.activePanel!==e.group.panels[e.group.panels.length-1])return void e.group.model.moveToNext({suppressRoll:!0});let i=$(e.group.element),n=null==(t=this.gridview.next(i))?void 0:t.view;this.doSetGroupAndPanelActive(n)}moveToPrevious(e={}){var t;if(!e.group){if(!this.activeGroup)return;e.group=this.activeGroup}if(e.includePanel&&e.group&&e.group.activePanel!==e.group.panels[0])return void e.group.model.moveToPrevious({suppressRoll:!0});let i=$(e.group.element),n=null==(t=this.gridview.previous(i))?void 0:t.view;n&&this.doSetGroupAndPanelActive(n)}toJSON(){var e;let t=this.gridview.serialize(),i=this.panels.reduce((e,t)=>(e[t.id]=t.toJSON(),e),{}),n=this._floatingGroups.map(e=>({data:e.group.toJSON(),position:e.overlay.toJSON()})),s=this._popoutGroups.map(e=>({data:e.popoutGroup.toJSON(),gridReferenceGroup:e.referenceGroup,position:e.window.dimensions(),url:"popout"===e.popoutGroup.api.location.type?e.popoutGroup.api.location.popoutUrl:void 0})),o={grid:t,panels:i,activeGroup:null==(e=this.activeGroup)?void 0:e.id};return n.length>0&&(o.floatingGroups=n),s.length>0&&(o.popoutGroups=s),o}fromJSON(e){var t,i;if(this.clear(),"object"!=typeof e||null===e)throw Error("serialized layout must be a non-null object");let{grid:n,panels:s,activeGroup:o}=e;if("branch"!==n.root.type||!Array.isArray(n.root.data))throw Error("root must be of type branch");try{let r=this.width,a=this.height,l=e=>{let{id:t,locked:i,hideHeader:n,views:o,activeView:r}=e;if("string"!=typeof t)throw Error("group id must be of type string");let a=this.createGroup({id:t,locked:!!i,hideHeader:!!n});this._onDidAddGroup.fire(a);let l=[];for(let e of o){let t=this._deserializer.fromJSON(s[e],a);l.push(t)}for(let e=0;e<o.length;e++){let t=l[e],i="string"==typeof r&&r===t.id;a.model.openPanel(t,{skipSetActive:!i,skipSetGroupActive:!0})}return!a.activePanel&&a.panels.length>0&&a.model.openPanel(a.panels[a.panels.length-1],{skipSetGroupActive:!0}),a};for(let i of(this.gridview.deserialize(n,{fromJSON:e=>l(e.data)}),this.layout(r,a,!0),null!=(t=e.floatingGroups)?t:[])){let{data:e,position:t}=i,n=l(e);this.addFloatingGroup(n,{position:t,width:t.width,height:t.height,skipRemoveGroup:!0,inDragMode:!1})}for(let t of null!=(i=e.popoutGroups)?i:[]){let{data:e,position:i,gridReferenceGroup:n,url:s}=t,o=l(e);this.addPopoutGroup(o,{position:null!=i?i:void 0,overridePopoutGroup:n?o:void 0,referenceGroup:n?this.getPanel(n):void 0,popoutUrl:s})}for(let e of this._floatingGroups)e.overlay.setBounds();if("string"==typeof o){let e=this.getPanel(o);e&&this.doSetGroupAndPanelActive(e)}}catch(e){for(let t of(console.error("dockview: failed to deserialize layout. Reverting changes",e),this.groups))for(let e of t.panels)this.removePanel(e,{removeEmptyGroup:!1,skipDispose:!1});for(let e of this.groups)e.dispose(),this._groups.delete(e.id),this._onDidRemoveGroup.fire(e);for(let e of[...this._floatingGroups])e.dispose();throw this.clear(),e}this.updateWatermark(),this._onDidLayoutFromJSON.fire()}clear(){let e=Array.from(this._groups.values()).map(e=>e.value),t=!!this.activeGroup;for(let t of e)this.removeGroup(t,{skipActive:!0});t&&this.doSetGroupAndPanelActive(void 0),this.gridview.clear()}closeAllGroups(){for(let e of this._groups.entries()){let[t,i]=e;i.value.model.closeAllPanels()}}addPanel(e){var t,i;let n,s,o;if(this.panels.find(t=>t.id===e.id))throw Error(`panel with id ${e.id} already exists`);if(e.position&&e.floating)throw Error("you can only provide one of: position, floating as arguments to .addPanel(...)");let r={width:e.initialWidth,height:e.initialHeight};if(e.position)if(+!e.position.referencePanel){if(+!e.position.referenceGroup){let t=this.orthogonalize(eh(e.position.direction)),i=this.createPanel(e,t);return t.model.openPanel(i,{skipSetActive:e.inactive,skipSetGroupActive:e.inactive,index:s}),e.inactive||this.doSetGroupAndPanelActive(t),t.api.setSize({height:null==r?void 0:r.height,width:null==r?void 0:r.width}),i}else if(n="string"==typeof e.position.referenceGroup?null==(t=this._groups.get(e.position.referenceGroup))?void 0:t.value:e.position.referenceGroup,s=e.position.index,!n)throw Error(`referenceGroup '${e.position.referenceGroup}' does not exist`)}else{let t="string"==typeof e.position.referencePanel?this.getGroupPanel(e.position.referencePanel):e.position.referencePanel;if(s=e.position.index,!t)throw Error(`referencePanel '${e.position.referencePanel}' does not exist`);n=this.findGroup(t)}else n=this.activeGroup;if(n){let t=ee((null==(i=e.position)?void 0:i.direction)||"within");if(e.floating){let t=this.createGroup();this._onDidAddGroup.fire(t);let i="object"==typeof e.floating&&null!==e.floating?e.floating:{};this.addFloatingGroup(t,Object.assign(Object.assign({},i),{inDragMode:!1,skipRemoveGroup:!0,skipActiveGroup:!0})),o=this.createPanel(e,t),t.model.openPanel(o,{skipSetActive:e.inactive,skipSetGroupActive:e.inactive,index:s})}else if("floating"===n.api.location.type||"center"===t)o=this.createPanel(e,n),n.model.openPanel(o,{skipSetActive:e.inactive,skipSetGroupActive:e.inactive,index:s}),n.api.setSize({width:null==r?void 0:r.width,height:null==r?void 0:r.height}),e.inactive||this.doSetGroupAndPanelActive(n);else{let i=$(n.element),a=Y(this.gridview.orientation,i,t),l=this.createGroupAtLocation(a,this.orientationAtLocation(a)===tm.VERTICAL?null==r?void 0:r.height:null==r?void 0:r.width);o=this.createPanel(e,l),l.model.openPanel(o,{skipSetActive:e.inactive,skipSetGroupActive:e.inactive,index:s}),e.inactive||this.doSetGroupAndPanelActive(l)}}else if(e.floating){let t=this.createGroup();this._onDidAddGroup.fire(t);let i="object"==typeof e.floating&&null!==e.floating?e.floating:{};this.addFloatingGroup(t,Object.assign(Object.assign({},i),{inDragMode:!1,skipRemoveGroup:!0,skipActiveGroup:!0})),o=this.createPanel(e,t),t.model.openPanel(o,{skipSetActive:e.inactive,skipSetGroupActive:e.inactive,index:s})}else{let t=this.createGroupAtLocation([0],this.gridview.orientation===tm.VERTICAL?null==r?void 0:r.height:null==r?void 0:r.width);o=this.createPanel(e,t),t.model.openPanel(o,{skipSetActive:e.inactive,skipSetGroupActive:e.inactive,index:s}),e.inactive||this.doSetGroupAndPanelActive(t)}return o}removePanel(e,t={removeEmptyGroup:!0}){let i=e.group;if(!i)throw Error(`cannot remove panel ${e.id}. it's missing a group.`);i.model.removePanel(e,{skipSetActiveGroup:t.skipSetActiveGroup}),t.skipDispose||(e.group.model.renderContainer.detatch(e),e.dispose()),0===i.size&&t.removeEmptyGroup&&this.removeGroup(i,{skipActive:t.skipSetActiveGroup})}createWatermarkComponent(){return this.options.createWatermarkComponent?this.options.createWatermarkComponent():new eQ}updateWatermark(){var e,t;if(0===this.groups.filter(e=>"grid"===e.api.location.type&&e.api.isVisible).length){if(!this._watermark){this._watermark=this.createWatermarkComponent(),this._watermark.init({containerApi:new eo(this)});let e=document.createElement("div");e.className="dv-watermark-container",e.setAttribute("data-testid","watermark-component"),e.appendChild(this._watermark.element),this.gridview.element.appendChild(e)}}else this._watermark&&(this._watermark.element.parentElement.remove(),null==(t=(e=this._watermark).dispose)||t.call(e),this._watermark=null)}addGroup(e){var t;if(e){let i;if(+!e.referencePanel){if(+!e.referenceGroup){let t=this.orthogonalize(eh(e.direction),e);return e.skipSetActive||this.doSetGroupAndPanelActive(t),t}else if(!(i="string"==typeof e.referenceGroup?null==(t=this._groups.get(e.referenceGroup))?void 0:t.value:e.referenceGroup))throw Error(`reference group ${e.referenceGroup} does not exist`)}else{let t="string"==typeof e.referencePanel?this.panels.find(t=>t.id===e.referencePanel):e.referencePanel;if(!t)throw Error(`reference panel ${e.referencePanel} does not exist`);if(!(i=this.findGroup(t)))throw Error(`reference group for reference panel ${e.referencePanel} does not exist`)}let n=ee(e.direction||"within"),s=$(i.element),o=Y(this.gridview.orientation,s,n),r=this.createGroup(e),a=this.getLocationOrientation(o)===tm.VERTICAL?e.initialHeight:e.initialWidth;return this.doAddGroup(r,o,a),e.skipSetActive||this.doSetGroupAndPanelActive(r),r}{let t=this.createGroup(e);return this.doAddGroup(t),this.doSetGroupAndPanelActive(t),t}}getLocationOrientation(e){return e.length%2==0&&this.gridview.orientation===tm.HORIZONTAL?tm.HORIZONTAL:tm.VERTICAL}removeGroup(e,t){this.doRemoveGroup(e,t)}doRemoveGroup(e,t){var i;let n=[...e.panels];if(!(null==t?void 0:t.skipDispose))for(let e of n)this.removePanel(e,{removeEmptyGroup:!1,skipDispose:null!=(i=null==t?void 0:t.skipDispose)&&i});let s=this.activePanel;if("floating"===e.api.location.type){let i=this._floatingGroups.find(t=>t.group===e);if(i){if((null==t?void 0:t.skipDispose)||(i.group.dispose(),this._groups.delete(e.id),this._onDidRemoveGroup.fire(e)),N(this._floatingGroups,i),i.dispose(),!(null==t?void 0:t.skipActive)&&this._activeGroup===e){let e=Array.from(this._groups.values());this.doSetGroupAndPanelActive(e.length>0?e[0].value:void 0)}return i.group}throw Error("failed to find floating group")}if("popout"===e.api.location.type){let i=this._popoutGroups.find(t=>t.popoutGroup===e);if(i){if(!(null==t?void 0:t.skipDispose)){if(!(null==t?void 0:t.skipPopoutAssociated)){let e=i.referenceGroup?this.getPanel(i.referenceGroup):void 0;e&&0===e.panels.length&&this.removeGroup(e)}i.popoutGroup.dispose(),this._groups.delete(e.id),this._onDidRemoveGroup.fire(e)}N(this._popoutGroups,i);let n=i.disposable.dispose();if((null==t?void 0:t.skipPopoutReturn)||!n||(this.doAddGroup(n,[0]),this.doSetGroupAndPanelActive(n)),!(null==t?void 0:t.skipActive)&&this._activeGroup===e){let e=Array.from(this._groups.values());this.doSetGroupAndPanelActive(e.length>0?e[0].value:void 0)}return this.updateWatermark(),i.popoutGroup}throw Error("failed to find popout group")}let o=super.doRemoveGroup(e,t);return(null==t?void 0:t.skipActive)||this.activePanel===s||this._onDidActivePanelChange.fire(this.activePanel),o}movingLock(e){let t=this._moving;try{return this._moving=!0,e()}finally{this._moving=t}}moveGroupOrPanel(e){var t;let i=e.to.group,n=e.from.groupId,s=e.from.panelId,o=e.to.position,r=e.to.index,a=n?null==(t=this._groups.get(n))?void 0:t.value:void 0;if(!a)throw Error(`Failed to find group id ${n}`);if(void 0===s)return void this.moveGroup({from:{group:a},to:{group:i,position:o}});if(o&&"center"!==o){let e=$(i.element),t=Y(this.gridview.orientation,e,o);if(a.size<2){let[e,n]=k(t);if("grid"===a.api.location.type){let[t,i]=k($(a.element));if(O(t,e)){this.gridview.moveView(t,i,n),this._onDidMovePanel.fire({panel:this.getGroupPanel(s),from:a});return}}if("popout"===a.api.location.type){let e=this._popoutGroups.find(e=>e.popoutGroup===a),i=this.movingLock(()=>e.popoutGroup.model.removePanel(e.popoutGroup.panels[0],{skipSetActive:!0,skipSetActiveGroup:!0}));this.doRemoveGroup(a,{skipActive:!0});let n=this.createGroupAtLocation(t);this.movingLock(()=>n.model.openPanel(i)),this.doSetGroupAndPanelActive(n),this._onDidMovePanel.fire({panel:this.getGroupPanel(s),from:a});return}let r=this.movingLock(()=>this.doRemoveGroup(a,{skipActive:!0,skipDispose:!0})),l=$(i.element),h=Y(this.gridview.orientation,l,o);this.movingLock(()=>this.doAddGroup(r,h)),this.doSetGroupAndPanelActive(r),this._onDidMovePanel.fire({panel:this.getGroupPanel(s),from:a})}else{let t=this.movingLock(()=>a.model.removePanel(s,{skipSetActive:!1,skipSetActiveGroup:!0}));if(!t)throw Error(`No panel with id ${s}`);let i=Y(this.gridview.orientation,e,o),n=this.createGroupAtLocation(i);this.movingLock(()=>n.model.openPanel(t,{skipSetGroupActive:!0})),this.doSetGroupAndPanelActive(n),this._onDidMovePanel.fire({panel:t,from:a})}}else{let e=this.movingLock(()=>a.model.removePanel(s,{skipSetActive:!1,skipSetActiveGroup:!0}));if(!e)throw Error(`No panel with id ${s}`);0===a.model.size&&this.doRemoveGroup(a,{skipActive:!0}),this.movingLock(()=>i.model.openPanel(e,{index:r,skipSetGroupActive:!0})),this.doSetGroupAndPanelActive(i),this._onDidMovePanel.fire({panel:e,from:a})}}moveGroup(e){let t=e.from.group,i=e.to.group,n=e.to.position;if("center"===n){let e=t.activePanel,n=this.movingLock(()=>[...t.panels].map(e=>t.model.removePanel(e.id,{skipSetActive:!0})));(null==t?void 0:t.model.size)===0&&this.doRemoveGroup(t,{skipActive:!0}),this.movingLock(()=>{for(let t of n)i.model.openPanel(t,{skipSetActive:t!==e,skipSetGroupActive:!0})}),this.doSetGroupAndPanelActive(i)}else{switch(t.api.location.type){case"grid":this.gridview.removeView($(t.element));break;case"floating":{let e=this._floatingGroups.find(e=>e.group===t);if(!e)throw Error("failed to find floating group");e.dispose();break}case"popout":{let e=this._popoutGroups.find(e=>e.popoutGroup===t);if(!e)throw Error("failed to find popout group");e.disposable.dispose()}}if("popout"!==t.api.location.type){let e,s=$(i.element),o=Y(this.gridview.orientation,s,n);switch(this.gridview.orientation){case tm.VERTICAL:e=s.length%2==0?t.api.width:t.api.height;break;case tm.HORIZONTAL:e=s.length%2==0?t.api.height:t.api.width}this.gridview.addView(t,e,o)}}t.panels.forEach(e=>{this._onDidMovePanel.fire({panel:e,from:t})})}doSetGroupActive(e){super.doSetGroupActive(e);let t=this.activePanel;this._moving||t===this._onDidActivePanelChange.value||this._onDidActivePanelChange.fire(t)}doSetGroupAndPanelActive(e){super.doSetGroupActive(e);let t=this.activePanel;e&&this.hasMaximizedGroup()&&!this.isMaximizedGroup(e)&&this.exitMaximizedGroup(),this._moving||t===this._onDidActivePanelChange.value||this._onDidActivePanelChange.fire(t)}getNextGroupId(){let e=this.nextGroupId.next();for(;this._groups.has(e);)e=this.nextGroupId.next();return e}createGroup(e){e||(e={});let t=null==e?void 0:e.id;if(t&&this._groups.has(e.id)&&(console.warn(`dockview: Duplicate group id ${null==e?void 0:e.id}. reassigning group id to avoid errors`),t=void 0),!t)for(t=this.nextGroupId.next();this._groups.has(t);)t=this.nextGroupId.next();let i=new eU(this,t,e);if(i.init({params:{},accessor:this}),!this._groups.has(i.id)){let e=new f(i.model.onTabDragStart(e=>{this._onWillDragPanel.fire(e)}),i.model.onGroupDragStart(e=>{this._onWillDragGroup.fire(e)}),i.model.onMove(e=>{let{groupId:t,itemId:n,target:s,index:o}=e;this.moveGroupOrPanel({from:{groupId:t,panelId:n},to:{group:i,position:s,index:o}})}),i.model.onDidDrop(e=>{this._onDidDrop.fire(e)}),i.model.onWillDrop(e=>{this._onWillDrop.fire(e)}),i.model.onWillShowOverlay(e=>{if(this.options.disableDnd)return void e.preventDefault();this._onWillShowOverlay.fire(e)}),i.model.onUnhandledDragOverEvent(e=>{this._onUnhandledDragOverEvent.fire(e)}),i.model.onDidAddPanel(e=>{this._moving||this._onDidAddPanel.fire(e.panel)}),i.model.onDidRemovePanel(e=>{this._moving||this._onDidRemovePanel.fire(e.panel)}),i.model.onDidActivePanelChange(e=>{this._moving||e.panel===this.activePanel&&this._onDidActivePanelChange.value!==e.panel&&this._onDidActivePanelChange.fire(e.panel)}),tp.any(i.model.onDidPanelTitleChange,i.model.onDidPanelParametersChange)(()=>{this._bufferOnDidLayoutChange.fire()}));this._groups.set(i.id,{value:i,disposable:e})}return i.initialize(),i}createPanel(e,t){var i,n,s;let o=e.component,r=null!=(i=e.tabComponent)?i:this.options.defaultTabComponent,a=new eq(this,e.id,o,r),l=new eJ(e.id,o,r,this,this._api,t,a,{renderer:e.renderer,minimumWidth:e.minimumWidth,minimumHeight:e.minimumHeight,maximumWidth:e.maximumWidth,maximumHeight:e.maximumHeight});return l.init({title:null!=(n=e.title)?n:e.id,params:null!=(s=null==e?void 0:e.params)?s:{}}),l}createGroupAtLocation(e,t,i){let n=this.createGroup(i);return this.doAddGroup(n,e,t),n}findGroup(e){var t;return null==(t=Array.from(this._groups.values()).find(t=>t.value.model.containsPanel(e)))?void 0:t.value}orientationAtLocation(e){let t=this.gridview.orientation;return e.length%2==1?t:Z(t)}updateDropTargetModel(e){"dndEdges"in e&&(this._rootDropTarget.disabled="boolean"==typeof e.dndEdges&&!1===e.dndEdges,"object"==typeof e.dndEdges&&null!==e.dndEdges?this._rootDropTarget.setOverlayModel(e.dndEdges):this._rootDropTarget.setOverlayModel(te)),"rootOverlayModel"in e&&this.updateDropTargetModel({dndEdges:e.dndEdges})}updateTheme(){var e,t;let i=null!=(e=this._options.theme)?e:eY;this._themeClassnames.setClassNames(i.className),this.gridview.margin=null!=(t=i.gap)?t:0,"absolute"===i.dndOverlayMounting?this.rootDropTargetContainer.disabled=!1:this.rootDropTargetContainer.disabled=!0}}class tn extends et{get orientation(){return this.gridview.orientation}set orientation(e){this.gridview.orientation=e}get options(){return this._options}get deserializer(){return this._deserializer}set deserializer(e){this._deserializer=e}constructor(e,t){var i;super(e,{proportionalLayout:null==(i=t.proportionalLayout)||i,orientation:t.orientation,styles:t.hideBorders?{separatorBorder:"transparent"}:void 0,disableAutoResizing:t.disableAutoResizing,className:t.className}),this._onDidLayoutfromJSON=new c,this.onDidLayoutFromJSON=this._onDidLayoutfromJSON.event,this._onDidRemoveGroup=new c,this.onDidRemoveGroup=this._onDidRemoveGroup.event,this._onDidAddGroup=new c,this.onDidAddGroup=this._onDidAddGroup.event,this._onDidActiveGroupChange=new c,this.onDidActiveGroupChange=this._onDidActiveGroupChange.event,this._options=t,this.addDisposables(this._onDidAddGroup,this._onDidRemoveGroup,this._onDidActiveGroupChange,this.onDidAdd(e=>{this._onDidAddGroup.fire(e)}),this.onDidRemove(e=>{this._onDidRemoveGroup.fire(e)}),this.onDidActiveChange(e=>{this._onDidActiveGroupChange.fire(e)}))}updateOptions(e){super.updateOptions(e);let t="string"==typeof e.orientation&&this.gridview.orientation!==e.orientation;this._options=Object.assign(Object.assign({},this.options),e),t&&(this.gridview.orientation=e.orientation),this.layout(this.gridview.width,this.gridview.height,!0)}removePanel(e){this.removeGroup(e)}toJSON(){var e;return{grid:this.gridview.serialize(),activePanel:null==(e=this.activeGroup)?void 0:e.id}}setVisible(e,t){this.gridview.setViewVisible($(e.element),t)}setActive(e){this._groups.forEach((t,i)=>{t.value.setActive(e===t.value)})}focus(){var e;null==(e=this.activeGroup)||e.focus()}fromJSON(e){this.clear();let{grid:t,activePanel:i}=e;try{let e=[],n=this.width,s=this.height;if(this.gridview.deserialize(t,{fromJSON:t=>{let{data:i}=t,n=this.options.createComponent({id:i.id,name:i.component});return e.push(()=>n.init({params:i.params,minimumWidth:i.minimumWidth,maximumWidth:i.maximumWidth,minimumHeight:i.minimumHeight,maximumHeight:i.maximumHeight,priority:i.priority,snap:!!i.snap,accessor:this,isVisible:t.visible})),this._onDidAddGroup.fire(n),this.registerPanel(n),n}}),this.layout(n,s,!0),e.forEach(e=>e()),"string"==typeof i){let e=this.getPanel(i);e&&this.doSetGroupActive(e)}}catch(e){for(let e of this.groups)e.dispose(),this._groups.delete(e.id),this._onDidRemoveGroup.fire(e);throw this.clear(),e}this._onDidLayoutfromJSON.fire()}clear(){let e=this.activeGroup;for(let e of Array.from(this._groups.values()))e.disposable.dispose(),this.doRemoveGroup(e.value,{skipActive:!0});e&&this.doSetGroupActive(void 0),this.gridview.clear()}movePanel(e,t){var i;let n,s=this.gridview.remove(e),o=null==(i=this._groups.get(t.reference))?void 0:i.value;if(!o)throw Error(`reference group ${t.reference} does not exist`);let r=ee(t.direction);if("center"===r)throw Error(`${r} not supported as an option`);{let e=$(o.element);n=Y(this.gridview.orientation,e,r)}this.doAddGroup(s,n,t.size)}addPanel(e){var t,i,n,s;let o=null!=(t=e.location)?t:[0];if(null==(i=e.position)?void 0:i.referencePanel){let t=null==(n=this._groups.get(e.position.referencePanel))?void 0:n.value;if(!t)throw Error(`reference group ${e.position.referencePanel} does not exist`);let i=ee(e.position.direction);if("center"===i)throw Error(`${i} not supported as an option`);{let e=$(t.element);o=Y(this.gridview.orientation,e,i)}}let r=this.options.createComponent({id:e.id,name:e.component});return r.init({params:null!=(s=e.params)?s:{},minimumWidth:e.minimumWidth,maximumWidth:e.maximumWidth,minimumHeight:e.minimumHeight,maximumHeight:e.maximumHeight,priority:e.priority,snap:!!e.snap,accessor:this,isVisible:!0}),this.registerPanel(r),this.doAddGroup(r,o,e.size),this.doSetGroupActive(r),r}registerPanel(e){let t=new f(e.api.onDidFocusChange(t=>{t.isFocused&&this._groups.forEach(t=>{let i=t.value;i!==e?i.setActive(!1):i.setActive(!0)})}));this._groups.set(e.id,{value:e,disposable:t})}moveGroup(e,t,i){let n=this.getPanel(t);if(!n)throw Error("invalid operation");let s=$(e.element),[o,r]=k(Y(this.gridview.orientation,s,i)),[a,l]=k($(n.element));if(O(a,o))return void this.gridview.moveView(a,l,r);let h=this.doRemoveGroup(n,{skipActive:!0,skipDispose:!0}),d=$(e.element),p=Y(this.gridview.orientation,d,i);this.doAddGroup(h,p)}removeGroup(e){super.removeGroup(e)}dispose(){super.dispose(),this._onDidLayoutfromJSON.dispose()}}class ts extends K{get panels(){return this.splitview.getViews()}get options(){return this._options}get length(){return this._panels.size}get orientation(){return this.splitview.orientation}get splitview(){return this._splitview}set splitview(e){this._splitview&&this._splitview.dispose(),this._splitview=e,this._splitviewChangeDisposable.value=new f(this._splitview.onDidSashEnd(()=>{this._onDidLayoutChange.fire(void 0)}),this._splitview.onDidAddView(e=>this._onDidAddView.fire(e)),this._splitview.onDidRemoveView(e=>this._onDidRemoveView.fire(e)))}get minimumSize(){return this.splitview.minimumSize}get maximumSize(){return this.splitview.maximumSize}get height(){return this.splitview.orientation===tm.HORIZONTAL?this.splitview.orthogonalSize:this.splitview.size}get width(){return this.splitview.orientation===tm.HORIZONTAL?this.splitview.size:this.splitview.orthogonalSize}constructor(e,t){var i;super(document.createElement("div"),t.disableAutoResizing),this._splitviewChangeDisposable=new _,this._panels=new Map,this._onDidLayoutfromJSON=new c,this.onDidLayoutFromJSON=this._onDidLayoutfromJSON.event,this._onDidAddView=new c,this.onDidAddView=this._onDidAddView.event,this._onDidRemoveView=new c,this.onDidRemoveView=this._onDidRemoveView.event,this._onDidLayoutChange=new c,this.onDidLayoutChange=this._onDidLayoutChange.event,this.element.style.height="100%",this.element.style.width="100%",this._classNames=new P(this.element),this._classNames.setClassNames(null!=(i=t.className)?i:""),e.appendChild(this.element),this._options=t,this.splitview=new L(this.element,t),this.addDisposables(this._onDidAddView,this._onDidLayoutfromJSON,this._onDidRemoveView,this._onDidLayoutChange)}updateOptions(e){var t,i;"className"in e&&this._classNames.setClassNames(null!=(t=e.className)?t:""),"disableResizing"in e&&(this.disableResizing=null!=(i=e.disableAutoResizing)&&i),"string"==typeof e.orientation&&(this.splitview.orientation=e.orientation),this._options=Object.assign(Object.assign({},this.options),e),this.splitview.layout(this.splitview.size,this.splitview.orthogonalSize)}focus(){var e;null==(e=this._activePanel)||e.focus()}movePanel(e,t){this.splitview.moveView(e,t)}setVisible(e,t){let i=this.panels.indexOf(e);this.splitview.setViewVisible(i,t)}setActive(e,t){this._activePanel=e,this.panels.filter(t=>t!==e).forEach(e=>{e.api._onDidActiveChange.fire({isActive:!1}),t||e.focus()}),e.api._onDidActiveChange.fire({isActive:!0}),t||e.focus()}removePanel(e,t){let i=this._panels.get(e.id);if(!i)throw Error(`unknown splitview panel ${e.id}`);i.dispose(),this._panels.delete(e.id);let n=this.panels.findIndex(t=>t===e);this.splitview.removeView(n,t).dispose();let s=this.panels;s.length>0&&this.setActive(s[s.length-1])}getPanel(e){return this.panels.find(t=>t.id===e)}addPanel(e){var t;if(this._panels.has(e.id))throw Error(`panel ${e.id} already exists`);let i=this.options.createComponent({id:e.id,name:e.component});i.orientation=this.splitview.orientation,i.init({params:null!=(t=e.params)?t:{},minimumSize:e.minimumSize,maximumSize:e.maximumSize,snap:e.snap,priority:e.priority,accessor:this});let n="number"==typeof e.size?e.size:tv.Distribute,s="number"==typeof e.index?e.index:void 0;return this.splitview.addView(i,n,s),this.doAddView(i),this.setActive(i),i}layout(e,t){let[i,n]=this.splitview.orientation===tm.HORIZONTAL?[e,t]:[t,e];this.splitview.layout(i,n)}doAddView(e){let t=e.api.onDidFocusChange(t=>{t.isFocused&&this.setActive(e,!0)});this._panels.set(e.id,t)}toJSON(){var e;return{views:this.splitview.getViews().map((e,t)=>({size:this.splitview.getViewSize(t),data:e.toJSON(),snap:!!e.snap,priority:e.priority})),activeView:null==(e=this._activePanel)?void 0:e.id,size:this.splitview.size,orientation:this.splitview.orientation}}fromJSON(e){this.clear();let{views:t,orientation:i,size:n,activeView:s}=e,o=[],r=this.width,a=this.height;if(this.splitview=new L(this.element,{orientation:i,proportionalLayout:this.options.proportionalLayout,descriptor:{size:n,views:t.map(e=>{let t=e.data;if(this._panels.has(t.id))throw Error(`panel ${t.id} already exists`);let n=this.options.createComponent({id:t.id,name:t.component});return o.push(()=>{var i;n.init({params:null!=(i=t.params)?i:{},minimumSize:t.minimumSize,maximumSize:t.maximumSize,snap:e.snap,priority:e.priority,accessor:this})}),n.orientation=i,this.doAddView(n),setTimeout(()=>{this._onDidAddView.fire(n)},0),{size:e.size,view:n}})}}),this.layout(r,a),o.forEach(e=>e()),"string"==typeof s){let e=this.getPanel(s);e&&this.setActive(e)}this._onDidLayoutfromJSON.fire()}clear(){for(let e of this._panels.values())e.dispose();for(this._panels.clear();this.splitview.length>0;)this.splitview.removeView(0,tv.Distribute,!0).dispose()}dispose(){for(let e of this._panels.values())e.dispose();this._panels.clear();let e=this.splitview.getViews();for(let t of(this._splitviewChangeDisposable.dispose(),this.splitview.dispose(),e))t.dispose();this.element.remove(),super.dispose()}}class to extends f{get element(){return this._element}constructor(){super(),this._expandedIcon=eI(),this._collapsedIcon=eT(),this.disposable=new _,this.apiRef={api:null},this._element=document.createElement("div"),this.element.className="dv-default-header",this._content=document.createElement("span"),this._expander=document.createElement("div"),this._expander.className="dv-pane-header-icon",this.element.appendChild(this._expander),this.element.appendChild(this._content),this.addDisposables(g(this._element,"click",()=>{var e;null==(e=this.apiRef.api)||e.setExpanded(!this.apiRef.api.isExpanded)}))}init(e){this.apiRef.api=e.api,this._content.textContent=e.title,this.updateIcon(),this.disposable.value=e.api.onDidExpansionChange(()=>{this.updateIcon()})}updateIcon(){var e;let t=!!(null==(e=this.apiRef.api)?void 0:e.isExpanded);C(this._expander,"collapsed",!t),t?(this._expander.contains(this._collapsedIcon)&&this._collapsedIcon.remove(),this._expander.contains(this._expandedIcon)||this._expander.appendChild(this._expandedIcon)):(this._expander.contains(this._expandedIcon)&&this._expandedIcon.remove(),this._expander.contains(this._collapsedIcon)||this._expander.appendChild(this._collapsedIcon))}update(e){}dispose(){this.disposable.dispose(),super.dispose()}}let tr=G(),ta=Number.MAX_SAFE_INTEGER;class tl extends ey{constructor(e){super({accessor:e.accessor,id:e.id,component:e.component,headerComponent:e.headerComponent,orientation:e.orientation,isExpanded:e.isExpanded,disableDnd:e.disableDnd,headerSize:e.headerSize,minimumBodySize:e.minimumBodySize,maximumBodySize:e.maximumBodySize}),this.options=e}getBodyComponent(){return this.options.body}getHeaderComponent(){return this.options.header}}class th extends K{get id(){return this._id}get panels(){return this.paneview.getPanes()}set paneview(e){this._paneview=e,this._disposable.value=new f(this._paneview.onDidChange(()=>{this._onDidLayoutChange.fire(void 0)}),this._paneview.onDidAddView(e=>this._onDidAddView.fire(e)),this._paneview.onDidRemoveView(e=>this._onDidRemoveView.fire(e)))}get paneview(){return this._paneview}get minimumSize(){return this.paneview.minimumSize}get maximumSize(){return this.paneview.maximumSize}get height(){return this.paneview.orientation===tm.HORIZONTAL?this.paneview.orthogonalSize:this.paneview.size}get width(){return this.paneview.orientation===tm.HORIZONTAL?this.paneview.size:this.paneview.orthogonalSize}get options(){return this._options}constructor(e,t){var i;super(document.createElement("div"),t.disableAutoResizing),this._id=tr.next(),this._disposable=new _,this._viewDisposables=new Map,this._onDidLayoutfromJSON=new c,this.onDidLayoutFromJSON=this._onDidLayoutfromJSON.event,this._onDidLayoutChange=new c,this.onDidLayoutChange=this._onDidLayoutChange.event,this._onDidDrop=new c,this.onDidDrop=this._onDidDrop.event,this._onDidAddView=new c,this.onDidAddView=this._onDidAddView.event,this._onDidRemoveView=new c,this.onDidRemoveView=this._onDidRemoveView.event,this._onUnhandledDragOverEvent=new c,this.onUnhandledDragOverEvent=this._onUnhandledDragOverEvent.event,this.element.style.height="100%",this.element.style.width="100%",this.addDisposables(this._onDidLayoutChange,this._onDidLayoutfromJSON,this._onDidDrop,this._onDidAddView,this._onDidRemoveView,this._onUnhandledDragOverEvent),this._classNames=new P(this.element),this._classNames.setClassNames(null!=(i=t.className)?i:""),e.appendChild(this.element),this._options=t,this.paneview=new H(this.element,{orientation:tm.VERTICAL}),this.addDisposables(this._disposable)}setVisible(e,t){let i=this.panels.indexOf(e);this.paneview.setViewVisible(i,t)}focus(){}updateOptions(e){var t,i;"className"in e&&this._classNames.setClassNames(null!=(t=e.className)?t:""),"disableResizing"in e&&(this.disableResizing=null!=(i=e.disableAutoResizing)&&i),this._options=Object.assign(Object.assign({},this.options),e)}addPanel(e){var t,i;let n,s=this.options.createComponent({id:e.id,name:e.component});e.headerComponent&&this.options.createHeaderComponent&&(n=this.options.createHeaderComponent({id:e.id,name:e.headerComponent})),n||(n=new to);let o=new tl({id:e.id,component:e.component,headerComponent:e.headerComponent,header:n,body:s,orientation:tm.VERTICAL,isExpanded:!!e.isExpanded,disableDnd:!!this.options.disableDnd,accessor:this,headerSize:null!=(t=e.headerSize)?t:22,minimumBodySize:0,maximumBodySize:ta});this.doAddPanel(o);let r="number"==typeof e.size?e.size:tv.Distribute,a="number"==typeof e.index?e.index:void 0;return o.init({params:null!=(i=e.params)?i:{},minimumBodySize:e.minimumBodySize,maximumBodySize:e.maximumBodySize,isExpanded:e.isExpanded,title:e.title,containerApi:new en(this),accessor:this}),this.paneview.addPane(o,r,a),o.orientation=this.paneview.orientation,o}removePanel(e){let t=this.panels.findIndex(t=>t===e);this.paneview.removePane(t),this.doRemovePanel(e)}movePanel(e,t){this.paneview.moveView(e,t)}getPanel(e){return this.panels.find(t=>t.id===e)}layout(e,t){let[i,n]=this.paneview.orientation===tm.HORIZONTAL?[e,t]:[t,e];this.paneview.layout(i,n)}toJSON(){let e=e=>e===Number.MAX_SAFE_INTEGER||e===Number.POSITIVE_INFINITY?void 0:e,t=e=>e<=0?void 0:e;return{views:this.paneview.getPanes().map((i,n)=>({size:this.paneview.getViewSize(n),data:i.toJSON(),minimumSize:t(i.minimumBodySize),maximumSize:e(i.maximumBodySize),headerSize:i.headerSize,expanded:i.isExpanded()})),size:this.paneview.size}}fromJSON(e){this.clear();let{views:t,size:i}=e,n=[],s=this.width,o=this.height;this.paneview=new H(this.element,{orientation:tm.VERTICAL,descriptor:{size:i,views:t.map(e=>{var t,i,s;let o,r=e.data,a=this.options.createComponent({id:r.id,name:r.component});r.headerComponent&&this.options.createHeaderComponent&&(o=this.options.createHeaderComponent({id:r.id,name:r.headerComponent})),o||(o=new to);let l=new tl({id:r.id,component:r.component,headerComponent:r.headerComponent,header:o,body:a,orientation:tm.VERTICAL,isExpanded:!!e.expanded,disableDnd:!!this.options.disableDnd,accessor:this,headerSize:null!=(t=e.headerSize)?t:22,minimumBodySize:null!=(i=e.minimumSize)?i:0,maximumBodySize:null!=(s=e.maximumSize)?s:ta});return this.doAddPanel(l),n.push(()=>{var t;l.init({params:null!=(t=r.params)?t:{},minimumBodySize:e.minimumSize,maximumBodySize:e.maximumSize,title:r.title,isExpanded:!!e.expanded,containerApi:new en(this),accessor:this}),l.orientation=this.paneview.orientation}),setTimeout(()=>{this._onDidAddView.fire(l)},0),{size:e.size,view:l}})}}),this.layout(s,o),n.forEach(e=>e()),this._onDidLayoutfromJSON.fire()}clear(){for(let[e,t]of this._viewDisposables.entries())t.dispose();this._viewDisposables.clear(),this.paneview.dispose()}doAddPanel(e){let t=new f(e.onDidDrop(e=>{this._onDidDrop.fire(e)}),e.onUnhandledDragOverEvent(e=>{this._onUnhandledDragOverEvent.fire(e)}));this._viewDisposables.set(e.id,t)}doRemovePanel(e){let t=this._viewDisposables.get(e.id);t&&(t.dispose(),this._viewDisposables.delete(e.id))}dispose(){for(let[e,t]of(super.dispose(),this._viewDisposables.entries()))t.dispose();this._viewDisposables.clear(),this.element.remove(),this.paneview.dispose()}}class td extends ew{get priority(){return this._priority}set orientation(e){this._orientation=e}get orientation(){return this._orientation}get minimumSize(){let e="function"==typeof this._minimumSize?this._minimumSize():this._minimumSize;return e!==this._evaluatedMinimumSize&&(this._evaluatedMinimumSize=e,this.updateConstraints()),e}get maximumSize(){let e="function"==typeof this._maximumSize?this._maximumSize():this._maximumSize;return e!==this._evaluatedMaximumSize&&(this._evaluatedMaximumSize=e,this.updateConstraints()),e}get snap(){return this._snap}constructor(e,t){super(e,t,new ef(e,t)),this._evaluatedMinimumSize=0,this._evaluatedMaximumSize=Number.POSITIVE_INFINITY,this._minimumSize=0,this._maximumSize=Number.POSITIVE_INFINITY,this._snap=!1,this._onDidChange=new c,this.onDidChange=this._onDidChange.event,this.api.initialize(this),this.addDisposables(this._onDidChange,this.api.onWillVisibilityChange(e=>{let{isVisible:t}=e,{accessor:i}=this._params;i.setVisible(this,t)}),this.api.onActiveChange(()=>{let{accessor:e}=this._params;e.setActive(this)}),this.api.onDidConstraintsChangeInternal(e=>{("number"==typeof e.minimumSize||"function"==typeof e.minimumSize)&&(this._minimumSize=e.minimumSize),("number"==typeof e.maximumSize||"function"==typeof e.maximumSize)&&(this._maximumSize=e.maximumSize),this.updateConstraints()}),this.api.onDidSizeChange(e=>{this._onDidChange.fire({size:e.size})}))}setVisible(e){this.api._onDidVisibilityChange.fire({isVisible:e})}setActive(e){this.api._onDidActiveChange.fire({isActive:e})}layout(e,t){let[i,n]=this.orientation===tm.HORIZONTAL?[e,t]:[t,e];super.layout(i,n)}init(e){super.init(e),this._priority=e.priority,e.minimumSize&&(this._minimumSize=e.minimumSize),e.maximumSize&&(this._maximumSize=e.maximumSize),e.snap&&(this._snap=e.snap)}toJSON(){let e,t;return Object.assign(Object.assign({},super.toJSON()),{minimumSize:(e=this.minimumSize)<=0?void 0:e,maximumSize:(t=this.maximumSize)===Number.MAX_SAFE_INTEGER||t===Number.POSITIVE_INFINITY?void 0:t})}updateConstraints(){this.api._onDidConstraintsChange.fire({maximumSize:this._evaluatedMaximumSize,minimumSize:this._evaluatedMinimumSize})}}var tp,tu,tm,tc,tg,tv,tf=i(2115),t_=i(7650);let tw=(e,t)=>{let[i,n]=tf.useState(),s=tf.useRef(e.componentProps);return tf.useImperativeHandle(t,()=>({update:e=>{s.current=Object.assign(Object.assign({},s.current),e),n(Date.now())}}),[]),tf.createElement(e.component,s.current)};tw.displayName="DockviewReactJsBridge";let tb=(()=>{let e=1;return{next:()=>`dockview_react_portal_key_${(e++).toString()}`}})(),ty=tf.createContext({});class tD{constructor(e,t,i,n,s){this.parent=e,this.portalStore=t,this.component=i,this.parameters=n,this.context=s,this._initialProps={},this.disposed=!1,this.createPortal()}update(e){if(this.disposed)throw Error("invalid operation: resource is already disposed");this.componentInstance?this.componentInstance.update(e):this._initialProps=Object.assign(Object.assign({},this._initialProps),e)}createPortal(){var e;if(this.disposed)throw Error("invalid operation: resource is already disposed");if(!("function"==typeof(e=this.component)||(null==e?void 0:e.$$typeof)))throw Error("Dockview: Only React.memo(...), React.ForwardRef(...) and functional components are accepted as components");let t=tf.createElement(tf.forwardRef(tw),{component:this.component,componentProps:this.parameters,ref:e=>{this.componentInstance=e,Object.keys(this._initialProps).length>0&&(this.componentInstance.update(this._initialProps),this._initialProps={})}}),i=this.context?tf.createElement(ty.Provider,{value:this.context},t):t,n=t_.createPortal(i,this.parent,tb.next());this.ref={portal:n,disposable:this.portalStore.addPortal(n)}}dispose(){var e;null==(e=this.ref)||e.disposable.dispose(),this.disposed=!0}}let tC=()=>{let[e,t]=tf.useState([]);return tf.useDebugValue(`Portal count: ${e.length}`),[e,tf.useCallback(e=>{t(t=>[...t,e]);let i=!1;return tu.from(()=>{if(i)throw Error("invalid operation: resource already disposed");i=!0,t(t=>t.filter(t=>t!==e))})},[])]};class tx{get element(){return this._element}constructor(e,t,i){this.id=e,this.component=t,this.reactPortalStore=i,this._onDidFocus=new c,this.onDidFocus=this._onDidFocus.event,this._onDidBlur=new c,this.onDidBlur=this._onDidBlur.event,this._element=document.createElement("div"),this._element.className="dv-react-part",this._element.style.height="100%",this._element.style.width="100%"}focus(){}init(e){this.part=new tD(this.element,this.reactPortalStore,this.component,{params:e.params,api:e.api,containerApi:e.containerApi})}update(e){var t;null==(t=this.part)||t.update({params:e.params})}layout(e,t){}dispose(){var e;this._onDidFocus.dispose(),this._onDidBlur.dispose(),null==(e=this.part)||e.dispose()}}class tS{get element(){return this._element}constructor(e,t,i){this.id=e,this.component=t,this.reactPortalStore=i,this._element=document.createElement("div"),this._element.className="dv-react-part",this._element.style.height="100%",this._element.style.width="100%"}focus(){}init(e){this.part=new tD(this.element,this.reactPortalStore,this.component,{params:e.params,api:e.api,containerApi:e.containerApi,tabLocation:e.tabLocation})}update(e){var t;null==(t=this.part)||t.update({params:e.params})}layout(e,t){}dispose(){var e;null==(e=this.part)||e.dispose()}}class tA{get element(){return this._element}constructor(e,t,i){this.id=e,this.component=t,this.reactPortalStore=i,this._element=document.createElement("div"),this._element.className="dv-react-part",this._element.style.height="100%",this._element.style.width="100%"}init(e){this.part=new tD(this.element,this.reactPortalStore,this.component,{group:e.group,containerApi:e.containerApi})}focus(){}update(e){var t,i,n;this.parameters&&(this.parameters.params=e.params),null==(t=this.part)||t.update({params:null!=(n=null==(i=this.parameters)?void 0:i.params)?n:{}})}layout(e,t){}dispose(){var e;null==(e=this.part)||e.dispose()}}class tz{get element(){return this._element}get part(){return this._part}constructor(e,t,i){this.component=e,this.reactPortalStore=t,this._group=i,this.mutableDisposable=new _,this._element=document.createElement("div"),this._element.className="dv-react-part",this._element.style.height="100%",this._element.style.width="100%"}init(e){this.mutableDisposable.value=new f(this._group.model.onDidAddPanel(()=>{this.updatePanels()}),this._group.model.onDidRemovePanel(()=>{this.updatePanels()}),this._group.model.onDidActivePanelChange(()=>{this.updateActivePanel()}),e.api.onDidActiveChange(()=>{this.updateGroupActive()})),this._part=new tD(this.element,this.reactPortalStore,this.component,{api:e.api,containerApi:e.containerApi,panels:this._group.model.panels,activePanel:this._group.model.activePanel,isGroupActive:this._group.api.isActive,group:this._group})}dispose(){var e;this.mutableDisposable.dispose(),null==(e=this._part)||e.dispose()}update(e){var t;null==(t=this._part)||t.update(e.params)}updatePanels(){this.update({params:{panels:this._group.model.panels}})}updateActivePanel(){this.update({params:{activePanel:this._group.model.activePanel}})}updateGroupActive(){this.update({params:{isGroupActive:this._group.api.isActive}})}}function tE(e,t){return e?i=>new tz(e,t,i):void 0}let tP="props.defaultTabComponent",tk=tf.forwardRef((e,t)=>{let i=tf.useRef(null),n=tf.useRef(),[s,o]=tC();tf.useImperativeHandle(t,()=>i.current,[]);let r=tf.useRef({});return tf.useEffect(()=>{let t={};eG.forEach(i=>{let n=e[i];i in e&&n!==r.current[i]&&(t[i]=n)}),n.current&&n.current.updateOptions(t),r.current=e},eG.map(t=>e[t])),tf.useEffect(()=>{var t;if(!i.current)return;let s=null!=(t=e.tabComponents)?t:{};e.defaultTabComponent&&(s[tP]=e.defaultTabComponent);let r={createLeftHeaderActionComponent:tE(e.leftHeaderActionsComponent,{addPortal:o}),createRightHeaderActionComponent:tE(e.rightHeaderActionsComponent,{addPortal:o}),createPrefixHeaderActionComponent:tE(e.prefixHeaderActionsComponent,{addPortal:o}),createComponent:t=>new tx(t.id,e.components[t.name],{addPortal:o}),createTabComponent:e=>new tS(e.id,s[e.name],{addPortal:o}),createWatermarkComponent:e.watermarkComponent?()=>new tA("watermark",e.watermarkComponent,{addPortal:o}):void 0,defaultTabComponent:e.defaultTabComponent?tP:void 0},a=new ti(i.current,Object.assign(Object.assign({},function(e){return eG.reduce((t,i)=>(i in e&&(t[i]=e[i]),t),{})}(e)),r)).api,{clientWidth:l,clientHeight:h}=i.current;return a.layout(l,h),e.onReady&&e.onReady({api:a}),n.current=a,()=>{n.current=void 0,a.dispose()}},[]),tf.useEffect(()=>{if(!n.current)return()=>{};let t=n.current.onDidDrop(t=>{e.onDidDrop&&e.onDidDrop(t)});return()=>{t.dispose()}},[e.onDidDrop]),tf.useEffect(()=>{if(!n.current)return()=>{};let t=n.current.onWillDrop(t=>{e.onWillDrop&&e.onWillDrop(t)});return()=>{t.dispose()}},[e.onWillDrop]),tf.useEffect(()=>{n.current&&n.current.updateOptions({createComponent:t=>new tx(t.id,e.components[t.name],{addPortal:o})})},[e.components]),tf.useEffect(()=>{var t;if(!n.current)return;let i=null!=(t=e.tabComponents)?t:{};e.defaultTabComponent&&(i[tP]=e.defaultTabComponent),n.current.updateOptions({defaultTabComponent:e.defaultTabComponent?tP:void 0,createTabComponent:e=>new tS(e.id,i[e.name],{addPortal:o})})},[e.tabComponents,e.defaultTabComponent]),tf.useEffect(()=>{n.current&&n.current.updateOptions({createWatermarkComponent:e.watermarkComponent?()=>new tA("watermark",e.watermarkComponent,{addPortal:o}):void 0})},[e.watermarkComponent]),tf.useEffect(()=>{n.current&&n.current.updateOptions({createRightHeaderActionComponent:tE(e.rightHeaderActionsComponent,{addPortal:o})})},[e.rightHeaderActionsComponent]),tf.useEffect(()=>{n.current&&n.current.updateOptions({createLeftHeaderActionComponent:tE(e.leftHeaderActionsComponent,{addPortal:o})})},[e.leftHeaderActionsComponent]),tf.useEffect(()=>{n.current&&n.current.updateOptions({createPrefixHeaderActionComponent:tE(e.prefixHeaderActionsComponent,{addPortal:o})})},[e.prefixHeaderActionsComponent]),tf.createElement("div",{style:{height:"100%",width:"100%"},ref:i},s)});tk.displayName="DockviewComponent";class tO extends td{constructor(e,t,i,n){super(e,t),this.reactComponent=i,this.reactPortalStore=n}getComponent(){var e,t;return new tD(this.element,this.reactPortalStore,this.reactComponent,{params:null!=(t=null==(e=this._params)?void 0:e.params)?t:{},api:this.api,containerApi:new ei(this._params.accessor)})}}tf.forwardRef((e,t)=>{let i=tf.useRef(null),n=tf.useRef(),[s,o]=tC();tf.useImperativeHandle(t,()=>i.current,[]);let r=tf.useRef({});return tf.useEffect(()=>{let t={};W.forEach(i=>{let n=e[i];i in e&&n!==r.current[i]&&(t[i]=n)}),n.current&&n.current.updateOptions(t),r.current=e},W.map(t=>e[t])),tf.useEffect(()=>{if(!i.current)return()=>{};let t=new ei(new ts(i.current,Object.assign(Object.assign({},function(e){return W.reduce((t,i)=>(i in e&&(t[i]=e[i]),t),{})}(e)),{createComponent:t=>new tO(t.id,t.name,e.components[t.name],{addPortal:o})}))),{clientWidth:s,clientHeight:r}=i.current;return t.layout(s,r),e.onReady&&e.onReady({api:t}),n.current=t,()=>{n.current=void 0,t.dispose()}},[]),tf.useEffect(()=>{n.current&&n.current.updateOptions({createComponent:t=>new tO(t.id,t.name,e.components[t.name],{addPortal:o})})},[e.components]),tf.createElement("div",{style:{height:"100%",width:"100%"},ref:i},s)}).displayName="SplitviewComponent";class tI extends ej{constructor(e,t,i,n){super(e,t),this.reactComponent=i,this.reactPortalStore=n}getComponent(){var e,t;return new tD(this.element,this.reactPortalStore,this.reactComponent,{params:null!=(t=null==(e=this._params)?void 0:e.params)?t:{},api:this.api,containerApi:new es(this._params.accessor)})}}tf.forwardRef((e,t)=>{let i=tf.useRef(null),n=tf.useRef(),[s,o]=tC();tf.useImperativeHandle(t,()=>i.current,[]);let r=tf.useRef({});return tf.useEffect(()=>{let t={};q.forEach(i=>{let n=e[i];i in e&&n!==r.current[i]&&(t[i]=n)}),n.current&&n.current.updateOptions(t),r.current=e},q.map(t=>e[t])),tf.useEffect(()=>{if(!i.current)return()=>{};let t=new es(new tn(i.current,Object.assign(Object.assign({},function(e){return q.reduce((t,i)=>(i in e&&(t[i]=e[i]),t),{})}(e)),{createComponent:t=>new tI(t.id,t.name,e.components[t.name],{addPortal:o})}))),{clientWidth:s,clientHeight:r}=i.current;return t.layout(s,r),e.onReady&&e.onReady({api:t}),n.current=t,()=>{n.current=void 0,t.dispose()}},[]),tf.useEffect(()=>{n.current&&n.current.updateOptions({createComponent:t=>new tI(t.id,t.name,e.components[t.name],{addPortal:o})})},[e.components]),tf.createElement("div",{style:{height:"100%",width:"100%"},ref:i},s)}).displayName="GridviewComponent";class tT{get element(){return this._element}constructor(e,t,i){this.id=e,this.component=t,this.reactPortalStore=i,this._element=document.createElement("div"),this._element.style.height="100%",this._element.style.width="100%"}init(e){this.part=new tD(this.element,this.reactPortalStore,this.component,{params:e.params,api:e.api,title:e.title,containerApi:e.containerApi})}toJSON(){return{id:this.id}}update(e){var t;null==(t=this.part)||t.update(e.params)}dispose(){var e;null==(e=this.part)||e.dispose()}}tf.forwardRef((e,t)=>{let i=tf.useRef(null),n=tf.useRef(),[s,o]=tC();tf.useImperativeHandle(t,()=>i.current,[]);let r=tf.useRef({});return tf.useEffect(()=>{let t={};em.forEach(i=>{let n=e[i];i in e&&n!==r.current[i]&&(t[i]=n)}),n.current&&n.current.updateOptions(t),r.current=e},em.map(t=>e[t])),tf.useEffect(()=>{var t;if(!i.current)return()=>{};let s=null!=(t=e.headerComponents)?t:{},r=new en(new th(i.current,Object.assign(Object.assign({},function(e){return em.reduce((t,i)=>(i in e&&(t[i]=e[i]),t),{})}(e)),{createComponent:t=>new tT(t.id,e.components[t.name],{addPortal:o}),createHeaderComponent:e=>new tT(e.id,s[e.name],{addPortal:o})}))),{clientWidth:a,clientHeight:l}=i.current;return r.layout(a,l),e.onReady&&e.onReady({api:r}),n.current=r,()=>{n.current=void 0,r.dispose()}},[]),tf.useEffect(()=>{n.current&&n.current.updateOptions({createComponent:t=>new tT(t.id,e.components[t.name],{addPortal:o})})},[e.components]),tf.useEffect(()=>{var t;if(!n.current)return;let i=null!=(t=e.headerComponents)?t:{};n.current.updateOptions({createHeaderComponent:e=>new tT(e.id,i[e.name],{addPortal:o})})},[e.headerComponents]),tf.useEffect(()=>{if(!n.current)return()=>{};let t=n.current.onDidDrop(t=>{e.onDidDrop&&e.onDidDrop(t)});return()=>{t.dispose()}},[e.onDidDrop]),tf.createElement("div",{style:{height:"100%",width:"100%"},ref:i},s)}).displayName="PaneviewComponent"},4357:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});let n=(0,i(9946).A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},5188:()=>{},5339:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});let n=(0,i(9946).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5416:(e,t,i)=>{"use strict";i.d(t,{N:()=>m});var n=i(3264);let s={type:"change"},o={type:"start"},r={type:"end"},a=new n.RlV,l=new n.Zcv,h=Math.cos(70*n.cj9.DEG2RAD),d=new n.Pq0,p=2*Math.PI,u={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};class m extends n.H2z{constructor(e,t=null){super(e,t),this.state=u.NONE,this.target=new n.Pq0,this.cursor=new n.Pq0,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:n.kBv.ROTATE,MIDDLE:n.kBv.DOLLY,RIGHT:n.kBv.PAN},this.touches={ONE:n.wtR.ROTATE,TWO:n.wtR.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new n.Pq0,this._lastQuaternion=new n.PTz,this._lastTargetPosition=new n.Pq0,this._quat=new n.PTz().setFromUnitVectors(e.up,new n.Pq0(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new n.YHV,this._sphericalDelta=new n.YHV,this._scale=1,this._panOffset=new n.Pq0,this._rotateStart=new n.I9Y,this._rotateEnd=new n.I9Y,this._rotateDelta=new n.I9Y,this._panStart=new n.I9Y,this._panEnd=new n.I9Y,this._panDelta=new n.I9Y,this._dollyStart=new n.I9Y,this._dollyEnd=new n.I9Y,this._dollyDelta=new n.I9Y,this._dollyDirection=new n.Pq0,this._mouse=new n.I9Y,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=g.bind(this),this._onPointerDown=c.bind(this),this._onPointerUp=v.bind(this),this._onContextMenu=C.bind(this),this._onMouseWheel=w.bind(this),this._onKeyDown=b.bind(this),this._onTouchStart=y.bind(this),this._onTouchMove=D.bind(this),this._onMouseDown=f.bind(this),this._onMouseMove=_.bind(this),this._interceptControlDown=x.bind(this),this._interceptControlUp=S.bind(this),null!==this.domElement&&this.connect(this.domElement),this.update()}connect(e){super.connect(e),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){null!==this._domElementKeyEvents&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(s),this.update(),this.state=u.NONE}update(e=null){let t=this.object.position;d.copy(t).sub(this.target),d.applyQuaternion(this._quat),this._spherical.setFromVector3(d),this.autoRotate&&this.state===u.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let i=this.minAzimuthAngle,o=this.maxAzimuthAngle;isFinite(i)&&isFinite(o)&&(i<-Math.PI?i+=p:i>Math.PI&&(i-=p),o<-Math.PI?o+=p:o>Math.PI&&(o-=p),i<=o?this._spherical.theta=Math.max(i,Math.min(o,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(i+o)/2?Math.max(i,this._spherical.theta):Math.min(o,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),!0===this.enableDamping?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let r=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{let e=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),r=e!=this._spherical.radius}if(d.setFromSpherical(this._spherical),d.applyQuaternion(this._quatInverse),t.copy(this.target).add(d),this.object.lookAt(this.target),!0===this.enableDamping?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let e=null;if(this.object.isPerspectiveCamera){let t=d.length();e=this._clampDistance(t*this._scale);let i=t-e;this.object.position.addScaledVector(this._dollyDirection,i),this.object.updateMatrixWorld(),r=!!i}else if(this.object.isOrthographicCamera){let t=new n.Pq0(this._mouse.x,this._mouse.y,0);t.unproject(this.object);let i=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),r=i!==this.object.zoom;let s=new n.Pq0(this._mouse.x,this._mouse.y,0);s.unproject(this.object),this.object.position.sub(s).add(t),this.object.updateMatrixWorld(),e=d.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;null!==e&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(e).add(this.object.position):(a.origin.copy(this.object.position),a.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(a.direction))<h?this.object.lookAt(this.target):(l.setFromNormalAndCoplanarPoint(this.object.up,this.target),a.intersectPlane(l,this.target))))}else if(this.object.isOrthographicCamera){let e=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),e!==this.object.zoom&&(this.object.updateProjectionMatrix(),r=!0)}return this._scale=1,this._performCursorZoom=!1,!!(r||this._lastPosition.distanceToSquared(this.object.position)>1e-6||8*(1-this._lastQuaternion.dot(this.object.quaternion))>1e-6||this._lastTargetPosition.distanceToSquared(this.target)>1e-6)&&(this.dispatchEvent(s),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0)}_getAutoRotationAngle(e){return null!==e?p/60*this.autoRotateSpeed*e:p/60/60*this.autoRotateSpeed}_getZoomScale(e){let t=Math.abs(.01*e);return Math.pow(.95,this.zoomSpeed*t)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,t){d.setFromMatrixColumn(t,0),d.multiplyScalar(-e),this._panOffset.add(d)}_panUp(e,t){!0===this.screenSpacePanning?d.setFromMatrixColumn(t,1):(d.setFromMatrixColumn(t,0),d.crossVectors(this.object.up,d)),d.multiplyScalar(e),this._panOffset.add(d)}_pan(e,t){let i=this.domElement;if(this.object.isPerspectiveCamera){let n=this.object.position;d.copy(n).sub(this.target);let s=d.length();s*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*s/i.clientHeight,this.object.matrix),this._panUp(2*t*s/i.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/i.clientWidth,this.object.matrix),this._panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/i.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,t){if(!this.zoomToCursor)return;this._performCursorZoom=!0;let i=this.domElement.getBoundingClientRect(),n=e-i.left,s=t-i.top,o=i.width,r=i.height;this._mouse.x=n/o*2-1,this._mouse.y=-(s/r*2)+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);let t=this.domElement;this._rotateLeft(p*this._rotateDelta.x/t.clientHeight),this._rotateUp(p*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let t=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(p*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),t=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-p*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),t=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(p*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),t=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-p*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(1===this._pointers.length)this._rotateStart.set(e.pageX,e.pageY);else{let t=this._getSecondPointerPosition(e),i=.5*(e.pageX+t.x),n=.5*(e.pageY+t.y);this._rotateStart.set(i,n)}}_handleTouchStartPan(e){if(1===this._pointers.length)this._panStart.set(e.pageX,e.pageY);else{let t=this._getSecondPointerPosition(e),i=.5*(e.pageX+t.x),n=.5*(e.pageY+t.y);this._panStart.set(i,n)}}_handleTouchStartDolly(e){let t=this._getSecondPointerPosition(e),i=e.pageX-t.x,n=e.pageY-t.y,s=Math.sqrt(i*i+n*n);this._dollyStart.set(0,s)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(1==this._pointers.length)this._rotateEnd.set(e.pageX,e.pageY);else{let t=this._getSecondPointerPosition(e),i=.5*(e.pageX+t.x),n=.5*(e.pageY+t.y);this._rotateEnd.set(i,n)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);let t=this.domElement;this._rotateLeft(p*this._rotateDelta.x/t.clientHeight),this._rotateUp(p*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(1===this._pointers.length)this._panEnd.set(e.pageX,e.pageY);else{let t=this._getSecondPointerPosition(e),i=.5*(e.pageX+t.x),n=.5*(e.pageY+t.y);this._panEnd.set(i,n)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){let t=this._getSecondPointerPosition(e),i=e.pageX-t.x,n=e.pageY-t.y,s=Math.sqrt(i*i+n*n);this._dollyEnd.set(0,s),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);let o=(e.pageX+t.x)*.5,r=(e.pageY+t.y)*.5;this._updateZoomParameters(o,r)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return void this._pointers.splice(t,1)}_isTrackingPointer(e){for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return!0;return!1}_trackPointer(e){let t=this._pointerPositions[e.pointerId];void 0===t&&(t=new n.I9Y,this._pointerPositions[e.pointerId]=t),t.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){let t=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[t]}_customWheelEvent(e){let t=e.deltaMode,i={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(t){case 1:i.deltaY*=16;break;case 2:i.deltaY*=100}return e.ctrlKey&&!this._controlActive&&(i.deltaY*=10),i}}function c(e){!1!==this.enabled&&(0===this._pointers.length&&(this.domElement.setPointerCapture(e.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),this._isTrackingPointer(e)||(this._addPointer(e),"touch"===e.pointerType?this._onTouchStart(e):this._onMouseDown(e)))}function g(e){!1!==this.enabled&&("touch"===e.pointerType?this._onTouchMove(e):this._onMouseMove(e))}function v(e){switch(this._removePointer(e),this._pointers.length){case 0:this.domElement.releasePointerCapture(e.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(r),this.state=u.NONE;break;case 1:let t=this._pointers[0],i=this._pointerPositions[t];this._onTouchStart({pointerId:t,pageX:i.x,pageY:i.y})}}function f(e){let t;switch(e.button){case 0:t=this.mouseButtons.LEFT;break;case 1:t=this.mouseButtons.MIDDLE;break;case 2:t=this.mouseButtons.RIGHT;break;default:t=-1}switch(t){case n.kBv.DOLLY:if(!1===this.enableZoom)return;this._handleMouseDownDolly(e),this.state=u.DOLLY;break;case n.kBv.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===this.enablePan)return;this._handleMouseDownPan(e),this.state=u.PAN}else{if(!1===this.enableRotate)return;this._handleMouseDownRotate(e),this.state=u.ROTATE}break;case n.kBv.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===this.enableRotate)return;this._handleMouseDownRotate(e),this.state=u.ROTATE}else{if(!1===this.enablePan)return;this._handleMouseDownPan(e),this.state=u.PAN}break;default:this.state=u.NONE}this.state!==u.NONE&&this.dispatchEvent(o)}function _(e){switch(this.state){case u.ROTATE:if(!1===this.enableRotate)return;this._handleMouseMoveRotate(e);break;case u.DOLLY:if(!1===this.enableZoom)return;this._handleMouseMoveDolly(e);break;case u.PAN:if(!1===this.enablePan)return;this._handleMouseMovePan(e)}}function w(e){!1!==this.enabled&&!1!==this.enableZoom&&this.state===u.NONE&&(e.preventDefault(),this.dispatchEvent(o),this._handleMouseWheel(this._customWheelEvent(e)),this.dispatchEvent(r))}function b(e){!1!==this.enabled&&this._handleKeyDown(e)}function y(e){switch(this._trackPointer(e),this._pointers.length){case 1:switch(this.touches.ONE){case n.wtR.ROTATE:if(!1===this.enableRotate)return;this._handleTouchStartRotate(e),this.state=u.TOUCH_ROTATE;break;case n.wtR.PAN:if(!1===this.enablePan)return;this._handleTouchStartPan(e),this.state=u.TOUCH_PAN;break;default:this.state=u.NONE}break;case 2:switch(this.touches.TWO){case n.wtR.DOLLY_PAN:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchStartDollyPan(e),this.state=u.TOUCH_DOLLY_PAN;break;case n.wtR.DOLLY_ROTATE:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchStartDollyRotate(e),this.state=u.TOUCH_DOLLY_ROTATE;break;default:this.state=u.NONE}break;default:this.state=u.NONE}this.state!==u.NONE&&this.dispatchEvent(o)}function D(e){switch(this._trackPointer(e),this.state){case u.TOUCH_ROTATE:if(!1===this.enableRotate)return;this._handleTouchMoveRotate(e),this.update();break;case u.TOUCH_PAN:if(!1===this.enablePan)return;this._handleTouchMovePan(e),this.update();break;case u.TOUCH_DOLLY_PAN:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchMoveDollyPan(e),this.update();break;case u.TOUCH_DOLLY_ROTATE:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchMoveDollyRotate(e),this.update();break;default:this.state=u.NONE}}function C(e){!1!==this.enabled&&e.preventDefault()}function x(e){"Control"===e.key&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function S(e){"Control"===e.key&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}},5580:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});let n=(0,i(9946).A)("thumbs-down",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]])},5657:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});let n=(0,i(9946).A)("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},9621:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});let n=(0,i(9946).A)("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]])},9688:(e,t,i)=>{"use strict";i.d(t,{QP:()=>eh});let n=e=>{let t=a(e),{conflictingClassGroups:i,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{let i=e.split("-");return""===i[0]&&1!==i.length&&i.shift(),s(i,t)||r(e)},getConflictingClassGroupIds:(e,t)=>{let s=i[e]||[];return t&&n[e]?[...s,...n[e]]:s}}},s=(e,t)=>{if(0===e.length)return t.classGroupId;let i=e[0],n=t.nextPart.get(i),o=n?s(e.slice(1),n):void 0;if(o)return o;if(0===t.validators.length)return;let r=e.join("-");return t.validators.find(({validator:e})=>e(r))?.classGroupId},o=/^\[(.+)\]$/,r=e=>{if(o.test(e)){let t=o.exec(e)[1],i=t?.substring(0,t.indexOf(":"));if(i)return"arbitrary.."+i}},a=e=>{let{theme:t,classGroups:i}=e,n={nextPart:new Map,validators:[]};for(let e in i)l(i[e],n,e,t);return n},l=(e,t,i,n)=>{e.forEach(e=>{if("string"==typeof e){(""===e?t:h(t,e)).classGroupId=i;return}if("function"==typeof e)return d(e)?void l(e(n),t,i,n):void t.validators.push({validator:e,classGroupId:i});Object.entries(e).forEach(([e,s])=>{l(s,h(t,e),i,n)})})},h=(e,t)=>{let i=e;return t.split("-").forEach(e=>{i.nextPart.has(e)||i.nextPart.set(e,{nextPart:new Map,validators:[]}),i=i.nextPart.get(e)}),i},d=e=>e.isThemeGetter,p=e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,i=new Map,n=new Map,s=(s,o)=>{i.set(s,o),++t>e&&(t=0,n=i,i=new Map)};return{get(e){let t=i.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(s(e,t),t):void 0},set(e,t){i.has(e)?i.set(e,t):s(e,t)}}},u=e=>{let{prefix:t,experimentalParseClassName:i}=e,n=e=>{let t,i=[],n=0,s=0,o=0;for(let r=0;r<e.length;r++){let a=e[r];if(0===n&&0===s){if(":"===a){i.push(e.slice(o,r)),o=r+1;continue}if("/"===a){t=r;continue}}"["===a?n++:"]"===a?n--:"("===a?s++:")"===a&&s--}let r=0===i.length?e:e.substring(o),a=m(r);return{modifiers:i,hasImportantModifier:a!==r,baseClassName:a,maybePostfixModifierPosition:t&&t>o?t-o:void 0}};if(t){let e=t+":",i=n;n=t=>t.startsWith(e)?i(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(i){let e=n;n=t=>i({className:t,parseClassName:e})}return n},m=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,c=e=>{let t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;let i=[],n=[];return e.forEach(e=>{"["===e[0]||t[e]?(i.push(...n.sort(),e),n=[]):n.push(e)}),i.push(...n.sort()),i}},g=e=>({cache:p(e.cacheSize),parseClassName:u(e),sortModifiers:c(e),...n(e)}),v=/\s+/,f=(e,t)=>{let{parseClassName:i,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:o}=t,r=[],a=e.trim().split(v),l="";for(let e=a.length-1;e>=0;e-=1){let t=a[e],{isExternal:h,modifiers:d,hasImportantModifier:p,baseClassName:u,maybePostfixModifierPosition:m}=i(t);if(h){l=t+(l.length>0?" "+l:l);continue}let c=!!m,g=n(c?u.substring(0,m):u);if(!g){if(!c||!(g=n(u))){l=t+(l.length>0?" "+l:l);continue}c=!1}let v=o(d).join(":"),f=p?v+"!":v,_=f+g;if(r.includes(_))continue;r.push(_);let w=s(g,c);for(let e=0;e<w.length;++e){let t=w[e];r.push(f+t)}l=t+(l.length>0?" "+l:l)}return l};function _(){let e,t,i=0,n="";for(;i<arguments.length;)(e=arguments[i++])&&(t=w(e))&&(n&&(n+=" "),n+=t);return n}let w=e=>{let t;if("string"==typeof e)return e;let i="";for(let n=0;n<e.length;n++)e[n]&&(t=w(e[n]))&&(i&&(i+=" "),i+=t);return i},b=e=>{let t=t=>t[e]||[];return t.isThemeGetter=!0,t},y=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,D=/^\((?:(\w[\w-]*):)?(.+)\)$/i,C=/^\d+\/\d+$/,x=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,S=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,A=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,z=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,E=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,P=e=>C.test(e),k=e=>!!e&&!Number.isNaN(Number(e)),O=e=>!!e&&Number.isInteger(Number(e)),I=e=>e.endsWith("%")&&k(e.slice(0,-1)),T=e=>x.test(e),N=()=>!0,M=e=>S.test(e)&&!A.test(e),G=()=>!1,R=e=>z.test(e),V=e=>E.test(e),L=e=>!H(e)&&!Y(e),W=e=>ee(e,es,G),H=e=>y.test(e),j=e=>ee(e,eo,M),F=e=>ee(e,er,k),B=e=>ee(e,ei,G),U=e=>ee(e,en,V),$=e=>ee(e,el,R),Y=e=>D.test(e),Z=e=>et(e,eo),J=e=>et(e,ea),X=e=>et(e,ei),q=e=>et(e,es),K=e=>et(e,en),Q=e=>et(e,el,!0),ee=(e,t,i)=>{let n=y.exec(e);return!!n&&(n[1]?t(n[1]):i(n[2]))},et=(e,t,i=!1)=>{let n=D.exec(e);return!!n&&(n[1]?t(n[1]):i)},ei=e=>"position"===e||"percentage"===e,en=e=>"image"===e||"url"===e,es=e=>"length"===e||"size"===e||"bg-size"===e,eo=e=>"length"===e,er=e=>"number"===e,ea=e=>"family-name"===e,el=e=>"shadow"===e;Symbol.toStringTag;let eh=function(e,...t){let i,n,s,o=function(a){return n=(i=g(t.reduce((e,t)=>t(e),e()))).cache.get,s=i.cache.set,o=r,r(a)};function r(e){let t=n(e);if(t)return t;let o=f(e,i);return s(e,o),o}return function(){return o(_.apply(null,arguments))}}(()=>{let e=b("color"),t=b("font"),i=b("text"),n=b("font-weight"),s=b("tracking"),o=b("leading"),r=b("breakpoint"),a=b("container"),l=b("spacing"),h=b("radius"),d=b("shadow"),p=b("inset-shadow"),u=b("text-shadow"),m=b("drop-shadow"),c=b("blur"),g=b("perspective"),v=b("aspect"),f=b("ease"),_=b("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],y=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...y(),Y,H],C=()=>["auto","hidden","clip","visible","scroll"],x=()=>["auto","contain","none"],S=()=>[Y,H,l],A=()=>[P,"full","auto",...S()],z=()=>[O,"none","subgrid",Y,H],E=()=>["auto",{span:["full",O,Y,H]},O,Y,H],M=()=>[O,"auto",Y,H],G=()=>["auto","min","max","fr",Y,H],R=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],V=()=>["start","end","center","stretch","center-safe","end-safe"],ee=()=>["auto",...S()],et=()=>[P,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],ei=()=>[e,Y,H],en=()=>[...y(),X,B,{position:[Y,H]}],es=()=>["no-repeat",{repeat:["","x","y","space","round"]}],eo=()=>["auto","cover","contain",q,W,{size:[Y,H]}],er=()=>[I,Z,j],ea=()=>["","none","full",h,Y,H],el=()=>["",k,Z,j],eh=()=>["solid","dashed","dotted","double"],ed=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ep=()=>[k,I,X,B],eu=()=>["","none",c,Y,H],em=()=>["none",k,Y,H],ec=()=>["none",k,Y,H],eg=()=>[k,Y,H],ev=()=>[P,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[T],breakpoint:[T],color:[N],container:[T],"drop-shadow":[T],ease:["in","out","in-out"],font:[L],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[T],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[T],shadow:[T],spacing:["px",k],text:[T],"text-shadow":[T],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",P,H,Y,v]}],container:["container"],columns:[{columns:[k,H,Y,a]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[O,"auto",Y,H]}],basis:[{basis:[P,"full","auto",a,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[k,P,"auto","initial","none",H]}],grow:[{grow:["",k,Y,H]}],shrink:[{shrink:["",k,Y,H]}],order:[{order:[O,"first","last","none",Y,H]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:E()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:E()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":G()}],"auto-rows":[{"auto-rows":G()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...R(),"normal"]}],"justify-items":[{"justify-items":[...V(),"normal"]}],"justify-self":[{"justify-self":["auto",...V()]}],"align-content":[{content:["normal",...R()]}],"align-items":[{items:[...V(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...V(),{baseline:["","last"]}]}],"place-content":[{"place-content":R()}],"place-items":[{"place-items":[...V(),"baseline"]}],"place-self":[{"place-self":["auto",...V()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:ee()}],mx:[{mx:ee()}],my:[{my:ee()}],ms:[{ms:ee()}],me:[{me:ee()}],mt:[{mt:ee()}],mr:[{mr:ee()}],mb:[{mb:ee()}],ml:[{ml:ee()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:et()}],w:[{w:[a,"screen",...et()]}],"min-w":[{"min-w":[a,"screen","none",...et()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[r]},...et()]}],h:[{h:["screen","lh",...et()]}],"min-h":[{"min-h":["screen","lh","none",...et()]}],"max-h":[{"max-h":["screen","lh",...et()]}],"font-size":[{text:["base",i,Z,j]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Y,F]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",I,H]}],"font-family":[{font:[J,H,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Y,H]}],"line-clamp":[{"line-clamp":[k,"none",Y,F]}],leading:[{leading:[o,...S()]}],"list-image":[{"list-image":["none",Y,H]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Y,H]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ei()}],"text-color":[{text:ei()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...eh(),"wavy"]}],"text-decoration-thickness":[{decoration:[k,"from-font","auto",Y,j]}],"text-decoration-color":[{decoration:ei()}],"underline-offset":[{"underline-offset":[k,"auto",Y,H]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Y,H]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Y,H]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:en()}],"bg-repeat":[{bg:es()}],"bg-size":[{bg:eo()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},O,Y,H],radial:["",Y,H],conic:[O,Y,H]},K,U]}],"bg-color":[{bg:ei()}],"gradient-from-pos":[{from:er()}],"gradient-via-pos":[{via:er()}],"gradient-to-pos":[{to:er()}],"gradient-from":[{from:ei()}],"gradient-via":[{via:ei()}],"gradient-to":[{to:ei()}],rounded:[{rounded:ea()}],"rounded-s":[{"rounded-s":ea()}],"rounded-e":[{"rounded-e":ea()}],"rounded-t":[{"rounded-t":ea()}],"rounded-r":[{"rounded-r":ea()}],"rounded-b":[{"rounded-b":ea()}],"rounded-l":[{"rounded-l":ea()}],"rounded-ss":[{"rounded-ss":ea()}],"rounded-se":[{"rounded-se":ea()}],"rounded-ee":[{"rounded-ee":ea()}],"rounded-es":[{"rounded-es":ea()}],"rounded-tl":[{"rounded-tl":ea()}],"rounded-tr":[{"rounded-tr":ea()}],"rounded-br":[{"rounded-br":ea()}],"rounded-bl":[{"rounded-bl":ea()}],"border-w":[{border:el()}],"border-w-x":[{"border-x":el()}],"border-w-y":[{"border-y":el()}],"border-w-s":[{"border-s":el()}],"border-w-e":[{"border-e":el()}],"border-w-t":[{"border-t":el()}],"border-w-r":[{"border-r":el()}],"border-w-b":[{"border-b":el()}],"border-w-l":[{"border-l":el()}],"divide-x":[{"divide-x":el()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":el()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...eh(),"hidden","none"]}],"divide-style":[{divide:[...eh(),"hidden","none"]}],"border-color":[{border:ei()}],"border-color-x":[{"border-x":ei()}],"border-color-y":[{"border-y":ei()}],"border-color-s":[{"border-s":ei()}],"border-color-e":[{"border-e":ei()}],"border-color-t":[{"border-t":ei()}],"border-color-r":[{"border-r":ei()}],"border-color-b":[{"border-b":ei()}],"border-color-l":[{"border-l":ei()}],"divide-color":[{divide:ei()}],"outline-style":[{outline:[...eh(),"none","hidden"]}],"outline-offset":[{"outline-offset":[k,Y,H]}],"outline-w":[{outline:["",k,Z,j]}],"outline-color":[{outline:ei()}],shadow:[{shadow:["","none",d,Q,$]}],"shadow-color":[{shadow:ei()}],"inset-shadow":[{"inset-shadow":["none",p,Q,$]}],"inset-shadow-color":[{"inset-shadow":ei()}],"ring-w":[{ring:el()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ei()}],"ring-offset-w":[{"ring-offset":[k,j]}],"ring-offset-color":[{"ring-offset":ei()}],"inset-ring-w":[{"inset-ring":el()}],"inset-ring-color":[{"inset-ring":ei()}],"text-shadow":[{"text-shadow":["none",u,Q,$]}],"text-shadow-color":[{"text-shadow":ei()}],opacity:[{opacity:[k,Y,H]}],"mix-blend":[{"mix-blend":[...ed(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ed()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[k]}],"mask-image-linear-from-pos":[{"mask-linear-from":ep()}],"mask-image-linear-to-pos":[{"mask-linear-to":ep()}],"mask-image-linear-from-color":[{"mask-linear-from":ei()}],"mask-image-linear-to-color":[{"mask-linear-to":ei()}],"mask-image-t-from-pos":[{"mask-t-from":ep()}],"mask-image-t-to-pos":[{"mask-t-to":ep()}],"mask-image-t-from-color":[{"mask-t-from":ei()}],"mask-image-t-to-color":[{"mask-t-to":ei()}],"mask-image-r-from-pos":[{"mask-r-from":ep()}],"mask-image-r-to-pos":[{"mask-r-to":ep()}],"mask-image-r-from-color":[{"mask-r-from":ei()}],"mask-image-r-to-color":[{"mask-r-to":ei()}],"mask-image-b-from-pos":[{"mask-b-from":ep()}],"mask-image-b-to-pos":[{"mask-b-to":ep()}],"mask-image-b-from-color":[{"mask-b-from":ei()}],"mask-image-b-to-color":[{"mask-b-to":ei()}],"mask-image-l-from-pos":[{"mask-l-from":ep()}],"mask-image-l-to-pos":[{"mask-l-to":ep()}],"mask-image-l-from-color":[{"mask-l-from":ei()}],"mask-image-l-to-color":[{"mask-l-to":ei()}],"mask-image-x-from-pos":[{"mask-x-from":ep()}],"mask-image-x-to-pos":[{"mask-x-to":ep()}],"mask-image-x-from-color":[{"mask-x-from":ei()}],"mask-image-x-to-color":[{"mask-x-to":ei()}],"mask-image-y-from-pos":[{"mask-y-from":ep()}],"mask-image-y-to-pos":[{"mask-y-to":ep()}],"mask-image-y-from-color":[{"mask-y-from":ei()}],"mask-image-y-to-color":[{"mask-y-to":ei()}],"mask-image-radial":[{"mask-radial":[Y,H]}],"mask-image-radial-from-pos":[{"mask-radial-from":ep()}],"mask-image-radial-to-pos":[{"mask-radial-to":ep()}],"mask-image-radial-from-color":[{"mask-radial-from":ei()}],"mask-image-radial-to-color":[{"mask-radial-to":ei()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":y()}],"mask-image-conic-pos":[{"mask-conic":[k]}],"mask-image-conic-from-pos":[{"mask-conic-from":ep()}],"mask-image-conic-to-pos":[{"mask-conic-to":ep()}],"mask-image-conic-from-color":[{"mask-conic-from":ei()}],"mask-image-conic-to-color":[{"mask-conic-to":ei()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:en()}],"mask-repeat":[{mask:es()}],"mask-size":[{mask:eo()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Y,H]}],filter:[{filter:["","none",Y,H]}],blur:[{blur:eu()}],brightness:[{brightness:[k,Y,H]}],contrast:[{contrast:[k,Y,H]}],"drop-shadow":[{"drop-shadow":["","none",m,Q,$]}],"drop-shadow-color":[{"drop-shadow":ei()}],grayscale:[{grayscale:["",k,Y,H]}],"hue-rotate":[{"hue-rotate":[k,Y,H]}],invert:[{invert:["",k,Y,H]}],saturate:[{saturate:[k,Y,H]}],sepia:[{sepia:["",k,Y,H]}],"backdrop-filter":[{"backdrop-filter":["","none",Y,H]}],"backdrop-blur":[{"backdrop-blur":eu()}],"backdrop-brightness":[{"backdrop-brightness":[k,Y,H]}],"backdrop-contrast":[{"backdrop-contrast":[k,Y,H]}],"backdrop-grayscale":[{"backdrop-grayscale":["",k,Y,H]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[k,Y,H]}],"backdrop-invert":[{"backdrop-invert":["",k,Y,H]}],"backdrop-opacity":[{"backdrop-opacity":[k,Y,H]}],"backdrop-saturate":[{"backdrop-saturate":[k,Y,H]}],"backdrop-sepia":[{"backdrop-sepia":["",k,Y,H]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Y,H]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[k,"initial",Y,H]}],ease:[{ease:["linear","initial",f,Y,H]}],delay:[{delay:[k,Y,H]}],animate:[{animate:["none",_,Y,H]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,Y,H]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:em()}],"rotate-x":[{"rotate-x":em()}],"rotate-y":[{"rotate-y":em()}],"rotate-z":[{"rotate-z":em()}],scale:[{scale:ec()}],"scale-x":[{"scale-x":ec()}],"scale-y":[{"scale-y":ec()}],"scale-z":[{"scale-z":ec()}],"scale-3d":["scale-3d"],skew:[{skew:eg()}],"skew-x":[{"skew-x":eg()}],"skew-y":[{"skew-y":eg()}],transform:[{transform:[Y,H,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ev()}],"translate-x":[{"translate-x":ev()}],"translate-y":[{"translate-y":ev()}],"translate-z":[{"translate-z":ev()}],"translate-none":["translate-none"],accent:[{accent:ei()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ei()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Y,H]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Y,H]}],fill:[{fill:["none",...ei()]}],"stroke-w":[{stroke:[k,Z,j,F]}],stroke:[{stroke:["none",...ei()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}})},9946:(e,t,i)=>{"use strict";i.d(t,{A:()=>p});var n=i(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),r=e=>{let t=o(e);return t.charAt(0).toUpperCase()+t.slice(1)},a=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.filter((e,t,i)=>!!e&&""!==e.trim()&&i.indexOf(e)===t).join(" ").trim()},l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var h={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,n.forwardRef)((e,t)=>{let{color:i="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:r,className:d="",children:p,iconNode:u,...m}=e;return(0,n.createElement)("svg",{ref:t,...h,width:s,height:s,stroke:i,strokeWidth:r?24*Number(o)/Number(s):o,className:a("lucide",d),...!p&&!l(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[t,i]=e;return(0,n.createElement)(t,i)}),...Array.isArray(p)?p:[p]])}),p=(e,t)=>{let i=(0,n.forwardRef)((i,o)=>{let{className:l,...h}=i;return(0,n.createElement)(d,{ref:o,iconNode:t,className:a("lucide-".concat(s(r(e))),"lucide-".concat(e),l),...h})});return i.displayName=r(e),i}}}]);