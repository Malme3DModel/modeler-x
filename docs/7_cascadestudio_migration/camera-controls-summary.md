# ğŸ¯ CascadeStudioç§»è¡Œä½œæ¥­ - ã‚«ãƒ¡ãƒ©ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ”¹è‰¯å®Ÿè£…æŒ‡ç¤ºæ›¸

## ğŸ“‹ ä½œæ¥­æ¦‚è¦

**ä½œæ¥­å**: ã‚«ãƒ¡ãƒ©ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ”¹è‰¯å®Ÿè£…  
**å„ªå…ˆåº¦**: ğŸ”´ é«˜  
**æ‹…å½“è€…**: ã‚ãªãŸ  
**æœŸé™**: 1é€±é–“ä»¥å†…

## ğŸ¯ ä½œæ¥­ç›®çš„

ãƒ•ã‚§ãƒ¼ã‚º2.2ã®ã‚«ãƒ¡ãƒ©ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«é«˜åº¦æ©Ÿèƒ½ã®ä¸€éƒ¨ã¨ã—ã¦ã€æ—¢ã«åŸºæœ¬å®Ÿè£…æ¸ˆã¿ã®ã‚«ãƒ¡ãƒ©ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã‚’æ”¹è‰¯ã—ã¾ã™ã€‚ç¾åœ¨ã¯åŸºæœ¬çš„ãªã‚«ãƒ¡ãƒ©ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒå‹•ä½œã—ã¦ã„ã¾ã™ãŒã€ã‚ˆã‚Šã‚¹ãƒ ãƒ¼ã‚ºãªé·ç§»ã¨ãƒã‚¦ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒœãƒƒã‚¯ã‚¹ã«åŸºã¥ãé©åˆ‡ãªã‚«ãƒ¡ãƒ©è·é›¢è¨ˆç®—ãŒå¿…è¦ã§ã™ã€‚ã“ã®æ”¹è‰¯ã«ã‚ˆã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ãŒå‘ä¸Šã—ã€æ§˜ã€…ãªã‚µã‚¤ã‚ºã®CADãƒ¢ãƒ‡ãƒ«ã«å¯¾ã—ã¦æœ€é©ãªè¦–ç‚¹ã‚’æä¾›ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

## ğŸ“š å¿…é ˆå‚è€ƒè³‡æ–™

### 1. ç¾åœ¨ã®å®Ÿè£…çŠ¶æ³
- **`components/cad/CameraControls.tsx`**: ç¾åœ¨ã®ã‚«ãƒ¡ãƒ©ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«UIå®Ÿè£…
- **`hooks/useCameraAnimation.ts`**: ç¾åœ¨ã®ã‚«ãƒ¡ãƒ©ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒƒã‚¯
- **`components/threejs/ThreeJSViewport.tsx`**: ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆã¨ã®çµ±åˆ

### 2. æ©Ÿèƒ½æ¯”è¼ƒãƒ»ã‚¿ã‚¹ã‚¯è©³ç´°
- **`docs/7_cascadestudio_migration/feature_comparison.md`**: ã‚«ãƒ¡ãƒ©æ©Ÿèƒ½ã®å®Ÿè£…çŠ¶æ³
- **`docs/7_cascadestudio_migration/implementation_tasks.md`**: ã‚¿ã‚¹ã‚¯2.2ã®è©³ç´°

### 3. ãƒ†ã‚¹ãƒˆå®Ÿè£…
- **`tests/camera-controls.spec.ts`**: æ—¢å­˜ã®ã‚«ãƒ¡ãƒ©ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ†ã‚¹ãƒˆ

## ğŸ” ç¾åœ¨ã®èª²é¡Œ

1. **ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®æ»‘ã‚‰ã‹ã•**
   - ç¾åœ¨ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã¯åŸºæœ¬çš„ã«å‹•ä½œã™ã‚‹ãŒã€ã‚ˆã‚Šæ»‘ã‚‰ã‹ãªã‚¤ãƒ¼ã‚¸ãƒ³ã‚°é–¢æ•°ãŒå¿…è¦
   - é•·è·é›¢ç§»å‹•æ™‚ã®ã‚«ãƒ¡ãƒ©ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é€Ÿåº¦ãŒä¸€å®šã§ä¸è‡ªç„¶

2. **ãƒã‚¦ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒœãƒƒã‚¯ã‚¹è¨ˆç®—**
   - è¤‡é›‘ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚„å¤§ããªãƒ¢ãƒ‡ãƒ«ã«å¯¾ã™ã‚‹è·é›¢è¨ˆç®—ã®æœ€é©åŒ–ãŒå¿…è¦
   - ç©ºã®ã‚·ãƒ¼ãƒ³ã‚„ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã§ã®é©åˆ‡ãªå‡¦ç†ãŒä¸è¶³

3. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**
   - ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä¸­ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¬ãƒ¼ãƒˆä½ä¸‹ã®æ”¹å–„
   - ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®æœ€é©åŒ–

## ğŸ”§ å…·ä½“çš„ãªä½œæ¥­å†…å®¹

### ã‚¿ã‚¹ã‚¯1: useCameraAnimation.tsã®æ”¹è‰¯

**å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«**: `hooks/useCameraAnimation.ts`

#### 1.1 é«˜åº¦ãªã‚¤ãƒ¼ã‚¸ãƒ³ã‚°é–¢æ•°ã®å®Ÿè£…
```typescript
// ã‚¤ãƒ¼ã‚¸ãƒ³ã‚°é–¢æ•°ã®æ”¹è‰¯
const easeOutCubic = (t: number): number => 1 - Math.pow(1 - t, 3);
const easeInOutCubic = (t: number): number => 
  t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2;
const easeOutElastic = (t: number): number => {
  const c4 = (2 * Math.PI) / 3;
  return t === 0
    ? 0
    : t === 1
    ? 1
    : Math.pow(2, -10 * t) * Math.sin((t * 10 - 0.75) * c4) + 1;
};

// è·é›¢ã«åŸºã¥ãå‹•çš„ãªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ™‚é–“è¨ˆç®—
const calculateDuration = (start: THREE.Vector3, end: THREE.Vector3): number => {
  const distance = start.distanceTo(end);
  // æœ€å°500msã€æœ€å¤§2000msã€è·é›¢ã«å¿œã˜ã¦ç·šå½¢ã«å¢—åŠ 
  return Math.min(2000, Math.max(500, distance * 50));
};
```

#### 1.2 å‹•çš„ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é€Ÿåº¦ã®å®Ÿè£…
```typescript
const animateToPosition = useCallback((
  position: THREE.Vector3, 
  target: THREE.Vector3,
  durationOverride?: number
) => {
  if (!controls || !camera) return;

  const startPosition = camera.position.clone();
  const startTarget = controls.target.clone();
  
  // è·é›¢ã«åŸºã¥ãå‹•çš„ãªæ™‚é–“è¨ˆç®—
  const duration = durationOverride || calculateDuration(startPosition, position);
  
  let progress = 0;
  const startTime = Date.now();

  const animate = () => {
    const elapsed = Date.now() - startTime;
    progress = Math.min(elapsed / duration, 1);
    
    // ã‚ˆã‚Šæ»‘ã‚‰ã‹ãªã‚¤ãƒ¼ã‚¸ãƒ³ã‚°é–¢æ•°
    const eased = easeOutCubic(progress);
    
    camera.position.lerpVectors(startPosition, position, eased);
    controls.target.lerpVectors(startTarget, target, eased);
    
    controls.update();
    
    if (progress < 1) {
      animationRef.current = requestAnimationFrame(animate);
    } else {
      // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†æ™‚ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
      animationRef.current = undefined;
    }
  };

  // æ—¢å­˜ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«
  if (animationRef.current) {
    cancelAnimationFrame(animationRef.current);
  }
  
  animate();
}, [camera, controls]);
```

#### 1.3 ãƒã‚¦ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒœãƒƒã‚¯ã‚¹è¨ˆç®—ã®æ”¹è‰¯
```typescript
const fitToObject = useCallback((boundingBox: THREE.Box3 | null) => {
  if (!controls || !camera || !boundingBox || boundingBox.isEmpty()) return;

  try {
    // ãƒã‚¦ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒœãƒƒã‚¯ã‚¹ã®ä¸­å¿ƒã¨ã‚µã‚¤ã‚ºã‚’è¨ˆç®—
    const center = new THREE.Vector3();
    boundingBox.getCenter(center);
    
    const size = new THREE.Vector3();
    boundingBox.getSize(size);
    
    // ã‚µã‚¤ã‚ºãŒå°ã•ã™ãã‚‹å ´åˆã®å¯¾å¿œ
    if (size.length() < 0.001) {
      console.warn('Object too small, using default size');
      size.set(1, 1, 1); // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚µã‚¤ã‚º
    }
    
    // æœ€å¤§å¯¸æ³•ã‚’å–å¾—
    const maxDim = Math.max(size.x, size.y, size.z);
    
    // ã‚«ãƒ¡ãƒ©ã®è¦–é‡è§’ã«åŸºã¥ã„ã¦é©åˆ‡ãªè·é›¢ã‚’è¨ˆç®—
    const fov = camera.fov * (Math.PI / 180); // ãƒ©ã‚¸ã‚¢ãƒ³ã«å¤‰æ›
    let distance = maxDim / (2 * Math.tan(fov / 2));
    
    // ãƒ¢ãƒ‡ãƒ«ã‚µã‚¤ã‚ºã«å¿œã˜ãŸä½™è£•ã‚’æŒãŸã›ã‚‹
    const padding = 1.2 + (0.2 * Math.log10(Math.max(1, maxDim)));
    distance *= padding;
    
    // ç¾åœ¨ã®ã‚«ãƒ¡ãƒ©æ–¹å‘ã‚’ç¶­æŒ
    const direction = new THREE.Vector3();
    camera.getWorldDirection(direction);
    direction.negate(); // ã‚«ãƒ¡ãƒ©ã‹ã‚‰è¦‹ãŸæ–¹å‘ã®é€†
    
    const targetPosition = center.clone().add(direction.multiplyScalar(distance));
    
    // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹
    animateToPosition(targetPosition, center);
  } catch (error) {
    console.error('Error in fitToObject:', error);
    // ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†
  }
}, [camera, controls, animateToPosition]);
```

### ã‚¿ã‚¹ã‚¯2: CameraControls.tsxã®æ”¹è‰¯

**å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«**: `components/cad/CameraControls.tsx`

#### 2.1 data-testidå±æ€§ã®è¿½åŠ 
```typescript
<Button
  variant="outline"
  size="sm"
  onClick={() => animateToView('top')}
  className="flex items-center gap-1"
  data-testid="camera-top"
>
  <ArrowUp className="w-3 h-3" />
  Top
</Button>

// ä»–ã®ãƒœã‚¿ãƒ³ã«ã‚‚åŒæ§˜ã«
// data-testid="camera-front", data-testid="camera-right" ãªã©
// Fitãƒœã‚¿ãƒ³ã«ã¯ data-testid="camera-fit"
```

#### 2.2 ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã®æ”¹å–„
```typescript
<Button
  variant="outline"
  size="sm"
  onClick={() => animateToView('front')}
  className="flex items-center gap-1"
  data-testid="camera-front"
  aria-label="Front view"
  title="Front view"
>
  <Eye className="w-3 h-3" />
  Front
</Button>

// ã™ã¹ã¦ã®ãƒœã‚¿ãƒ³ã«é©åˆ‡ãªaria-labelã¨titleã‚’è¿½åŠ 
```

### ã‚¿ã‚¹ã‚¯3: ThreeJSViewport.tsxã®çµ±åˆæ”¹è‰¯

**å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«**: `components/threejs/ThreeJSViewport.tsx`

#### 3.1 ãƒã‚¦ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒœãƒƒã‚¯ã‚¹è¨ˆç®—ã®æœ€é©åŒ–
```typescript
// ãƒã‚¦ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒœãƒƒã‚¯ã‚¹è¨ˆç®—ã‚’æœ€é©åŒ–
const calculateBoundingBox = useCallback((objects: THREE.Object3D[]) => {
  if (!objects || objects.length === 0) return null;
  
  try {
    const box = new THREE.Box3();
    let validObjectFound = false;
    
    objects.forEach(obj => {
      // ãƒ¡ãƒƒã‚·ãƒ¥ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã¿ã‚’å¯¾è±¡ã¨ã™ã‚‹
      if (obj.type === 'Mesh' || obj.type === 'Group') {
        const objBox = new THREE.Box3().setFromObject(obj);
        if (!objBox.isEmpty() && objBox.min.length() !== Infinity && objBox.max.length() !== Infinity) {
          box.union(objBox);
          validObjectFound = true;
        }
      }
    });
    
    return validObjectFound ? box : null;
  } catch (error) {
    console.error('Error calculating bounding box:', error);
    return null;
  }
}, []);
```

#### 3.2 OrbitControlsã®è¨­å®šæœ€é©åŒ–
```typescript
<OrbitControls
  ref={controlsRef}
  enablePan={true}
  enableZoom={true}
  enableRotate={true}
  dampingFactor={0.05}
  enableDamping={true}
  minDistance={0.1}
  maxDistance={5000}
  minPolarAngle={0}
  maxPolarAngle={Math.PI}
  minAzimuthAngle={-Infinity}
  maxAzimuthAngle={Infinity}
  panSpeed={1.0}
  rotateSpeed={1.0}
  zoomSpeed={1.0}
  // ã‚«ãƒ¡ãƒ©ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä¸­ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã‚’ç„¡åŠ¹åŒ–
  enabled={!isAnimating}
/>
```

### ã‚¿ã‚¹ã‚¯4: ã‚«ãƒ¡ãƒ©ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä¸­ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

#### 4.1 ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä¸­ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æœ€é©åŒ–
```typescript
// useCameraAnimation.tså†…
const [isAnimating, setIsAnimating] = useState(false);

const animateToPosition = useCallback((
  // ...æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰
) => {
  // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹æ™‚ã«ãƒ•ãƒ©ã‚°ã‚’ã‚»ãƒƒãƒˆ
  setIsAnimating(true);
  
  const animate = () => {
    // ...æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰
    
    if (progress < 1) {
      animationRef.current = requestAnimationFrame(animate);
    } else {
      // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†æ™‚ã«ãƒ•ãƒ©ã‚°ã‚’ãƒªã‚»ãƒƒãƒˆ
      setIsAnimating(false);
      animationRef.current = undefined;
    }
  };
  
  // ...æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰
}, [camera, controls]);

// isAnimatingã‚’returnã«è¿½åŠ 
return {
  fitToObject,
  animateToPosition,
  isAnimating
};
```

### ã‚¿ã‚¹ã‚¯5: ãƒ†ã‚¹ãƒˆã®æ”¹è‰¯ãƒ»å®‰å®šåŒ–

**å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«**: `tests/camera-controls.spec.ts`

#### 5.1 ãƒ†ã‚¹ãƒˆå®‰å®šæ€§ã®å‘ä¸Š
```typescript
// ãƒ†ã‚¹ãƒˆã®å¾…æ©Ÿæ™‚é–“ã‚’é©åˆ‡ã«èª¿æ•´
test('ã‚«ãƒ¡ãƒ©ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚¹ãƒ ãƒ¼ã‚ºã«å‹•ä½œã™ã‚‹', async ({ page }) => {
  // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†ã‚’æ¤œå‡ºã™ã‚‹é–¢æ•°
  await page.evaluate(() => {
    window._animationComplete = false;
    const originalRequestAnimationFrame = window.requestAnimationFrame;
    
    window.requestAnimationFrame = function(callback) {
      const id = originalRequestAnimationFrame(callback);
      setTimeout(() => {
        window._animationComplete = true;
      }, 2000); // ååˆ†ãªæ™‚é–“ã‚’è¨­å®š
      return id;
    };
  });
  
  // è¦–ç‚¹åˆ‡ã‚Šæ›¿ãˆ
  await page.click('[data-testid="camera-front"]');
  
  // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†ã‚’å¾…æ©Ÿï¼ˆã‚ˆã‚Šå®‰å®šçš„ï¼‰
  await page.waitForFunction(() => window._animationComplete === true, { timeout: 5000 });
  
  // æ¬¡ã®è¦–ç‚¹åˆ‡ã‚Šæ›¿ãˆ
  await page.click('[data-testid="camera-top"]');
  
  // åŒæ§˜ã«å¾…æ©Ÿ
  await page.waitForFunction(() => window._animationComplete === true, { timeout: 5000 });
  
  // æ¤œè¨¼
  const consoleErrors = await page.evaluate(() => {
    return window.console.error.calls || [];
  });
  expect(consoleErrors.length).toBe(0);
});
```

## âœ… å®Œäº†æ¡ä»¶

### å¿…é ˆè¦ä»¶
1. **ã‚¹ãƒ ãƒ¼ã‚ºãªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³**: æ”¹è‰¯ã•ã‚ŒãŸã‚¤ãƒ¼ã‚¸ãƒ³ã‚°é–¢æ•°ã«ã‚ˆã‚‹è‡ªç„¶ãªå‹•ã
2. **å‹•çš„ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é€Ÿåº¦**: è·é›¢ã«å¿œã˜ãŸé©åˆ‡ãªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ™‚é–“
3. **ãƒã‚¦ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒœãƒƒã‚¯ã‚¹æœ€é©åŒ–**: æ§˜ã€…ãªã‚µã‚¤ã‚ºã®ãƒ¢ãƒ‡ãƒ«ã«å¯¾ã™ã‚‹é©åˆ‡ãªè·é›¢è¨ˆç®—
4. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ï¼ˆç©ºã®ã‚·ãƒ¼ãƒ³ãªã©ï¼‰ã«å¯¾ã™ã‚‹é©åˆ‡ãªå‡¦ç†
5. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„**: ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä¸­ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¬ãƒ¼ãƒˆç¶­æŒ

### ãƒ†ã‚¹ãƒˆåŸºæº–
1. **æ—¢å­˜ãƒ†ã‚¹ãƒˆã®ãƒ‘ã‚¹**: æ—¢å­˜ã®ã‚«ãƒ¡ãƒ©ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ†ã‚¹ãƒˆãŒå®‰å®šã—ã¦æˆåŠŸ
2. **ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆ**: æ¥µç«¯ãªã‚µã‚¤ã‚ºã®ãƒ¢ãƒ‡ãƒ«ã§ã®ãƒ†ã‚¹ãƒˆè¿½åŠ 
3. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ**: ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä¸­ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¬ãƒ¼ãƒˆç›£è¦–ãƒ†ã‚¹ãƒˆ

## ğŸ§ª æ¤œè¨¼æ‰‹é †

1. **åŸºæœ¬æ©Ÿèƒ½ç¢ºèª**:
   ```bash
   # é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
   npm run dev
   
   # å„è¦–ç‚¹åˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ã¨Fitãƒœã‚¿ãƒ³ã‚’æ“ä½œã—ã¦å‹•ä½œç¢ºèª
   ```

2. **ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ**:
   ```bash
   # ã‚«ãƒ¡ãƒ©ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
   npx playwright test tests/camera-controls.spec.ts
   
   # å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã§æ—¢å­˜æ©Ÿèƒ½ã¸ã®å½±éŸ¿ç¢ºèª
   npm run test
   ```

3. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¤œè¨¼**:
   - Chrome DevToolsã®Performanceã‚¿ãƒ–ã§ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä¸­ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¬ãƒ¼ãƒˆæ¸¬å®š
   - ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ãŒãªã„ã“ã¨ã‚’ç¢ºèª

## ğŸ“‹ æˆæœç‰©

1. **æ”¹è‰¯ã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰**:
   - `hooks/useCameraAnimation.ts`
   - `components/cad/CameraControls.tsx`
   - `components/threejs/ThreeJSViewport.tsx`

2. **ãƒ†ã‚¹ãƒˆ**:
   - æ”¹è‰¯ã•ã‚ŒãŸ `tests/camera-controls.spec.ts`

3. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°**:
   - `docs/7_cascadestudio_migration/feature_comparison.md` ã®ã€Œã‚«ãƒ¡ãƒ©ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°
   - `docs/7_cascadestudio_migration/implementation_tasks.md` ã®é€²æ—æ›´æ–°

## ğŸš¨ æ³¨æ„äº‹é …

1. **æ—¢å­˜æ©Ÿèƒ½ã¨ã®ç«¶åˆå›é¿**: ãƒ›ãƒãƒ¼ãƒã‚¤ãƒ©ã‚¤ãƒˆã€TransformControlsã¨ã®ç«¶åˆã‚’é¿ã‘ã‚‹
2. **ãƒ¡ãƒ¢ãƒªç®¡ç†**: ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ã¨ãƒªã‚½ãƒ¼ã‚¹ã®é©åˆ‡ãªè§£æ”¾
3. **TypeScriptå‹å®‰å…¨æ€§**: å…¨ã¦ã®å¤‰æ›´ãŒstrict modeã«æº–æ‹ ã—ã¦ã„ã‚‹ã“ã¨
4. **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®é©åˆ‡ãªARIAå±æ€§è¨­å®š

## ğŸ“ ã‚µãƒãƒ¼ãƒˆãƒ»å‚è€ƒãƒªã‚½ãƒ¼ã‚¹

- **React Three Fiber**: https://docs.pmnd.rs/react-three-fiber/api/hooks#usethree
- **Three.js OrbitControls**: https://threejs.org/docs/#examples/en/controls/OrbitControls
- **ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¤ãƒ¼ã‚¸ãƒ³ã‚°é–¢æ•°**: https://easings.net/

ã“ã®æ”¹è‰¯ã«ã‚ˆã‚Šã€ã‚«ãƒ¡ãƒ©ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ãŒå¤§å¹…ã«å‘ä¸Šã—ã€ãƒ•ã‚§ãƒ¼ã‚º2.2ã®å®Œæˆåº¦ãŒã•ã‚‰ã«é«˜ã¾ã‚Šã¾ã™ã€‚ 